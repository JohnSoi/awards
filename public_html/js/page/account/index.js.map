{"version":3,"file":"/js/page/account/index.js","mappings":"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","sources":["webpack:///../js-modules/cursorStatus.js","webpack:///./node_modules/lottie-web/build/player/lottie.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./node_modules/ssr-window/ssr-window.esm.js","webpack:///./node_modules/dom7/dom7.esm.js","webpack:///./node_modules/swiper/esm/utils/dom.js","webpack:///./node_modules/swiper/esm/utils/get-support.js","webpack:///./node_modules/swiper/esm/utils/get-device.js","webpack:///./node_modules/swiper/esm/utils/get-browser.js","webpack:///./node_modules/swiper/esm/utils/utils.js","webpack:///./node_modules/swiper/esm/modules/resize/resize.js","webpack:///./node_modules/swiper/esm/modules/observer/observer.js","webpack:///./node_modules/swiper/esm/components/core/events/onTouchStart.js","webpack:///./node_modules/swiper/esm/components/core/events/onTouchMove.js","webpack:///./node_modules/swiper/esm/components/core/events/onTouchEnd.js","webpack:///./node_modules/swiper/esm/components/core/events/onResize.js","webpack:///./node_modules/swiper/esm/components/core/events/onClick.js","webpack:///./node_modules/swiper/esm/components/core/events/onScroll.js","webpack:///./node_modules/swiper/esm/components/core/events/index.js","webpack:///./node_modules/swiper/esm/components/core/check-overflow/index.js","webpack:///./node_modules/swiper/esm/components/core/defaults.js","webpack:///./node_modules/swiper/esm/components/core/core-class.js","webpack:///./node_modules/swiper/esm/components/core/modular.js","webpack:///./node_modules/swiper/esm/components/core/events-emitter.js","webpack:///./node_modules/swiper/esm/components/core/update/index.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSize.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlides.js","webpack:///./node_modules/swiper/esm/components/core/update/updateAutoHeight.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlidesOffset.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlidesProgress.js","webpack:///./node_modules/swiper/esm/components/core/update/updateProgress.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlidesClasses.js","webpack:///./node_modules/swiper/esm/components/core/update/updateActiveIndex.js","webpack:///./node_modules/swiper/esm/components/core/update/updateClickedSlide.js","webpack:///./node_modules/swiper/esm/components/core/translate/index.js","webpack:///./node_modules/swiper/esm/components/core/translate/getTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/setTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/minTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/maxTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/translateTo.js","webpack:///./node_modules/swiper/esm/components/core/transition/index.js","webpack:///./node_modules/swiper/esm/components/core/transition/setTransition.js","webpack:///./node_modules/swiper/esm/components/core/transition/transitionStart.js","webpack:///./node_modules/swiper/esm/components/core/transition/transitionEnd.js","webpack:///./node_modules/swiper/esm/components/core/slide/index.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideTo.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideToLoop.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideNext.js","webpack:///./node_modules/swiper/esm/components/core/slide/slidePrev.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideReset.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideToClosest.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideToClickedSlide.js","webpack:///./node_modules/swiper/esm/components/core/loop/index.js","webpack:///./node_modules/swiper/esm/components/core/loop/loopCreate.js","webpack:///./node_modules/swiper/esm/components/core/loop/loopFix.js","webpack:///./node_modules/swiper/esm/components/core/loop/loopDestroy.js","webpack:///./node_modules/swiper/esm/components/core/grab-cursor/index.js","webpack:///./node_modules/swiper/esm/components/core/grab-cursor/setGrabCursor.js","webpack:///./node_modules/swiper/esm/components/core/grab-cursor/unsetGrabCursor.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/index.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/appendSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/prependSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/addSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/removeSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/removeAllSlides.js","webpack:///./node_modules/swiper/esm/components/core/breakpoints/index.js","webpack:///./node_modules/swiper/esm/components/core/breakpoints/setBreakpoint.js","webpack:///./node_modules/swiper/esm/components/core/breakpoints/getBreakpoint.js","webpack:///./node_modules/swiper/esm/components/core/classes/index.js","webpack:///./node_modules/swiper/esm/components/core/classes/addClasses.js","webpack:///./node_modules/swiper/esm/components/core/classes/removeClasses.js","webpack:///./node_modules/swiper/esm/components/core/images/index.js","webpack:///./node_modules/swiper/esm/components/core/images/loadImage.js","webpack:///./node_modules/swiper/esm/components/core/images/preloadImages.js","webpack:///./node_modules/swiper/esm/components/virtual/virtual.js","webpack:///./node_modules/swiper/esm/components/keyboard/keyboard.js","webpack:///./node_modules/swiper/esm/components/mousewheel/mousewheel.js","webpack:///./node_modules/swiper/esm/components/navigation/navigation.js","webpack:///./node_modules/swiper/esm/components/pagination/pagination.js","webpack:///./node_modules/swiper/esm/components/scrollbar/scrollbar.js","webpack:///./node_modules/swiper/esm/components/parallax/parallax.js","webpack:///./node_modules/swiper/esm/components/zoom/zoom.js","webpack:///./node_modules/swiper/esm/components/lazy/lazy.js","webpack:///./node_modules/swiper/esm/components/controller/controller.js","webpack:///./node_modules/swiper/esm/components/a11y/a11y.js","webpack:///./node_modules/swiper/esm/components/history/history.js","webpack:///./node_modules/swiper/esm/components/hash-navigation/hash-navigation.js","webpack:///./node_modules/swiper/esm/components/autoplay/autoplay.js","webpack:///./node_modules/swiper/esm/components/effect-fade/effect-fade.js","webpack:///./node_modules/swiper/esm/components/effect-cube/effect-cube.js","webpack:///./node_modules/swiper/esm/components/effect-flip/effect-flip.js","webpack:///./node_modules/swiper/esm/components/effect-coverflow/effect-coverflow.js","webpack:///./node_modules/swiper/esm/components/thumbs/thumbs.js","webpack:///./node_modules/swiper/swiper-bundle.esm.js","webpack:///./resources/js/block/animation.js","webpack:///../js-modules/Cursor.js","webpack:///./resources/js/block/sliderCursor.js","webpack:///./resources/js/block/swiperOptions.js","webpack:///./resources/js/page/account/index.js"],"sourcesContent":["// cursorStatus.create(elem)\r\n\r\nwindow.cursorStatus = {\r\n\r\n    timer: false,\r\n\r\n    isLeftHalf_old: false,\r\n    hoverElem: false,\r\n\r\n    mousemoveHref: function (event, options) {\r\n        $(options.cursor).hide();\r\n\r\n        var elem = $(document.elementFromPoint(event.clientX, event.clientY));\r\n\r\n        if (elem[0].tagName != 'A') {\r\n            $(options.cursor).show();\r\n        }\r\n    },\r\n\r\n    create: function (elem, options) {\r\n        var cursor = {\r\n            height: options.cursor ? $(options.cursor).height() / 2 : 0,\r\n            width: options.cursor ? $(options.cursor).width() / 2 : 0\r\n        }\r\n\r\n        var elemMouseMove = function (this_elem) {\r\n            this_elem.on('mousemove', function () {\r\n                $(this).off('mousemove');\r\n                setTimeout(function () {\r\n                    bodyMouseMove(this_elem);\r\n                }, 0);\r\n            });\r\n        }\r\n\r\n        var bodyMouseMove = function (this_elem) {\r\n            $('body').on('mousemove', function (event) {\r\n                if (options.cursor) {\r\n                    $(options.cursor).css({\r\n                        top: event.clientY - cursor.height,\r\n                        left: event.clientX - cursor.width\r\n                    });\r\n\r\n                    cursorStatus.mousemoveHref(event, options);\r\n                }\r\n\r\n                if (!cursorStatus.timer) {\r\n                    cursorStatus.timer = setTimeout(function () {\r\n                        cursorStatus.changeClass(this_elem, event);\r\n                        cursorStatus.elemHover(options, event);\r\n\r\n                        if (this_elem.isMouseOver(event.pageY)) {\r\n                            $('body').removeClass('cursor-off');\r\n                        } else {\r\n                            $('body').addClass('cursor-off').off('mousemove');\r\n                            setTimeout(function () {\r\n                                elemMouseMove(this_elem);\r\n                            }, 0);\r\n                        }\r\n\r\n                        cursorStatus.timer = false;\r\n                    }, 100);\r\n                }\r\n            });\r\n        }\r\n\r\n        elemMouseMove(elem);\r\n\r\n        cursorStatus.elemClick(elem, options);\r\n    },\r\n\r\n    bodyTriggerMousemoveTimer: false,\r\n    bodyTriggerMousemove: function (eventClick) {\r\n        if (cursorStatus.bodyTriggerMousemoveTimer) {\r\n            clearTimeout(cursorStatus.bodyTriggerMousemoveTimer);\r\n        }\r\n\r\n        cursorStatus.bodyTriggerMousemoveTimer = setTimeout(function () {\r\n            var event = $.Event('mousemove');\r\n            event.pageX = eventClick.pageX;\r\n            event.pageY = eventClick.pageY;\r\n            $('body').trigger(event);\r\n        }, 500);\r\n    },\r\n\r\n    elemClickTimer: false,\r\n    elemClick: function (elem, options) {\r\n        if (typeof options.on === 'object' && options.on != null) {\r\n            if (options.on.click) {\r\n                if (options.cursor) {\r\n                    $(options.cursor).on('click', function (event) {\r\n                        $(this).hide();\r\n                        cursorStatus.hoverElem = document.elementFromPoint(event.clientX, event.clientY);\r\n                        $(this).show();\r\n\r\n                        if (elem.isMouseOver(event.pageY)) {\r\n                            options.on.click(elem.eq(isMouseOverI));\r\n                            cursorStatus.bodyTriggerMousemove(event);\r\n                        }\r\n                    });\r\n                } else {\r\n                    elem.on('click', function () {\r\n                        options.on.click(elem);\r\n                        cursorStatus.bodyTriggerMousemove(event);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    elemHoverIndex: 0,\r\n    elemHover: function (options, event) {\r\n        if (options.hover) {\r\n            if ($(options.hover).isMouseOver(event.pageY, event.pageX)) {\r\n                var elem = $(options.hover).eq(isMouseOverI);\r\n\r\n                if (!elem.hasClass('hover')) {\r\n                    cursorStatus.elemHoverIndex++;\r\n\r\n                    $(options.hover).eq(isMouseOverI)\r\n                        .addClass('hover')\r\n                        .attr('data-cursor-index', cursorStatus.elemHoverIndex);\r\n\r\n                    $('[data-cursor-index!=\"' + cursorStatus.elemHoverIndex + '\"]').removeClass('hover');\r\n                }\r\n            } else {\r\n                $('[data-cursor-index]').removeClass('hover');\r\n            }\r\n        }\r\n    },\r\n\r\n    changeClass: function (elem, event) {\r\n        var left = cursorStatus.isLeftHalf(elem, event);\r\n\r\n        if (left) {\r\n            $('body').addClass('cursor-left');\r\n            $('body').removeClass('cursor-right');\r\n        } else {\r\n            $('body').removeClass('cursor-left');\r\n            $('body').addClass('cursor-right');\r\n        }\r\n\r\n        var cursor_color = 'black';\r\n\r\n        if ($('.black-block').isMouseOver(event.pageY, event.pageX)) {\r\n            cursor_color = 'white';\r\n        }\r\n\r\n        if ($('.white').isMouseOver(event.pageY, event.pageX)) {\r\n            cursor_color = 'black';\r\n        }\r\n\r\n        if ($('.black').isMouseOver(event.pageY, event.pageX)) {\r\n            cursor_color = 'white';\r\n        }\r\n\r\n        if (cursor_color == 'black') {\r\n            $('body').addClass('cursor-black');\r\n            $('body').removeClass('cursor-white');\r\n        } else {\r\n            $('body').addClass('cursor-white');\r\n            $('body').removeClass('cursor-black');\r\n        }\r\n    },\r\n\r\n    isLeftHalf: function (elem, event) {\r\n        var document_width = $(elem).width(),\r\n            document_half = document_width / 2;\r\n\r\n        return cursorStatus.isLeftHalf_old = event.pageX < document_half;\r\n    }\r\n\r\n}","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix, idPrefix:writable */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin, idPrefix */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar idPrefix = '';\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return idPrefix + '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var callbacks = this._cbs[eventName];\r\n      for (var i = 0; i < callbacks.length; i += 1) {\r\n        callbacks[i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* exported lineCapEnum, lineJoinEnum */\r\n\r\nvar lineCapEnum = {\r\n  1: 'butt',\r\n  2: 'round',\r\n  3: 'square',\r\n};\r\n\r\nvar lineJoinEnum = {\r\n  1: 'miter',\r\n  2: 'round',\r\n  3: 'bevel',\r\n};\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* exported dataManager */\r\n\r\nfunction dataFunctionManager() {\r\n  // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n  function completeLayers(layers, comps, fontManager) {\r\n    var layerData;\r\n    var i;\r\n    var len = layers.length;\r\n    var j;\r\n    var jLen;\r\n    var k;\r\n    var kLen;\r\n    for (i = 0; i < len; i += 1) {\r\n      layerData = layers[i];\r\n      if (('ks' in layerData) && !layerData.completed) {\r\n        layerData.completed = true;\r\n        if (layerData.tt) {\r\n          layers[i - 1].td = layerData.tt;\r\n        }\r\n        if (layerData.hasMask) {\r\n          var maskProps = layerData.masksProperties;\r\n          jLen = maskProps.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (maskProps[j].pt.k.i) {\r\n              convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n            } else {\r\n              kLen = maskProps[j].pt.k.length;\r\n              for (k = 0; k < kLen; k += 1) {\r\n                if (maskProps[j].pt.k[k].s) {\r\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                }\r\n                if (maskProps[j].pt.k[k].e) {\r\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (layerData.ty === 0) {\r\n          layerData.layers = findCompLayers(layerData.refId, comps);\r\n          completeLayers(layerData.layers, comps, fontManager);\r\n        } else if (layerData.ty === 4) {\r\n          completeShapes(layerData.shapes);\r\n        } else if (layerData.ty === 5) {\r\n          completeText(layerData, fontManager);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function findCompLayers(id, comps) {\r\n    var i = 0;\r\n    var len = comps.length;\r\n    while (i < len) {\r\n      if (comps[i].id === id) {\r\n        if (!comps[i].layers.__used) {\r\n          comps[i].layers.__used = true;\r\n          return comps[i].layers;\r\n        }\r\n        return JSON.parse(JSON.stringify(comps[i].layers));\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function completeShapes(arr) {\r\n    var i;\r\n    var len = arr.length;\r\n    var j;\r\n    var jLen;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (arr[i].ty === 'sh') {\r\n        if (arr[i].ks.k.i) {\r\n          convertPathsToAbsoluteValues(arr[i].ks.k);\r\n        } else {\r\n          jLen = arr[i].ks.k.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (arr[i].ks.k[j].s) {\r\n              convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n            }\r\n            if (arr[i].ks.k[j].e) {\r\n              convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n            }\r\n          }\r\n        }\r\n      } else if (arr[i].ty === 'gr') {\r\n        completeShapes(arr[i].it);\r\n      }\r\n    }\r\n  }\r\n\r\n  function convertPathsToAbsoluteValues(path) {\r\n    var i;\r\n    var len = path.i.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      path.i[i][0] += path.v[i][0];\r\n      path.i[i][1] += path.v[i][1];\r\n      path.o[i][0] += path.v[i][0];\r\n      path.o[i][1] += path.v[i][1];\r\n    }\r\n  }\r\n\r\n  function checkVersion(minimum, animVersionString) {\r\n    var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n    if (minimum[0] > animVersion[0]) {\r\n      return true;\r\n    } if (animVersion[0] > minimum[0]) {\r\n      return false;\r\n    }\r\n    if (minimum[1] > animVersion[1]) {\r\n      return true;\r\n    } if (animVersion[1] > minimum[1]) {\r\n      return false;\r\n    }\r\n    if (minimum[2] > animVersion[2]) {\r\n      return true;\r\n    } if (animVersion[2] > minimum[2]) {\r\n      return false;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  var checkText = (function () {\r\n    var minimumVersion = [4, 4, 14];\r\n\r\n    function updateTextLayer(textLayer) {\r\n      var documentData = textLayer.t.d;\r\n      textLayer.t.d = {\r\n        k: [\r\n          {\r\n            s: documentData,\r\n            t: 0,\r\n          },\r\n        ],\r\n      };\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var i;\r\n      var len = layers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (layers[i].ty === 5) {\r\n          updateTextLayer(layers[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkChars = (function () {\r\n    var minimumVersion = [4, 7, 99];\r\n    return function (animationData) {\r\n      if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n        var i;\r\n        var len = animationData.chars.length;\r\n        var j;\r\n        var jLen;\r\n        var pathData;\r\n        var paths;\r\n        for (i = 0; i < len; i += 1) {\r\n          if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n            paths = animationData.chars[i].data.shapes[0].it;\r\n            jLen = paths.length;\r\n\r\n            for (j = 0; j < jLen; j += 1) {\r\n              pathData = paths[j].ks.k;\r\n              if (!pathData.__converted) {\r\n                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                pathData.__converted = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkColors = (function () {\r\n    var minimumVersion = [4, 1, 9];\r\n\r\n    function iterateShapes(shapes) {\r\n      var i;\r\n      var len = shapes.length;\r\n      var j;\r\n      var jLen;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (shapes[i].ty === 'gr') {\r\n          iterateShapes(shapes[i].it);\r\n        } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n          if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n            jLen = shapes[i].c.k.length;\r\n            for (j = 0; j < jLen; j += 1) {\r\n              if (shapes[i].c.k[j].s) {\r\n                shapes[i].c.k[j].s[0] /= 255;\r\n                shapes[i].c.k[j].s[1] /= 255;\r\n                shapes[i].c.k[j].s[2] /= 255;\r\n                shapes[i].c.k[j].s[3] /= 255;\r\n              }\r\n              if (shapes[i].c.k[j].e) {\r\n                shapes[i].c.k[j].e[0] /= 255;\r\n                shapes[i].c.k[j].e[1] /= 255;\r\n                shapes[i].c.k[j].e[2] /= 255;\r\n                shapes[i].c.k[j].e[3] /= 255;\r\n              }\r\n            }\r\n          } else {\r\n            shapes[i].c.k[0] /= 255;\r\n            shapes[i].c.k[1] /= 255;\r\n            shapes[i].c.k[2] /= 255;\r\n            shapes[i].c.k[3] /= 255;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var i;\r\n      var len = layers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (layers[i].ty === 4) {\r\n          iterateShapes(layers[i].shapes);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkShapes = (function () {\r\n    var minimumVersion = [4, 4, 18];\r\n\r\n    function completeClosingShapes(arr) {\r\n      var i;\r\n      var len = arr.length;\r\n      var j;\r\n      var jLen;\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        if (arr[i].ty === 'sh') {\r\n          if (arr[i].ks.k.i) {\r\n            arr[i].ks.k.c = arr[i].closed;\r\n          } else {\r\n            jLen = arr[i].ks.k.length;\r\n            for (j = 0; j < jLen; j += 1) {\r\n              if (arr[i].ks.k[j].s) {\r\n                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n              }\r\n              if (arr[i].ks.k[j].e) {\r\n                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n              }\r\n            }\r\n          }\r\n        } else if (arr[i].ty === 'gr') {\r\n          completeClosingShapes(arr[i].it);\r\n        }\r\n      }\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var layerData;\r\n      var i;\r\n      var len = layers.length;\r\n      var j;\r\n      var jLen;\r\n      var k;\r\n      var kLen;\r\n      for (i = 0; i < len; i += 1) {\r\n        layerData = layers[i];\r\n        if (layerData.hasMask) {\r\n          var maskProps = layerData.masksProperties;\r\n          jLen = maskProps.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (maskProps[j].pt.k.i) {\r\n              maskProps[j].pt.k.c = maskProps[j].cl;\r\n            } else {\r\n              kLen = maskProps[j].pt.k.length;\r\n              for (k = 0; k < kLen; k += 1) {\r\n                if (maskProps[j].pt.k[k].s) {\r\n                  maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                }\r\n                if (maskProps[j].pt.k[k].e) {\r\n                  maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (layerData.ty === 4) {\r\n          completeClosingShapes(layerData.shapes);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  function completeData(animationData, fontManager) {\r\n    if (animationData.__complete) {\r\n      return;\r\n    }\r\n    checkColors(animationData);\r\n    checkText(animationData);\r\n    checkChars(animationData);\r\n    checkShapes(animationData);\r\n    completeLayers(animationData.layers, animationData.assets, fontManager);\r\n    animationData.__complete = true;\r\n  }\r\n\r\n  function completeText(data) {\r\n    if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n      data.singleShape = true;\r\n    }\r\n  }\r\n\r\n  var moduleOb = {};\r\n  moduleOb.completeData = completeData;\r\n  moduleOb.checkColors = checkColors;\r\n  moduleOb.checkChars = checkChars;\r\n  moduleOb.checkShapes = checkShapes;\r\n  moduleOb.completeLayers = completeLayers;\r\n\r\n  return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  var surrogateModifiers = [\r\n    'd83cdffb',\r\n    'd83cdffc',\r\n    'd83cdffd',\r\n    'd83cdffe',\r\n    'd83cdfff',\r\n  ];\r\n\r\n  var zeroWidthJoiner = [65039, 8205];\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    // Node is invisible to screen readers.\r\n    parentNode.setAttribute('aria-hidden', true);\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function isModifier(firstCharCode, secondCharCode) {\r\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n    return surrogateModifiers.indexOf(sum) !== -1;\r\n  }\r\n\r\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n    if (!secondCharCode) {\r\n      return firstCharCode === zeroWidthJoiner[1];\r\n    }\r\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n  }\r\n\r\n  function isCombinedCharacter(char) {\r\n    return combinedCharacters.indexOf(char) !== -1;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n  Font.isModifier = isModifier;\r\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n  Font.isCombinedCharacter = isCombinedCharacter;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyData.bezierData) {\r\n        keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyData.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyData.__fnct) {\r\n          fnc = keyData.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyData.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyData.__fnct) {\r\n                  keyData.__fnct = [];\r\n                }\r\n                if (!keyData.__fnct[i]) {\r\n                  outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyData.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyData.__fnct[i];\r\n                }\r\n              } else if (!keyData.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.__fnct = fnc;\r\n              } else {\r\n                fnc = keyData.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyData.__fnct) {\r\n            fnc = keyData.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyData.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  var hasReloaded = false;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n      hasReloaded = true;\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      if (!renderFlag) {\r\n        var elems = this.elemsData[i].it;\r\n        var transformData = elems[elems.length - 1];\r\n        if (transformData.transform.op.v !== 0) {\r\n          transformData.transform.op._mdf = true;\r\n          transformData.transform.op.v = 0;\r\n        } else {\r\n          transformData.transform.op._mdf = false;\r\n        }\r\n      }\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\r\n        ? this.so.v\r\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n  return hasReloaded;\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari, assetLoader */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n  function footageLoaded() {\r\n    this.loadedFootagesCount += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    if (this._elementHelper.append) {\r\n      this._elementHelper.append(img);\r\n    } else {\r\n      this._elementHelper.appendChild(img);\r\n    }\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createFootageData(data) {\r\n    var ob = {\r\n      assetData: data,\r\n    };\r\n    var path = getAssetsPath(data, this.assetsPath, this.path);\r\n    assetLoader.load(path, function (footageData) {\r\n      ob.img = footageData;\r\n      this._footageLoaded();\r\n    }.bind(this), function () {\r\n      ob.img = {};\r\n      this._footageLoaded();\r\n    }.bind(this));\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        if (!assets[i].t || assets[i].t === 'seq') {\r\n          this.totalImages += 1;\r\n          this.images.push(this._createImageData(assets[i]));\r\n        } else if (assets[i].t === 3) {\r\n          this.totalFootages += 1;\r\n          this.images.push(this.createFootageData(assets[i]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getAsset(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loadedImages() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function loadedFootages() {\r\n    return this.totalFootages === this.loadedFootagesCount;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this._footageLoaded = footageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.createFootageData = createFootageData.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.totalFootages = 0;\r\n    this.loadedAssets = 0;\r\n    this.loadedFootagesCount = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loadedImages: loadedImages,\r\n    loadedFootages: loadedFootages,\r\n    destroy: destroy,\r\n    getAsset: getAsset,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    footageLoaded: footageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId, skipCoordinates) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    if (skipCoordinates !== true) {\r\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n      fil.setAttribute('x', '0%');\r\n      fil.setAttribute('y', '0%');\r\n      fil.setAttribute('width', '100%');\r\n      fil.setAttribute('height', '100%');\r\n    }\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* exported assetLoader */\r\n\r\nvar assetLoader = (function () {\r\n  function formatResponse(xhr) {\r\n    if (xhr.response && typeof xhr.response === 'object') {\r\n      return xhr.response;\r\n    } if (xhr.response && typeof xhr.response === 'string') {\r\n      return JSON.parse(xhr.response);\r\n    } if (xhr.responseText) {\r\n      return JSON.parse(xhr.responseText);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function loadAsset(path, callback, errorCallback) {\r\n    var response;\r\n    var xhr = new XMLHttpRequest();\r\n    // set responseType after calling open or IE will break.\r\n    try {\r\n      // This crashes on Android WebView prior to KitKat\r\n      xhr.responseType = 'json';\r\n    } catch (err) {} // eslint-disable-line no-empty\r\n    xhr.onreadystatechange = function () {\r\n      if (xhr.readyState === 4) {\r\n        if (xhr.status === 200) {\r\n          response = formatResponse(xhr);\r\n          callback(response);\r\n        } else {\r\n          try {\r\n            response = formatResponse(xhr);\r\n            callback(response);\r\n          } catch (err) {\r\n            if (errorCallback) {\r\n              errorCallback(err);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n    xhr.open('GET', path, true);\r\n    xhr.send();\r\n  }\r\n  return {\r\n    load: loadAsset,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: this._textData.p.r,\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (textData.p.p) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var charactersArray = [];\r\n  var i = 0;\r\n  var len = text.length;\r\n  var charCode;\r\n  var secondCharCode;\r\n  var shouldCombine = false;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (FontManager.isCombinedCharacter(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          shouldCombine = false;\r\n        } else {\r\n          charactersArray.push(text.substr(i, 2));\r\n        }\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (charCode > 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n        shouldCombine = true;\r\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      shouldCombine = true;\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* exported markerParser */\r\n\r\nvar markerParser = (\r\n\r\n  function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr,\r\n        };\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i],\r\n            };\r\n          }\r\n        }\r\n        markers.push(markerData);\r\n      }\r\n      return markers;\r\n    };\r\n  }());\r\n\r\n/* global AudioElement, FootageElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    case 15:\r\n      return this.createFootage(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.createFootage = function (data) {\r\n  return new FootageElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global CVContextData, Matrix, extendPrototype, BaseRenderer, CVShapeElement, CVTextElement,\r\nCVImageElement, CVCompElement, CVSolidElement, SVGRenderer, createTag, createSizedArray */\r\n\r\nfunction CanvasRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.renderConfig = {\r\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n    context: (config && config.context) || null,\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n  };\r\n  this.renderConfig.dpr = (config && config.dpr) || 1;\r\n  if (this.animationItem.wrapper) {\r\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n  }\r\n  this.renderedFrame = -1;\r\n  this.globalData = {\r\n    frameNum: -1,\r\n    _mdf: false,\r\n    renderConfig: this.renderConfig,\r\n    currentGlobalAlpha: -1,\r\n  };\r\n  this.contextData = new CVContextData();\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.transformMat = new Matrix();\r\n  this.completeLayers = false;\r\n  this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer], CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n  return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n  return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n  return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n  return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n  return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function (props) {\r\n  if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n    return;\r\n  }\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n    return;\r\n  }\r\n  this.transformMat.cloneFromProps(props);\r\n  var cProps = this.contextData.cTr.props;\r\n  this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]);\r\n  // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n  this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n  var trProps = this.contextData.cTr.props;\r\n  this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function (op) {\r\n  /* if(op === 1){\r\n        return;\r\n    } */\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    return;\r\n  }\r\n  this.contextData.cO *= op < 0 ? 0 : op;\r\n  if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n    this.canvasContext.globalAlpha = this.contextData.cO;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function () {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.save();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.save();\r\n  }\r\n  var props = this.contextData.cTr.props;\r\n  if (this.contextData._length <= this.contextData.cArrPos) {\r\n    this.contextData.duplicate();\r\n  }\r\n  var i;\r\n  var arr = this.contextData.saved[this.contextData.cArrPos];\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = props[i];\r\n  }\r\n  this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n  this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.restore();\r\n    this.globalData.blendMode = 'source-over';\r\n  }\r\n  this.contextData.cArrPos -= 1;\r\n  var popped = this.contextData.saved[this.contextData.cArrPos];\r\n  var i;\r\n  var arr = this.contextData.cTr.props;\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = popped[i];\r\n  }\r\n  this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\r\n  popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n  this.contextData.cO = popped;\r\n  if (this.globalData.currentGlobalAlpha !== popped) {\r\n    this.canvasContext.globalAlpha = popped;\r\n    this.globalData.currentGlobalAlpha = popped;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function (animData) {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.container = createTag('canvas');\r\n    var containerStyle = this.animationItem.container.style;\r\n    containerStyle.width = '100%';\r\n    containerStyle.height = '100%';\r\n    var origin = '0px 0px 0px';\r\n    containerStyle.transformOrigin = origin;\r\n    containerStyle.mozTransformOrigin = origin;\r\n    containerStyle.webkitTransformOrigin = origin;\r\n    containerStyle['-webkit-transform'] = origin;\r\n    this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n    this.canvasContext = this.animationItem.container.getContext('2d');\r\n    if (this.renderConfig.className) {\r\n      this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n      this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n    }\r\n  } else {\r\n    this.canvasContext = this.renderConfig.context;\r\n  }\r\n  this.data = animData;\r\n  this.layers = animData.layers;\r\n  this.transformCanvas = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n    sx: 0,\r\n    sy: 0,\r\n    tx: 0,\r\n    ty: 0,\r\n  };\r\n  this.setupGlobalData(animData, document.body);\r\n  this.globalData.canvasContext = this.canvasContext;\r\n  this.globalData.renderer = this;\r\n  this.globalData.isDashed = false;\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.globalData.transformCanvas = this.transformCanvas;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n\r\n  this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n  this.reset();\r\n  var elementWidth;\r\n  var elementHeight;\r\n  if (this.animationItem.wrapper && this.animationItem.container) {\r\n    elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\r\n    this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\r\n  } else {\r\n    elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n    elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n  }\r\n  var elementRel;\r\n  var animationRel;\r\n  if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n    var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n    var fillType = par[1] || 'meet';\r\n    var pos = par[0] || 'xMidYMid';\r\n    var xPos = pos.substr(0, 4);\r\n    var yPos = pos.substr(4);\r\n    elementRel = elementWidth / elementHeight;\r\n    animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n    if ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice')) {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    } else {\r\n      this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    }\r\n\r\n    if (xPos === 'xMid' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = ((elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2) * this.renderConfig.dpr;\r\n    } else if (xPos === 'xMax' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.tx = 0;\r\n    }\r\n    if (yPos === 'YMid' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2) * this.renderConfig.dpr;\r\n    } else if (yPos === 'YMax' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w))) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n  } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n    this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  } else {\r\n    this.transformCanvas.sx = this.renderConfig.dpr;\r\n    this.transformCanvas.sy = this.renderConfig.dpr;\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  }\r\n  this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n  /* var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    } */\r\n  this.ctxTransform(this.transformCanvas.props);\r\n  this.canvasContext.beginPath();\r\n  this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n  this.canvasContext.closePath();\r\n  this.canvasContext.clip();\r\n\r\n  this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n  if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.globalData.canvasContext = null;\r\n  this.animationItem.container = null;\r\n  this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function (num, forceRender) {\r\n  if ((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1) {\r\n    return;\r\n  }\r\n  this.renderedFrame = num;\r\n  this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n  this.globalData.frameId += 1;\r\n  this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n\r\n  // console.log('--------');\r\n  // console.log('NEW: ',num);\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    if (this.renderConfig.clearCanvas === true) {\r\n      this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    } else {\r\n      this.save();\r\n    }\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n    if (this.renderConfig.clearCanvas !== true) {\r\n      this.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  var element = this.createItem(this.layers[pos], this, this.globalData);\r\n  elements[pos] = element;\r\n  element.initExpressions();\r\n  /* if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    } */\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function () {\r\n  this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function () {\r\n  this.animationItem.container.style.display = 'block';\r\n};\r\n\r\n/* global extendPrototype, BaseRenderer, SVGRenderer, SVGShapeElement, HShapeElement, SVGTextLottieElement,\r\nHTextElement, HCameraElement, IImageElement, HImageElement, SVGCompElement, HCompElement, ISolidElement,\r\nHSolidElement, styleDiv, createTag, createNS */\r\n\r\nfunction HybridRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.renderConfig = {\r\n    className: (config && config.className) || '',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '400%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '400%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '-100%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '-100%',\r\n    },\r\n  };\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.pendingElements = [];\r\n  this.elements = [];\r\n  this.threeDElements = [];\r\n  this.destroyed = false;\r\n  this.camera = null;\r\n  this.supports3d = true;\r\n  this.rendererType = 'html';\r\n}\r\n\r\nextendPrototype([BaseRenderer], HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newDOMElement = element.getBaseElement();\r\n  if (!newDOMElement) {\r\n    return;\r\n  }\r\n  var layer = this.layers[pos];\r\n  if (!layer.ddd || !this.supports3d) {\r\n    if (this.threeDElements) {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    } else {\r\n      var i = 0;\r\n      var nextDOMElement;\r\n      var nextLayer;\r\n      var tmpDOMElement;\r\n      while (i < pos) {\r\n        if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n          nextLayer = this.elements[i];\r\n          tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n          nextDOMElement = tmpDOMElement || nextDOMElement;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (nextDOMElement) {\r\n        if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n        }\r\n      } else if (!layer.ddd || !this.supports3d) {\r\n        this.layerElement.appendChild(newDOMElement);\r\n      }\r\n    }\r\n  } else {\r\n    this.addTo3dContainer(newDOMElement, pos);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  }\r\n  return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  }\r\n  return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n  this.camera = new HCameraElement(data, this.globalData, this);\r\n  return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n  if (!this.supports3d) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  }\r\n  return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  }\r\n  return new HCompElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n  if (!this.supports3d) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  }\r\n  return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function (pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n      return this.threeDElements[i].perspectiveElem;\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function (pos, type) {\r\n  var perspectiveElem = createTag('div');\r\n  var style;\r\n  var containerStyle;\r\n  styleDiv(perspectiveElem);\r\n  var container = createTag('div');\r\n  styleDiv(container);\r\n  if (type === '3d') {\r\n    style = perspectiveElem.style;\r\n    style.width = this.globalData.compSize.w + 'px';\r\n    style.height = this.globalData.compSize.h + 'px';\r\n    var center = '50% 50%';\r\n    style.webkitTransformOrigin = center;\r\n    style.mozTransformOrigin = center;\r\n    style.transformOrigin = center;\r\n    containerStyle = container.style;\r\n    var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    containerStyle.transform = matrix;\r\n    containerStyle.webkitTransform = matrix;\r\n  }\r\n\r\n  perspectiveElem.appendChild(container);\r\n  // this.resizerElem.appendChild(perspectiveElem);\r\n  var threeDContainerData = {\r\n    container: container,\r\n    perspectiveElem: perspectiveElem,\r\n    startPos: pos,\r\n    endPos: pos,\r\n    type: type,\r\n  };\r\n  this.threeDElements.push(threeDContainerData);\r\n  return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var lastThreeDContainerData;\r\n  var currentContainer = '';\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n      if (currentContainer !== '3d') {\r\n        currentContainer = '3d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    } else {\r\n      if (currentContainer !== '2d') {\r\n        currentContainer = '2d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    }\r\n  }\r\n  len = this.threeDElements.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (pos <= this.threeDElements[i].endPos) {\r\n      var j = this.threeDElements[i].startPos;\r\n      var nextElement;\r\n      while (j < pos) {\r\n        if (this.elements[j] && this.elements[j].getBaseElement) {\r\n          nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n      }\r\n      if (nextElement) {\r\n        this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n      } else {\r\n        this.threeDElements[i].container.appendChild(elem);\r\n      }\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function (animData) {\r\n  var resizerElem = createTag('div');\r\n  var wrapper = this.animationItem.wrapper;\r\n  var style = resizerElem.style;\r\n  style.width = animData.w + 'px';\r\n  style.height = animData.h + 'px';\r\n  this.resizerElem = resizerElem;\r\n  styleDiv(resizerElem);\r\n  style.transformStyle = 'flat';\r\n  style.mozTransformStyle = 'flat';\r\n  style.webkitTransformStyle = 'flat';\r\n  if (this.renderConfig.className) {\r\n    resizerElem.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  wrapper.appendChild(resizerElem);\r\n\r\n  style.overflow = 'hidden';\r\n  var svg = createNS('svg');\r\n  svg.setAttribute('width', '1');\r\n  svg.setAttribute('height', '1');\r\n  styleDiv(svg);\r\n  this.resizerElem.appendChild(svg);\r\n  var defs = createNS('defs');\r\n  svg.appendChild(defs);\r\n  this.data = animData;\r\n  // Mask animation\r\n  this.setupGlobalData(animData, svg);\r\n  this.globalData.defs = defs;\r\n  this.layers = animData.layers;\r\n  this.layerElement = this.resizerElem;\r\n  this.build3dContainers();\r\n  this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.animationItem.container = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.elements[i].destroy();\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n  var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n  var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n  var elementRel = elementWidth / elementHeight;\r\n  var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n  var sx;\r\n  var sy;\r\n  var tx;\r\n  var ty;\r\n  if (animationRel > elementRel) {\r\n    sx = elementWidth / (this.globalData.compSize.w);\r\n    sy = elementWidth / (this.globalData.compSize.w);\r\n    tx = 0;\r\n    ty = ((elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2);\r\n  } else {\r\n    sx = elementHeight / (this.globalData.compSize.h);\r\n    sy = elementHeight / (this.globalData.compSize.h);\r\n    tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n    ty = 0;\r\n  }\r\n  var style = this.resizerElem.style;\r\n  style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n  style.transform = style.webkitTransform;\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function () {\r\n  this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function () {\r\n  this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function () {\r\n  this.buildAllItems();\r\n  if (this.camera) {\r\n    this.camera.setup();\r\n  } else {\r\n    var cWidth = this.globalData.compSize.w;\r\n    var cHeight = this.globalData.compSize.h;\r\n    var i;\r\n    var len = this.threeDElements.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      var style = this.threeDElements[i].perspectiveElem.style;\r\n      style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n      style.perspective = style.webkitPerspective;\r\n    }\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  var floatingContainer = createTag('div');\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer, lineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    if (data.ty === 'gs') {\r\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      if (data.lj === 1) {\r\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global ShapePropertyFactory, SVGShapeData */\r\n\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n  this.styledShapes = [];\r\n  this.tr = [0, 0, 0, 0, 0, 0];\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n  var i;\r\n  var len = styles.length;\r\n  var styledShape;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!styles[i].closed) {\r\n      styledShape = {\r\n        transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n        trNodes: [],\r\n      };\r\n      this.styledShapes.push(styledShape);\r\n      styles[i].elements.push(styledShape);\r\n    }\r\n  }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    var shouldBreakProcess;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n      // TODO: find a better solution for this\r\n      if (shouldBreakProcess) {\r\n        break;\r\n      }\r\n    }\r\n  },\r\n\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, BaseElement, FrameElement, FootageInterface */\r\n\r\nfunction FootageElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.footageData = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initBaseData(data, globalData, comp);\r\n}\r\n\r\nFootageElement.prototype.prepareFrame = function () {\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\r\n\r\nFootageElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nFootageElement.prototype.renderFrame = function () {\r\n};\r\n\r\nFootageElement.prototype.destroy = function () {\r\n};\r\n\r\nFootageElement.prototype.initExpressions = function () {\r\n  this.layerInterface = FootageInterface(this);\r\n};\r\n\r\nFootageElement.prototype.getFootageData = function () {\r\n  return this.footageData;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers,\r\nlineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        container.appendChild(itemsData[i].style.pElem);\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        container.appendChild(itemsData[i].gr);\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* global createElementID, filtersFactory, SVGTintFilter, SVGFillFilter, SVGStrokeEffect, SVGTritoneFilter,\r\nSVGProLevelsFilter, SVGDropShadowEffect, SVGMatte3Effect, SVGGaussianBlurEffect, locationHref */\r\n\r\nfunction SVGEffects(elem) {\r\n  var i;\r\n  var len = elem.data.ef ? elem.data.ef.length : 0;\r\n  var filId = createElementID();\r\n  var fil = filtersFactory.createFilter(filId, true);\r\n  var count = 0;\r\n  this.filters = [];\r\n  var filterManager;\r\n  for (i = 0; i < len; i += 1) {\r\n    filterManager = null;\r\n    if (elem.data.ef[i].ty === 20) {\r\n      count += 1;\r\n      filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 21) {\r\n      count += 1;\r\n      filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 22) {\r\n      filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 23) {\r\n      count += 1;\r\n      filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 24) {\r\n      count += 1;\r\n      filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 25) {\r\n      count += 1;\r\n      filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 28) {\r\n      // count += 1;\r\n      filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n    } else if (elem.data.ef[i].ty === 29) {\r\n      count += 1;\r\n      filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n    }\r\n    if (filterManager) {\r\n      this.filters.push(filterManager);\r\n    }\r\n  }\r\n  if (count) {\r\n    elem.globalData.defs.appendChild(fil);\r\n    elem.layerElement.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n  }\r\n  if (this.filters.length) {\r\n    elem.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n  var i;\r\n  var len = this.filters.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.filters[i].renderFrame(_isFirstFrame);\r\n  }\r\n};\r\n\r\n/* global Matrix, createTypedArray */\r\n\r\nfunction CVContextData() {\r\n  this.saved = [];\r\n  this.cArrPos = 0;\r\n  this.cTr = new Matrix();\r\n  this.cO = 1;\r\n  var i;\r\n  var len = 15;\r\n  this.savedOp = createTypedArray('float32', len);\r\n  for (i = 0; i < len; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function () {\r\n  var newLength = this._length * 2;\r\n  var currentSavedOp = this.savedOp;\r\n  this.savedOp = createTypedArray('float32', newLength);\r\n  this.savedOp.set(currentSavedOp);\r\n  var i = 0;\r\n  for (i = this._length; i < newLength; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function () {\r\n  this.cArrPos = 0;\r\n  this.cTr.reset();\r\n  this.cO = 1;\r\n};\r\n\r\n/* global CVEffects, getBlendMode, CVMaskElement, Matrix */\r\n\r\nfunction CVBaseElement() {\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n  createElements: function () {},\r\n  initRendererElement: function () {},\r\n  createContainerElements: function () {\r\n    this.canvasContext = this.globalData.canvasContext;\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n  },\r\n  createContent: function () {},\r\n  setBlendMode: function () {\r\n    var globalData = this.globalData;\r\n    if (globalData.blendMode !== this.data.bm) {\r\n      globalData.blendMode = this.data.bm;\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new CVMaskElement(this.data, this);\r\n  },\r\n  hideElement: function () {\r\n    if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n      this.hidden = true;\r\n    }\r\n  },\r\n  showElement: function () {\r\n    if (this.isInRange && !this.isTransparent) {\r\n      this.hidden = false;\r\n      this._isFirstFrame = true;\r\n      this.maskManager._isFirstFrame = true;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    if (this.hidden || this.data.hd) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.setBlendMode();\r\n    var forceRealStack = this.data.ty === 0;\r\n    this.globalData.renderer.save(forceRealStack);\r\n    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n    this.renderInnerContent();\r\n    this.globalData.renderer.restore(forceRealStack);\r\n    if (this.maskManager.hasMasks) {\r\n      this.globalData.renderer.restore(true);\r\n    }\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.canvasContext = null;\r\n    this.data = null;\r\n    this.globalData = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement,HierarchyElement, FrameElement,\r\nRenderableElement, SVGShapeElement, IImageElement, createTag */\r\n\r\nfunction CVImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.img = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function () {\r\n  if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = this.assetData.w;\r\n    canvas.height = this.assetData.h;\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    var imgW = this.img.width;\r\n    var imgH = this.img.height;\r\n    var imgRel = imgW / imgH;\r\n    var canvasRel = this.assetData.w / this.assetData.h;\r\n    var widthCrop;\r\n    var heightCrop;\r\n    var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n    if ((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n      heightCrop = imgH;\r\n      widthCrop = heightCrop * canvasRel;\r\n    } else {\r\n      widthCrop = imgW;\r\n      heightCrop = widthCrop / canvasRel;\r\n    }\r\n    ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n    this.img = canvas;\r\n  }\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function () {\r\n  this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function () {\r\n  this.img = null;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, CanvasRenderer, ICompElement, CVBaseElement */\r\n\r\nfunction CVCompElement(data, globalData, comp) {\r\n  this.completeLayers = false;\r\n  this.layers = data.layers;\r\n  this.pendingElements = [];\r\n  this.elements = createSizedArray(this.layers.length);\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.beginPath();\r\n  ctx.moveTo(0, 0);\r\n  ctx.lineTo(this.data.w, 0);\r\n  ctx.lineTo(this.data.w, this.data.h);\r\n  ctx.lineTo(0, this.data.h);\r\n  ctx.lineTo(0, 0);\r\n  ctx.clip();\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.layers = null;\r\n  this.elements = null;\r\n};\r\n\r\n/* global createSizedArray, ShapePropertyFactory, MaskElement */\r\n\r\nfunction CVMaskElement(data, element) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.viewData = createSizedArray(this.masksProperties.length);\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var hasMasks = false;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      hasMasks = true;\r\n    }\r\n    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n  }\r\n  this.hasMasks = hasMasks;\r\n  if (hasMasks) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n  if (!this.hasMasks) {\r\n    return;\r\n  }\r\n  var transform = this.element.finalTransform.mat;\r\n  var ctx = this.element.canvasContext;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var pt;\r\n  var pts;\r\n  var data;\r\n  ctx.beginPath();\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.masksProperties[i].inv) {\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, 0);\r\n      }\r\n      data = this.viewData[i].v;\r\n      pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n      ctx.moveTo(pt[0], pt[1]);\r\n      var j;\r\n      var jLen = data._length;\r\n      for (j = 1; j < jLen; j += 1) {\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n      pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n      ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n    }\r\n  }\r\n  this.element.globalData.renderer.save(true);\r\n  ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n};\r\n\r\n/* global ShapeTransformManager, extendPrototype, BaseElement, TransformElement, CVBaseElement, IShapeElement,\r\nHierarchyElement, FrameElement, RenderableElement, RenderableDOMElement, PropertyFactory, degToRads, GradientProperty,\r\nDashProperty, TransformPropertyFactory, CVShapeData, ShapeModifiers, bmFloor, lineCapEnum, lineJoinEnum */\r\n\r\nfunction CVShapeElement(data, globalData, comp) {\r\n  this.shapes = [];\r\n  this.shapesData = data.shapes;\r\n  this.stylesList = [];\r\n  this.itemsData = [];\r\n  this.prevViewData = [];\r\n  this.shapeModifiers = [];\r\n  this.processedElements = [];\r\n  this.transformsManager = new ShapeTransformManager();\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: false };\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n  var styleElem = {\r\n    data: data,\r\n    type: data.ty,\r\n    preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n    transforms: [],\r\n    elements: [],\r\n    closed: data.hd === true,\r\n  };\r\n  var elementData = {};\r\n  if (data.ty === 'fl' || data.ty === 'st') {\r\n    elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n    if (!elementData.c.k) {\r\n      styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n    }\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n    elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n    elementData.h = PropertyFactory.getProp(this, data.h || { k: 0 }, 0, 0.01, this);\r\n    elementData.a = PropertyFactory.getProp(this, data.a || { k: 0 }, 0, degToRads, this);\r\n    elementData.g = new GradientProperty(this, data.g, this);\r\n  }\r\n  elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    styleElem.lc = lineCapEnum[data.lc || 2];\r\n    styleElem.lj = lineJoinEnum[data.lj || 2];\r\n    if (data.lj == 1) { // eslint-disable-line eqeqeq\r\n      styleElem.ml = data.ml;\r\n    }\r\n    elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n    if (!elementData.w.k) {\r\n      styleElem.wi = elementData.w.v;\r\n    }\r\n    if (data.d) {\r\n      var d = new DashProperty(this, data.d, 'canvas', this);\r\n      elementData.d = d;\r\n      if (!elementData.d.k) {\r\n        styleElem.da = elementData.d.dashArray;\r\n        styleElem.do = elementData.d.dashoffset[0];\r\n      }\r\n    }\r\n  } else {\r\n    styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n  }\r\n  this.stylesList.push(styleElem);\r\n  elementData.style = styleElem;\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function () {\r\n  var elementData = {\r\n    it: [],\r\n    prevViewData: [],\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function (data) {\r\n  var elementData = {\r\n    transform: {\r\n      opacity: 1,\r\n      _opMdf: false,\r\n      key: this.transformsManager.getNewKey(),\r\n      op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n      mProps: TransformPropertyFactory.getTransformProperty(this, data, this),\r\n    },\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function (data) {\r\n  var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.push(transform);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.pop();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.closeStyles = function (styles) {\r\n  var i;\r\n  var len = styles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    styles[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var processedPos;\r\n  var modifier;\r\n  var currentTransform;\r\n  var ownTransforms = [].concat(transforms);\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._shouldRender = shouldRender;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        currentTransform = this.createTransformElement(arr[i]);\r\n        itemsData[i] = currentTransform;\r\n      }\r\n      ownTransforms.push(itemsData[i]);\r\n      this.addTransformToStyleList(itemsData[i]);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i]);\r\n      }\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        shouldRender = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  this.removeTransformFromStyleList();\r\n  this.closeStyles(ownStyles);\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function () {\r\n  this.transformHelper.opacity = 1;\r\n  this.transformHelper._opMdf = false;\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n  this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n  if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n    groupTransform.opacity = parentTransform.opacity;\r\n    groupTransform.opacity *= groupTransform.op.v;\r\n    groupTransform._opMdf = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var elems;\r\n  var nodes;\r\n  var renderer = this.globalData.renderer;\r\n  var ctx = this.globalData.canvasContext;\r\n  var type;\r\n  var currentStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentStyle = this.stylesList[i];\r\n    type = currentStyle.type;\r\n\r\n    // Skipping style when\r\n    // Stroke width equals 0\r\n    // style should not be rendered (extra unused repeaters)\r\n    // current opacity equals 0\r\n    // global opacity equals 0\r\n    if (!(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n      renderer.save();\r\n      elems = currentStyle.elements;\r\n      if (type === 'st' || type === 'gs') {\r\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n        ctx.lineWidth = currentStyle.wi;\r\n        ctx.lineCap = currentStyle.lc;\r\n        ctx.lineJoin = currentStyle.lj;\r\n        ctx.miterLimit = currentStyle.ml || 0;\r\n      } else {\r\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n      }\r\n      renderer.ctxOpacity(currentStyle.coOp);\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.beginPath();\r\n      }\r\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n      jLen = elems.length;\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.beginPath();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(currentStyle.da);\r\n            ctx.lineDashOffset = currentStyle.do;\r\n          }\r\n        }\r\n        nodes = elems[j].trNodes;\r\n        kLen = nodes.length;\r\n\r\n        for (k = 0; k < kLen; k += 1) {\r\n          if (nodes[k].t === 'm') {\r\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n          } else if (nodes[k].t === 'c') {\r\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n          } else {\r\n            ctx.closePath();\r\n          }\r\n        }\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.stroke();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(this.dashResetter);\r\n          }\r\n        }\r\n      }\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.fill(currentStyle.r);\r\n      }\r\n      renderer.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n  var i;\r\n  var len = items.length - 1;\r\n  var groupTransform;\r\n  groupTransform = parentTransform;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    if (items[i].ty === 'tr') {\r\n      groupTransform = data[i].transform;\r\n      this.renderShapeTransform(parentTransform, groupTransform);\r\n    } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n      this.renderPath(items[i], data[i]);\r\n    } else if (items[i].ty === 'fl') {\r\n      this.renderFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'st') {\r\n      this.renderStroke(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n      this.renderGradientFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gr') {\r\n      this.renderShape(groupTransform, items[i].it, data[i].it);\r\n    } else if (items[i].ty === 'tm') {\r\n      //\r\n    }\r\n  }\r\n  if (isMain) {\r\n    this.drawLayer();\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n  if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n    var shapeNodes = styledShape.trNodes;\r\n    var paths = shape.paths;\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen = paths._length;\r\n    shapeNodes.length = 0;\r\n    var groupTransformMat = styledShape.transforms.finalTransform;\r\n    for (j = 0; j < jLen; j += 1) {\r\n      var pathNodes = paths.shapes[j];\r\n      if (pathNodes && pathNodes.v) {\r\n        len = pathNodes._length;\r\n        for (i = 1; i < len; i += 1) {\r\n          if (i === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n            });\r\n          }\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\r\n          });\r\n        }\r\n        if (len === 1) {\r\n          shapeNodes.push({\r\n            t: 'm',\r\n            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n          });\r\n        }\r\n        if (pathNodes.c && len) {\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\r\n          });\r\n          shapeNodes.push({\r\n            t: 'z',\r\n          });\r\n        }\r\n      }\r\n    }\r\n    styledShape.trNodes = shapeNodes;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n  if (pathData.hd !== true && pathData._shouldRender) {\r\n    var i;\r\n    var len = itemData.styledShapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb('\r\n        + bmFloor(itemData.c.v[0]) + ','\r\n        + bmFloor(itemData.c.v[1]) + ','\r\n        + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var grd;\r\n  if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n    var ctx = this.globalData.canvasContext;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n    if (styleData.t === 1) {\r\n      grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n    } else {\r\n      var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n      var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n      var percent = itemData.h.v;\r\n      if (percent >= 1) {\r\n        percent = 0.99;\r\n      } else if (percent <= -1) {\r\n        percent = -0.99;\r\n      }\r\n      var dist = rad * percent;\r\n      var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n      var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n      grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n    }\r\n\r\n    var i;\r\n    var len = styleData.g.p;\r\n    var cValues = itemData.g.c;\r\n    var opacity = 1;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n        opacity = itemData.g.o[i * 2 + 1];\r\n      }\r\n      grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n    }\r\n    styleElem.grd = grd;\r\n  }\r\n  styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var d = itemData.d;\r\n  if (d && (d._mdf || this._isFirstFrame)) {\r\n    styleElem.da = d.dashArray;\r\n    styleElem.do = d.dashoffset[0];\r\n  }\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n  if (itemData.w._mdf || this._isFirstFrame) {\r\n    styleElem.wi = itemData.w.v;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.destroy = function () {\r\n  this.shapesData = null;\r\n  this.globalData = null;\r\n  this.canvasContext = null;\r\n  this.stylesList.length = 0;\r\n  this.itemsData.length = 0;\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement,\r\nSVGShapeElement, IImageElement */\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.fillStyle = this.data.sc;\r\n  ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n  //\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement,\r\nRenderableElement, ITextElement, createTag, createSizedArray */\r\n\r\nfunction CVTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.yOffset = 0;\r\n  this.fillColorAnim = false;\r\n  this.strokeColorAnim = false;\r\n  this.strokeWidthAnim = false;\r\n  this.stroke = false;\r\n  this.fill = false;\r\n  this.justifyOffset = 0;\r\n  this.currentRender = null;\r\n  this.renderType = 'canvas';\r\n  this.values = {\r\n    fill: 'rgba(0,0,0,0)',\r\n    stroke: 'rgba(0,0,0,0)',\r\n    sWidth: 0,\r\n    fValue: '',\r\n  };\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n  var hasFill = false;\r\n  if (documentData.fc) {\r\n    hasFill = true;\r\n    this.values.fill = this.buildColor(documentData.fc);\r\n  } else {\r\n    this.values.fill = 'rgba(0,0,0,0)';\r\n  }\r\n  this.fill = hasFill;\r\n  var hasStroke = false;\r\n  if (documentData.sc) {\r\n    hasStroke = true;\r\n    this.values.stroke = this.buildColor(documentData.sc);\r\n    this.values.sWidth = documentData.sw;\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var matrixHelper = this.mHelper;\r\n  this.stroke = hasStroke;\r\n  this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n  len = documentData.finalText.length;\r\n  // this.tHelper.font = this.values.fValue;\r\n  var charData;\r\n  var shapeData;\r\n  var k;\r\n  var kLen;\r\n  var shapes;\r\n  var j;\r\n  var jLen;\r\n  var pathNodes;\r\n  var commands;\r\n  var pathArr;\r\n  var singleShape = this.data.singleShape;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n    shapeData = (charData && charData.data) || {};\r\n    matrixHelper.reset();\r\n    if (singleShape && letters[i].n) {\r\n      xPos = -trackingOffset;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      firstLine = false;\r\n    }\r\n\r\n    shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n    jLen = shapes.length;\r\n    matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n    if (singleShape) {\r\n      this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n    }\r\n    commands = createSizedArray(jLen);\r\n    for (j = 0; j < jLen; j += 1) {\r\n      kLen = shapes[j].ks.k.i.length;\r\n      pathNodes = shapes[j].ks.k;\r\n      pathArr = [];\r\n      for (k = 1; k < kLen; k += 1) {\r\n        if (k === 1) {\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n        }\r\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n      }\r\n      pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n      commands[j] = pathArr;\r\n    }\r\n    if (singleShape) {\r\n      xPos += letters[i].l;\r\n      xPos += trackingOffset;\r\n    }\r\n    if (this.textSpans[cnt]) {\r\n      this.textSpans[cnt].elem = commands;\r\n    } else {\r\n      this.textSpans[cnt] = { elem: commands };\r\n    }\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.font = this.values.fValue;\r\n  ctx.lineCap = 'butt';\r\n  ctx.lineJoin = 'miter';\r\n  ctx.miterLimit = 4;\r\n\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  }\r\n\r\n  var i;\r\n  var len;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var lastFill = null;\r\n  var lastStroke = null;\r\n  var lastStrokeW = null;\r\n  var commands;\r\n  var pathArr;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!letters[i].n) {\r\n      renderedLetter = renderedLetters[i];\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.save();\r\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n      }\r\n      if (this.fill) {\r\n        if (renderedLetter && renderedLetter.fc) {\r\n          if (lastFill !== renderedLetter.fc) {\r\n            lastFill = renderedLetter.fc;\r\n            ctx.fillStyle = renderedLetter.fc;\r\n          }\r\n        } else if (lastFill !== this.values.fill) {\r\n          lastFill = this.values.fill;\r\n          ctx.fillStyle = this.values.fill;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.fill();\r\n        /// ctx.fillText(this.textSpans[i].val,0,0);\r\n      }\r\n      if (this.stroke) {\r\n        if (renderedLetter && renderedLetter.sw) {\r\n          if (lastStrokeW !== renderedLetter.sw) {\r\n            lastStrokeW = renderedLetter.sw;\r\n            ctx.lineWidth = renderedLetter.sw;\r\n          }\r\n        } else if (lastStrokeW !== this.values.sWidth) {\r\n          lastStrokeW = this.values.sWidth;\r\n          ctx.lineWidth = this.values.sWidth;\r\n        }\r\n        if (renderedLetter && renderedLetter.sc) {\r\n          if (lastStroke !== renderedLetter.sc) {\r\n            lastStroke = renderedLetter.sc;\r\n            ctx.strokeStyle = renderedLetter.sc;\r\n          }\r\n        } else if (lastStroke !== this.values.stroke) {\r\n          lastStroke = this.values.stroke;\r\n          ctx.strokeStyle = this.values.stroke;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.stroke();\r\n        /// ctx.strokeText(letters[i].val,0,0);\r\n      }\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.restore();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, createNS, styleDiv, CVEffects, MaskElement, SVGBaseElement, HybridRenderer */\r\n\r\nfunction HBaseElement() {}\r\nHBaseElement.prototype = {\r\n  checkBlendMode: function () {},\r\n  initRendererElement: function () {\r\n    this.baseElement = createTag(this.data.tg || 'div');\r\n    if (this.data.hasMask) {\r\n      this.svgElement = createNS('svg');\r\n      this.layerElement = createNS('g');\r\n      this.maskedElement = this.layerElement;\r\n      this.svgElement.appendChild(this.layerElement);\r\n      this.baseElement.appendChild(this.svgElement);\r\n    } else {\r\n      this.layerElement = this.baseElement;\r\n    }\r\n    styleDiv(this.baseElement);\r\n  },\r\n  createContainerElements: function () {\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n    this.transformedElement = this.baseElement;\r\n    this.maskedElement = this.layerElement;\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n    if (this.finalTransform._matMdf) {\r\n      var matrixValue = this.finalTransform.mat.toCSS();\r\n      transformedElementStyle.transform = matrixValue;\r\n      transformedElementStyle.webkitTransform = matrixValue;\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    // If it is exported as hidden (data.hd === true) no need to render\r\n    // If it is not visible no need to render\r\n    if (this.data.hd || this.hidden) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.renderElement();\r\n    this.renderInnerContent();\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.layerElement = null;\r\n    this.transformedElement = null;\r\n    if (this.matteElement) {\r\n      this.matteElement = null;\r\n    }\r\n    if (this.maskManager) {\r\n      this.maskManager.destroy();\r\n      this.maskManager = null;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n  },\r\n  addEffects: function () {\r\n  },\r\n  setMatte: function () {},\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, createNS, createTag */\r\n\r\nfunction HSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function () {\r\n  var rect;\r\n  if (this.data.hasMask) {\r\n    rect = createNS('rect');\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.svgElement.setAttribute('width', this.data.sw);\r\n    this.svgElement.setAttribute('height', this.data.sh);\r\n  } else {\r\n    rect = createTag('div');\r\n    rect.style.width = this.data.sw + 'px';\r\n    rect.style.height = this.data.sh + 'px';\r\n    rect.style.backgroundColor = this.data.sc;\r\n  }\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, HybridRenderer, ICompElement, HBaseElement */\r\n\r\nfunction HCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = !data.hasMask;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function () {\r\n  this._createBaseContainerElements();\r\n  // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n  if (this.data.hasMask) {\r\n    this.svgElement.setAttribute('width', this.data.w);\r\n    this.svgElement.setAttribute('height', this.data.h);\r\n    this.transformedElement = this.baseElement;\r\n  } else {\r\n    this.transformedElement = this.layerElement;\r\n  }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n  var j = 0;\r\n  var nextElement;\r\n  while (j < pos) {\r\n    if (this.elements[j] && this.elements[j].getBaseElement) {\r\n      nextElement = this.elements[j].getBaseElement();\r\n    }\r\n    j += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(elem, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(elem);\r\n  }\r\n};\r\n\r\n/* global createNS, extendPrototype, BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement,\r\nHierarchyElement, FrameElement, RenderableElement, createNS, bmMin, bmSqrt, bmMin, bmMax, bmPow */\r\n\r\nfunction HShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.shapesContainer = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n}\r\nextendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function () {\r\n  var cont;\r\n  this.baseElement.style.fontSize = 0;\r\n  if (this.data.hasMask) {\r\n    this.layerElement.appendChild(this.shapesContainer);\r\n    cont = this.svgElement;\r\n  } else {\r\n    cont = createNS('svg');\r\n    var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n    cont.setAttribute('width', size.w);\r\n    cont.setAttribute('height', size.h);\r\n    cont.appendChild(this.shapesContainer);\r\n    this.layerElement.appendChild(cont);\r\n  }\r\n\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n  var i;\r\n  var len = transformers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n  }\r\n  return point;\r\n};\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n  var shape = item.sh.v;\r\n  var transformers = item.transformers;\r\n  var i;\r\n  var len = shape._length;\r\n  var vPoint;\r\n  var oPoint;\r\n  var nextIPoint;\r\n  var nextVPoint;\r\n  if (len <= 1) {\r\n    return;\r\n  }\r\n  for (i = 0; i < len - 1; i += 1) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n  if (shape.c) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n  this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n  var bounds = this.shapeBoundingBox;\r\n  boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n  boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n  boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n  boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n};\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n};\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n  x: 0,\r\n  xMax: 0,\r\n  y: 0,\r\n  yMax: 0,\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n  var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n  for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) { // eslint-disable-line no-plusplus\r\n    b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n    a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n    c = 3 * p1[i] - 3 * p0[i];\r\n\r\n    b |= 0; // eslint-disable-line no-bitwise\r\n    a |= 0; // eslint-disable-line no-bitwise\r\n    c |= 0; // eslint-disable-line no-bitwise\r\n\r\n    if (a === 0 && b === 0) {\r\n      //\r\n    } else if (a === 0) {\r\n      t = -c / b;\r\n\r\n      if (t > 0 && t < 1) {\r\n        bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n      }\r\n    } else {\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac >= 0) {\r\n        t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n        if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n        t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n        if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n      }\r\n    }\r\n  }\r\n\r\n  this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n  this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n};\r\n\r\nHShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n  return bmPow(1 - t, 3) * p0[i]\r\n        + 3 * bmPow(1 - t, 2) * t * p1[i]\r\n        + 3 * (1 - t) * bmPow(t, 2) * p2[i]\r\n        + bmPow(t, 3) * p3[i];\r\n};\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n  var i;\r\n  var len = itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (itemsData[i] && itemsData[i].sh) {\r\n      this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n    } else if (itemsData[i] && itemsData[i].it) {\r\n      this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n    }\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.currentBoxContains = function (box) {\r\n  return this.currentBBox.x <= box.x\r\n    && this.currentBBox.y <= box.y\r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n};\r\n\r\nHShapeElement.prototype.renderInnerContent = function () {\r\n  this._renderShapeFrame();\r\n\r\n  if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var tempBoundingBox = this.tempBoundingBox;\r\n    var max = 999999;\r\n    tempBoundingBox.x = max;\r\n    tempBoundingBox.xMax = -max;\r\n    tempBoundingBox.y = max;\r\n    tempBoundingBox.yMax = -max;\r\n    this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n    tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n    tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n    // var tempBoundingBox = this.shapeCont.getBBox();\r\n    if (this.currentBoxContains(tempBoundingBox)) {\r\n      return;\r\n    }\r\n    var changed = false;\r\n    if (this.currentBBox.w !== tempBoundingBox.width) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n      changed = true;\r\n    }\r\n    if (this.currentBBox.h !== tempBoundingBox.height) {\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n      changed = true;\r\n    }\r\n    if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.currentBBox.x = tempBoundingBox.x;\r\n      this.currentBBox.y = tempBoundingBox.y;\r\n\r\n      this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      var shapeStyle = this.shapeCont.style;\r\n      var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      shapeStyle.transform = shapeTransform;\r\n      shapeStyle.webkitTransform = shapeTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createTag, styleDiv, createNS, lineJoinEnum, lineCapEnum */\r\n\r\nfunction HTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.textPaths = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n  this.renderType = 'svg';\r\n  this.isMasked = false;\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function () {\r\n  this.isMasked = this.checkMasks();\r\n  if (this.isMasked) {\r\n    this.renderType = 'svg';\r\n    this.compW = this.comp.data.w;\r\n    this.compH = this.comp.data.h;\r\n    this.svgElement.setAttribute('width', this.compW);\r\n    this.svgElement.setAttribute('height', this.compH);\r\n    var g = createNS('g');\r\n    this.maskedElement.appendChild(g);\r\n    this.innerElem = g;\r\n  } else {\r\n    this.renderType = 'html';\r\n    this.innerElem = this.layerElement;\r\n  }\r\n\r\n  this.checkParenting();\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n  var innerElemStyle = this.innerElem.style;\r\n  var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n  innerElemStyle.fill = textColor;\r\n  innerElemStyle.color = textColor;\r\n  if (documentData.sc) {\r\n    innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n    innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (!this.globalData.fontManager.chars) {\r\n    innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n    innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n    if (fontData.fClass) {\r\n      this.innerElem.className = fontData.fClass;\r\n    } else {\r\n      innerElemStyle.fontFamily = fontData.fFamily;\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      innerElemStyle.fontStyle = fStyle;\r\n      innerElemStyle.fontWeight = fWeight;\r\n    }\r\n  }\r\n  var i;\r\n  var len;\r\n\r\n  var letters = documentData.l;\r\n  len = letters.length;\r\n  var tSpan;\r\n  var tParent;\r\n  var tCont;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.globalData.fontManager.chars) {\r\n      if (!this.textPaths[cnt]) {\r\n        tSpan = createNS('path');\r\n        tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\r\n        tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\r\n        tSpan.setAttribute('stroke-miterlimit', '4');\r\n      } else {\r\n        tSpan = this.textPaths[cnt];\r\n      }\r\n      if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tCont = tParent.children[0];\r\n        } else {\r\n          tParent = createTag('div');\r\n          tParent.style.lineHeight = 0;\r\n          tCont = createNS('svg');\r\n          tCont.appendChild(tSpan);\r\n          styleDiv(tParent);\r\n        }\r\n      }\r\n    } else if (!this.isMasked) {\r\n      if (this.textSpans[cnt]) {\r\n        tParent = this.textSpans[cnt];\r\n        tSpan = this.textPaths[cnt];\r\n      } else {\r\n        tParent = createTag('span');\r\n        styleDiv(tParent);\r\n        tSpan = createTag('span');\r\n        styleDiv(tSpan);\r\n        tParent.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n    }\r\n    // tSpan.setAttribute('visibility', 'hidden');\r\n    if (this.globalData.fontManager.chars) {\r\n      var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      var shapeData;\r\n      if (charData) {\r\n        shapeData = charData.data;\r\n      } else {\r\n        shapeData = null;\r\n      }\r\n      matrixHelper.reset();\r\n      if (shapeData && shapeData.shapes) {\r\n        shapes = shapeData.shapes[0].it;\r\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n        shapeStr = this.createPathShape(matrixHelper, shapes);\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        if (shapeData && shapeData.shapes) {\r\n          // document.body.appendChild is needed to get exact measure of shape\r\n          document.body.appendChild(tCont);\r\n          var boundingBox = tCont.getBBox();\r\n          tCont.setAttribute('width', boundingBox.width + 2);\r\n          tCont.setAttribute('height', boundingBox.height + 2);\r\n          tCont.setAttribute('viewBox', (boundingBox.x - 1) + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n          var tContStyle = tCont.style;\r\n          var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n          tContStyle.transform = tContTranslation;\r\n          tContStyle.webkitTransform = tContTranslation;\r\n\r\n          letters[i].yOffset = boundingBox.y - 1;\r\n        } else {\r\n          tCont.setAttribute('width', 1);\r\n          tCont.setAttribute('height', 1);\r\n        }\r\n        tParent.appendChild(tCont);\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan.textContent = letters[i].val;\r\n      tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        //\r\n        var tStyle = tSpan.style;\r\n        var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n        tStyle.transform = tSpanTranslation;\r\n        tStyle.webkitTransform = tSpanTranslation;\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    }\r\n    //\r\n    if (!this.isMasked) {\r\n      this.textSpans[cnt] = tParent;\r\n    } else {\r\n      this.textSpans[cnt] = tSpan;\r\n    }\r\n    this.textSpans[cnt].style.display = 'block';\r\n    this.textPaths[cnt] = tSpan;\r\n    cnt += 1;\r\n  }\r\n  while (cnt < this.textSpans.length) {\r\n    this.textSpans[cnt].style.display = 'none';\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function () {\r\n  var svgStyle;\r\n  if (this.data.singleShape) {\r\n    if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n      return;\r\n    } if (this.isMasked && this.finalTransform._matMdf) {\r\n      // Todo Benchmark if using this is better than getBBox\r\n      this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n      svgStyle = this.svgElement.style;\r\n      var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n      svgStyle.transform = translation;\r\n      svgStyle.webkitTransform = translation;\r\n    }\r\n  }\r\n\r\n  this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n    return;\r\n  }\r\n  var i;\r\n  var len;\r\n  var count = 0;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var textSpan;\r\n  var textPath;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (letters[i].n) {\r\n      count += 1;\r\n    } else {\r\n      textSpan = this.textSpans[i];\r\n      textPath = this.textPaths[i];\r\n      renderedLetter = renderedLetters[count];\r\n      count += 1;\r\n      if (renderedLetter._mdf.m) {\r\n        if (!this.isMasked) {\r\n          textSpan.style.webkitTransform = renderedLetter.m;\r\n          textSpan.style.transform = renderedLetter.m;\r\n        } else {\r\n          textSpan.setAttribute('transform', renderedLetter.m);\r\n        }\r\n      }\r\n      /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n      textSpan.style.opacity = renderedLetter.o;\r\n      if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n        textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n      }\r\n      if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n        textPath.setAttribute('stroke', renderedLetter.sc);\r\n      }\r\n      if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n        textPath.setAttribute('fill', renderedLetter.fc);\r\n        textPath.style.color = renderedLetter.fc;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var boundingBox = this.innerElem.getBBox();\r\n\r\n    if (this.currentBBox.w !== boundingBox.width) {\r\n      this.currentBBox.w = boundingBox.width;\r\n      this.svgElement.setAttribute('width', boundingBox.width);\r\n    }\r\n    if (this.currentBBox.h !== boundingBox.height) {\r\n      this.currentBBox.h = boundingBox.height;\r\n      this.svgElement.setAttribute('height', boundingBox.height);\r\n    }\r\n\r\n    var margin = 1;\r\n    if (this.currentBBox.w !== (boundingBox.width + margin * 2) || this.currentBBox.h !== (boundingBox.height + margin * 2) || this.currentBBox.x !== (boundingBox.x - margin) || this.currentBBox.y !== (boundingBox.y - margin)) {\r\n      this.currentBBox.w = boundingBox.width + margin * 2;\r\n      this.currentBBox.h = boundingBox.height + margin * 2;\r\n      this.currentBBox.x = boundingBox.x - margin;\r\n      this.currentBBox.y = boundingBox.y - margin;\r\n\r\n      this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      svgStyle = this.svgElement.style;\r\n      var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      svgStyle.transform = svgTransform;\r\n      svgStyle.webkitTransform = svgTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement,\r\nFrameElement, RenderableElement, createNS */\r\n\r\nfunction HImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\nHImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  var img = new Image();\r\n\r\n  if (this.data.hasMask) {\r\n    this.imageElem = createNS('image');\r\n    this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.imageElem);\r\n    this.baseElement.setAttribute('width', this.assetData.w);\r\n    this.baseElement.setAttribute('height', this.assetData.h);\r\n  } else {\r\n    this.layerElement.appendChild(img);\r\n  }\r\n  img.crossOrigin = 'anonymous';\r\n  img.src = assetPath;\r\n  if (this.data.ln) {\r\n    this.baseElement.setAttribute('id', this.data.ln);\r\n  }\r\n};\r\n\r\n/* global PropertyFactory, degToRads, Matrix, extendPrototype, BaseElement, FrameElement, HierarchyElement */\r\n\r\nfunction HCameraElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initHierarchy();\r\n  var getProp = PropertyFactory.getProp;\r\n  this.pe = getProp(this, data.pe, 0, 0, this);\r\n  if (data.ks.p.s) {\r\n    this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n    this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n    this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n  } else {\r\n    this.p = getProp(this, data.ks.p, 1, 0, this);\r\n  }\r\n  if (data.ks.a) {\r\n    this.a = getProp(this, data.ks.a, 1, 0, this);\r\n  }\r\n  if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n    var i;\r\n    var len = data.ks.or.k.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      data.ks.or.k[i].to = null;\r\n      data.ks.or.k[i].ti = null;\r\n    }\r\n  }\r\n  this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n  this.or.sh = true;\r\n  this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n  this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n  this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n  this.mat = new Matrix();\r\n  this._prevMat = new Matrix();\r\n  this._isFirstFrame = true;\r\n\r\n  // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n  this.finalTransform = {\r\n    mProp: this,\r\n  };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function () {\r\n  var i;\r\n  var len = this.comp.threeDElements.length;\r\n  var comp;\r\n  var perspectiveStyle;\r\n  var containerStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    // [perspectiveElem,container]\r\n    comp = this.comp.threeDElements[i];\r\n    if (comp.type === '3d') {\r\n      perspectiveStyle = comp.perspectiveElem.style;\r\n      containerStyle = comp.container.style;\r\n      var perspective = this.pe.v + 'px';\r\n      var origin = '0px 0px 0px';\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      perspectiveStyle.perspective = perspective;\r\n      perspectiveStyle.webkitPerspective = perspective;\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      perspectiveStyle.transform = matrix;\r\n      perspectiveStyle.webkitTransform = matrix;\r\n    }\r\n  }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function () {\r\n};\r\n\r\nHCameraElement.prototype.hide = function () {\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function () {\r\n  var _mdf = this._isFirstFrame;\r\n  var i;\r\n  var len;\r\n  if (this.hierarchy) {\r\n    len = this.hierarchy.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n    }\r\n  }\r\n  if (_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n    this.mat.reset();\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length - 1;\r\n      for (i = len; i >= 0; i -= 1) {\r\n        var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n        this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n        this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n        this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n        this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n        this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n      }\r\n    }\r\n    if (this.p) {\r\n      this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n    } else {\r\n      this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n    }\r\n    if (this.a) {\r\n      var diffVector;\r\n      if (this.p) {\r\n        diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n      } else {\r\n        diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n      }\r\n      var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));\r\n      // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n      var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n      var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n      var mRotationX = (Math.atan2(lookDir[1], lookLengthOnXZ));\r\n      var mRotationY = (Math.atan2(lookDir[0], -lookDir[2]));\r\n      this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n    }\r\n    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n    this.mat.translate(0, 0, this.pe.v);\r\n\r\n    var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n    if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n      len = this.comp.threeDElements.length;\r\n      var comp;\r\n      var perspectiveStyle;\r\n      var containerStyle;\r\n      for (i = 0; i < len; i += 1) {\r\n        comp = this.comp.threeDElements[i];\r\n        if (comp.type === '3d') {\r\n          if (hasMatrixChanged) {\r\n            var matValue = this.mat.toCSS();\r\n            containerStyle = comp.container.style;\r\n            containerStyle.transform = matValue;\r\n            containerStyle.webkitTransform = matValue;\r\n          }\r\n          if (this.pe._mdf) {\r\n            perspectiveStyle = comp.perspectiveElem.style;\r\n            perspectiveStyle.perspective = this.pe.v + 'px';\r\n            perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n          }\r\n        }\r\n      }\r\n      this.mat.clone(this._prevMat);\r\n    }\r\n  }\r\n  this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function () {\r\n};\r\nHCameraElement.prototype.getBaseElement = function () { return null; };\r\n\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, assetLoader, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, markerParser */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n  this.markers = [];\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.configAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n\r\n    assetLoader.load(params.path, this.configAnimation.bind(this), function () {\r\n      this.trigger('data_failed');\r\n    }.bind(this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n  this.renderer.includeLayers(data.layers);\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  assetLoader.load(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.markers = markerParser(animData.markers || []);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\r\n        && (this.imagePreloader.loadedFootages())\r\n  ) {\r\n    this.isLoaded = true;\r\n    dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false || !this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.getMarkerData = function (markerName) {\r\n  var marker;\r\n  for (var i = 0; i < this.markers.length; i += 1) {\r\n    marker = this.markers[i];\r\n    if (marker.payload && marker.payload.name === markerName) {\r\n      return marker;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      this.goToAndStop(marker.time, true);\r\n    }\r\n  } else if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      if (!marker.duration) {\r\n        this.goToAndStop(marker.time, true);\r\n      } else {\r\n        this.playSegments([marker.time, marker.time + marker.duration], true);\r\n      }\r\n    }\r\n  } else {\r\n    this.goToAndStop(numValue, isFrame, name);\r\n  }\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  // this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* global CompExpressionInterface, expressionsPlugin: writable */\r\n/* exported expressionsPlugin */\r\n\r\nvar Expressions = (function () {\r\n  var ob = {};\r\n  ob.initExpressions = initExpressions;\r\n\r\n  function initExpressions(animation) {\r\n    var stackCount = 0;\r\n    var registers = [];\r\n\r\n    function pushExpression() {\r\n      stackCount += 1;\r\n    }\r\n\r\n    function popExpression() {\r\n      stackCount -= 1;\r\n      if (stackCount === 0) {\r\n        releaseInstances();\r\n      }\r\n    }\r\n\r\n    function registerExpressionProperty(expression) {\r\n      if (registers.indexOf(expression) === -1) {\r\n        registers.push(expression);\r\n      }\r\n    }\r\n\r\n    function releaseInstances() {\r\n      var i;\r\n      var len = registers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        registers[i].release();\r\n      }\r\n      registers.length = 0;\r\n    }\r\n\r\n    animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n    animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n    animation.renderer.globalData.pushExpression = pushExpression;\r\n    animation.renderer.globalData.popExpression = popExpression;\r\n    animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n  }\r\n  return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\n/* eslint-disable camelcase, no-unused-vars */\r\n/* global BMMath, BezierFactory, createTypedArray, degToRads, shapePool */\r\n\r\nvar ExpressionManager = (function () {\r\n  'use strict';\r\n\r\n  var ob = {};\r\n  var Math = BMMath;\r\n  var window = null;\r\n  var document = null;\r\n  var XMLHttpRequest = null;\r\n  var fetch = null;\r\n\r\n  function $bm_isInstanceOfArray(arr) {\r\n    return arr.constructor === Array || arr.constructor === Float32Array;\r\n  }\r\n\r\n  function isNumerable(tOfV, v) {\r\n    return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n  }\r\n\r\n  function $bm_neg(a) {\r\n    var tOfA = typeof a;\r\n    if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\r\n      return -a;\r\n    }\r\n    if ($bm_isInstanceOfArray(a)) {\r\n      var i;\r\n      var lenA = a.length;\r\n      var retArr = [];\r\n      for (i = 0; i < lenA; i += 1) {\r\n        retArr[i] = -a[i];\r\n      }\r\n      return retArr;\r\n    }\r\n    if (a.propType) {\r\n      return a.v;\r\n    }\r\n    return -a;\r\n  }\r\n\r\n  var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n  var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n  var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n  function sum(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (tOfA === 'string' || tOfB === 'string') {\r\n      return a + b;\r\n    }\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a + b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] += b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a + b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] + b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n  var add = sum;\r\n\r\n  function sub(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      if (tOfA === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n      if (tOfB === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n      return a - b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] -= b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a - b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] - b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function mul(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a * b;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] * b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a * b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function div(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a / b;\r\n    }\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] / b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a / b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n  function mod(a, b) {\r\n    if (typeof a === 'string') {\r\n      a = parseInt(a, 10);\r\n    }\r\n    if (typeof b === 'string') {\r\n      b = parseInt(b, 10);\r\n    }\r\n    return a % b;\r\n  }\r\n  var $bm_sum = sum;\r\n  var $bm_sub = sub;\r\n  var $bm_mul = mul;\r\n  var $bm_div = div;\r\n  var $bm_mod = mod;\r\n\r\n  function clamp(num, min, max) {\r\n    if (min > max) {\r\n      var mm = max;\r\n      max = min;\r\n      min = mm;\r\n    }\r\n    return Math.min(Math.max(num, min), max);\r\n  }\r\n\r\n  function radiansToDegrees(val) {\r\n    return val / degToRads;\r\n  }\r\n  var radians_to_degrees = radiansToDegrees;\r\n\r\n  function degreesToRadians(val) {\r\n    return val * degToRads;\r\n  }\r\n  var degrees_to_radians = radiansToDegrees;\r\n\r\n  var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n  function length(arr1, arr2) {\r\n    if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n      arr2 = arr2 || 0;\r\n      return Math.abs(arr1 - arr2);\r\n    }\r\n    if (!arr2) {\r\n      arr2 = helperLengthArray;\r\n    }\r\n    var i;\r\n    var len = Math.min(arr1.length, arr2.length);\r\n    var addedLength = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n    }\r\n    return Math.sqrt(addedLength);\r\n  }\r\n\r\n  function normalize(vec) {\r\n    return div(vec, length(vec));\r\n  }\r\n\r\n  function rgbToHsl(val) {\r\n    var r = val[0]; var g = val[1]; var b = val[2];\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h;\r\n    var s;\r\n    var l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = 0; // achromatic\r\n      s = 0; // achromatic\r\n    } else {\r\n      var d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n        case g: h = (b - r) / d + 2; break;\r\n        case b: h = (r - g) / d + 4; break;\r\n        default: break;\r\n      }\r\n      h /= 6;\r\n    }\r\n\r\n    return [h, s, l, val[3]];\r\n  }\r\n\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) t += 1;\r\n    if (t > 1) t -= 1;\r\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n    if (t < 1 / 2) return q;\r\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n    return p;\r\n  }\r\n\r\n  function hslToRgb(val) {\r\n    var h = val[0];\r\n    var s = val[1];\r\n    var l = val[2];\r\n\r\n    var r;\r\n    var g;\r\n    var b;\r\n\r\n    if (s === 0) {\r\n      r = l; // achromatic\r\n      b = l; // achromatic\r\n      g = l; // achromatic\r\n    } else {\r\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n      var p = 2 * l - q;\r\n      r = hue2rgb(p, q, h + 1 / 3);\r\n      g = hue2rgb(p, q, h);\r\n      b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [r, g, b, val[3]];\r\n  }\r\n\r\n  function linear(t, tMin, tMax, value1, value2) {\r\n    if (value1 === undefined || value2 === undefined) {\r\n      value1 = tMin;\r\n      value2 = tMax;\r\n      tMin = 0;\r\n      tMax = 1;\r\n    }\r\n    if (tMax < tMin) {\r\n      var _tMin = tMax;\r\n      tMax = tMin;\r\n      tMin = _tMin;\r\n    }\r\n    if (t <= tMin) {\r\n      return value1;\r\n    } if (t >= tMax) {\r\n      return value2;\r\n    }\r\n    var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n    if (!value1.length) {\r\n      return value1 + (value2 - value1) * perc;\r\n    }\r\n    var i;\r\n    var len = value1.length;\r\n    var arr = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n    }\r\n    return arr;\r\n  }\r\n  function random(min, max) {\r\n    if (max === undefined) {\r\n      if (min === undefined) {\r\n        min = 0;\r\n        max = 1;\r\n      } else {\r\n        max = min;\r\n        min = undefined;\r\n      }\r\n    }\r\n    if (max.length) {\r\n      var i;\r\n      var len = max.length;\r\n      if (!min) {\r\n        min = createTypedArray('float32', len);\r\n      }\r\n      var arr = createTypedArray('float32', len);\r\n      var rnd = BMMath.random();\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n      }\r\n      return arr;\r\n    }\r\n    if (min === undefined) {\r\n      min = 0;\r\n    }\r\n    var rndm = BMMath.random();\r\n    return min + rndm * (max - min);\r\n  }\r\n\r\n  function createPath(points, inTangents, outTangents, closed) {\r\n    var i;\r\n    var len = points.length;\r\n    var path = shapePool.newElement();\r\n    path.setPathData(!!closed, len);\r\n    var arrPlaceholder = [0, 0];\r\n    var inVertexPoint;\r\n    var outVertexPoint;\r\n    for (i = 0; i < len; i += 1) {\r\n      inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n      outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n      path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function initiateExpression(elem, data, property) {\r\n    var val = data.x;\r\n    var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n    var _needsRandom = val.indexOf('random') !== -1;\r\n    var elemType = elem.data.ty;\r\n    var transform;\r\n    var $bm_transform;\r\n    var content;\r\n    var effect;\r\n    var thisProperty = property;\r\n    thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n    Object.defineProperty(thisProperty, 'value', {\r\n      get: function () {\r\n        return thisProperty.v;\r\n      },\r\n    });\r\n    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n    elem.comp.displayStartTime = 0;\r\n    var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    var width = elem.data.sw ? elem.data.sw : 0;\r\n    var height = elem.data.sh ? elem.data.sh : 0;\r\n    var name = elem.data.nm;\r\n    var loopIn;\r\n    var loop_in;\r\n    var loopOut;\r\n    var loop_out;\r\n    var smooth;\r\n    var toWorld;\r\n    var fromWorld;\r\n    var fromComp;\r\n    var toComp;\r\n    var fromCompToSurface;\r\n    var position;\r\n    var rotation;\r\n    var anchorPoint;\r\n    var scale;\r\n    var thisLayer;\r\n    var thisComp;\r\n    var mask;\r\n    var valueAtTime;\r\n    var velocityAtTime;\r\n\r\n    var scoped_bm_rt;\r\n    // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\r\n    var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n    var numKeys = property.kf ? data.k.length : 0;\r\n\r\n    var active = !this.data || this.data.hd !== true;\r\n\r\n    var wiggle = function wiggle(freq, amp) {\r\n      var iWiggle;\r\n      var j;\r\n      var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n      var addedAmps = createTypedArray('float32', lenWiggle);\r\n      freq = 5;\r\n      var iterations = Math.floor(time * freq);\r\n      iWiggle = 0;\r\n      j = 0;\r\n      while (iWiggle < iterations) {\r\n        // var rnd = BMMath.random();\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          addedAmps[j] += -amp + amp * 2 * BMMath.random();\r\n          // addedAmps[j] += -amp + amp*2*rnd;\r\n        }\r\n        iWiggle += 1;\r\n      }\r\n      // var rnd2 = BMMath.random();\r\n      var periods = time * freq;\r\n      var perc = periods - Math.floor(periods);\r\n      var arr = createTypedArray('float32', lenWiggle);\r\n      if (lenWiggle > 1) {\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n          // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n          // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n        }\r\n        return arr;\r\n      }\r\n      return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n    }.bind(this);\r\n\r\n    if (thisProperty.loopIn) {\r\n      loopIn = thisProperty.loopIn.bind(thisProperty);\r\n      loop_in = loopIn;\r\n    }\r\n\r\n    if (thisProperty.loopOut) {\r\n      loopOut = thisProperty.loopOut.bind(thisProperty);\r\n      loop_out = loopOut;\r\n    }\r\n\r\n    if (thisProperty.smooth) {\r\n      smooth = thisProperty.smooth.bind(thisProperty);\r\n    }\r\n\r\n    function loopInDuration(type, duration) {\r\n      return loopIn(type, duration, true);\r\n    }\r\n\r\n    function loopOutDuration(type, duration) {\r\n      return loopOut(type, duration, true);\r\n    }\r\n\r\n    if (this.getValueAtTime) {\r\n      valueAtTime = this.getValueAtTime.bind(this);\r\n    }\r\n\r\n    if (this.getVelocityAtTime) {\r\n      velocityAtTime = this.getVelocityAtTime.bind(this);\r\n    }\r\n\r\n    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n    function lookAt(elem1, elem2) {\r\n      var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n      var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n      var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n      return [yaw, pitch, 0];\r\n    }\r\n\r\n    function easeOut(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function easeIn(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function ease(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n      if (val1 === undefined) {\r\n        val1 = tMin;\r\n        val2 = tMax;\r\n      } else {\r\n        t = (t - tMin) / (tMax - tMin);\r\n      }\r\n      if (t > 1) {\r\n        t = 1;\r\n      } else if (t < 0) {\r\n        t = 0;\r\n      }\r\n      var mult = fn(t);\r\n      if ($bm_isInstanceOfArray(val1)) {\r\n        var iKey;\r\n        var lenKey = val1.length;\r\n        var arr = createTypedArray('float32', lenKey);\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n        }\r\n        return arr;\r\n      }\r\n      return (val2 - val1) * mult + val1;\r\n    }\r\n\r\n    function nearestKey(time) {\r\n      var iKey;\r\n      var lenKey = data.k.length;\r\n      var index;\r\n      var keyTime;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        index = 0;\r\n        keyTime = 0;\r\n      } else {\r\n        index = -1;\r\n        time *= elem.comp.globalData.frameRate;\r\n        if (time < data.k[0].t) {\r\n          index = 1;\r\n          keyTime = data.k[0].t;\r\n        } else {\r\n          for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n            if (time === data.k[iKey].t) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n              break;\r\n            } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n              if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                index = iKey + 2;\r\n                keyTime = data.k[iKey + 1].t;\r\n              } else {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          if (index === -1) {\r\n            index = iKey + 1;\r\n            keyTime = data.k[iKey].t;\r\n          }\r\n        }\r\n      }\r\n      var obKey = {};\r\n      obKey.index = index;\r\n      obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n      return obKey;\r\n    }\r\n\r\n    function key(ind) {\r\n      var obKey;\r\n      var iKey;\r\n      var lenKey;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        throw new Error('The property has no keyframe at index ' + ind);\r\n      }\r\n      ind -= 1;\r\n      obKey = {\r\n        time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n        value: [],\r\n      };\r\n      var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n      lenKey = arr.length;\r\n      for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n        obKey[iKey] = arr[iKey];\r\n        obKey.value[iKey] = arr[iKey];\r\n      }\r\n      return obKey;\r\n    }\r\n\r\n    function framesToTime(frames, fps) {\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return frames / fps;\r\n    }\r\n\r\n    function timeToFrames(t, fps) {\r\n      if (!t && t !== 0) {\r\n        t = time;\r\n      }\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return t * fps;\r\n    }\r\n\r\n    function seedRandom(seed) {\r\n      BMMath.seedrandom(randSeed + seed);\r\n    }\r\n\r\n    function sourceRectAtTime() {\r\n      return elem.sourceRectAtTime();\r\n    }\r\n\r\n    function substring(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substring(init);\r\n        }\r\n        return value.substring(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function substr(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substr(init);\r\n        }\r\n        return value.substr(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function posterizeTime(framesPerSecond) {\r\n      time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n      value = valueAtTime(time);\r\n    }\r\n\r\n    var time;\r\n    var velocity;\r\n    var value;\r\n    var text;\r\n    var textIndex;\r\n    var textTotal;\r\n    var selectorValue;\r\n    var index = elem.data.ind;\r\n    var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n    var parent;\r\n    var randSeed = Math.floor(Math.random() * 1000000);\r\n    var globalData = elem.globalData;\r\n    function executeExpression(_value) {\r\n      // globalData.pushExpression();\r\n      value = _value;\r\n      if (_needsRandom) {\r\n        seedRandom(randSeed);\r\n      }\r\n      if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n        return value;\r\n      }\r\n      if (this.propType === 'textSelector') {\r\n        textIndex = this.textIndex;\r\n        textTotal = this.textTotal;\r\n        selectorValue = this.selectorValue;\r\n      }\r\n      if (!thisLayer) {\r\n        text = elem.layerInterface.text;\r\n        thisLayer = elem.layerInterface;\r\n        thisComp = elem.comp.compInterface;\r\n        toWorld = thisLayer.toWorld.bind(thisLayer);\r\n        fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n        fromComp = thisLayer.fromComp.bind(thisLayer);\r\n        toComp = thisLayer.toComp.bind(thisLayer);\r\n        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n        fromCompToSurface = fromComp;\r\n      }\r\n      if (!transform) {\r\n        transform = elem.layerInterface('ADBE Transform Group');\r\n        $bm_transform = transform;\r\n        if (transform) {\r\n          anchorPoint = transform.anchorPoint;\r\n          /* position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale; */\r\n        }\r\n      }\r\n\r\n      if (elemType === 4 && !content) {\r\n        content = thisLayer('ADBE Root Vectors Group');\r\n      }\r\n      if (!effect) {\r\n        effect = thisLayer(4);\r\n      }\r\n      hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      if (hasParent && !parent) {\r\n        parent = elem.hierarchy[0].layerInterface;\r\n      }\r\n      time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      if (needsVelocity) {\r\n        velocity = velocityAtTime(time);\r\n      }\r\n      expression_function();\r\n      this.frameExpressionId = elem.globalData.frameId;\r\n\r\n      // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n      if (scoped_bm_rt.propType === 'shape') {\r\n        scoped_bm_rt = scoped_bm_rt.v;\r\n      }\r\n      // globalData.popExpression();\r\n      return scoped_bm_rt;\r\n    }\r\n    return executeExpression;\r\n  }\r\n\r\n  ob.initiateExpression = initiateExpression;\r\n  return ob;\r\n}());\r\n\r\n/* global ExpressionManager, createTypedArray */\r\n/* exported expressionHelpers */\r\n\r\nvar expressionHelpers = (function () {\r\n  function searchExpressions(elem, data, prop) {\r\n    if (data.x) {\r\n      prop.k = true;\r\n      prop.x = true;\r\n      prop.initiateExpression = ExpressionManager.initiateExpression;\r\n      prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n    }\r\n  }\r\n\r\n  function getValueAtTime(frameNum) {\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastFrame) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n      this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n      this._cachingAtTime.lastFrame = frameNum;\r\n    }\r\n    return this._cachingAtTime.value;\r\n  }\r\n\r\n  function getSpeedAtTime(frameNum) {\r\n    var delta = -0.01;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var speed = 0;\r\n    if (v1.length) {\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        speed += Math.pow(v2[i] - v1[i], 2);\r\n      }\r\n      speed = Math.sqrt(speed) * 100;\r\n    } else {\r\n      speed = 0;\r\n    }\r\n    return speed;\r\n  }\r\n\r\n  function getVelocityAtTime(frameNum) {\r\n    if (this.vel !== undefined) {\r\n      return this.vel;\r\n    }\r\n    var delta = -0.001;\r\n    // frameNum += this.elem.data.st;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var velocity;\r\n    if (v1.length) {\r\n      velocity = createTypedArray('float32', v1.length);\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        // removing frameRate\r\n        // if needed, don't add it here\r\n        // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n        velocity[i] = (v2[i] - v1[i]) / delta;\r\n      }\r\n    } else {\r\n      velocity = (v2 - v1) / delta;\r\n    }\r\n    return velocity;\r\n  }\r\n\r\n  function getStaticValueAtTime() {\r\n    return this.pv;\r\n  }\r\n\r\n  function setGroupProperty(propertyGroup) {\r\n    this.propertyGroup = propertyGroup;\r\n  }\r\n\r\n  return {\r\n    searchExpressions: searchExpressions,\r\n    getSpeedAtTime: getSpeedAtTime,\r\n    getVelocityAtTime: getVelocityAtTime,\r\n    getValueAtTime: getValueAtTime,\r\n    getStaticValueAtTime: getStaticValueAtTime,\r\n    setGroupProperty: setGroupProperty,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, Matrix, TransformPropertyFactory, expressionHelpers, PropertyFactory, expressionHelpers,\r\ninitialDefaultFrame, shapePool, ShapePropertyFactory, bez, extendPrototype, ExpressionManager, createSizedArray */\r\n\r\n(function addPropertyDecorator() {\r\n  function loopOut(type, duration, durationFlag) {\r\n    if (!this.k || !this.keyframes) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n    if (currentFrame <= lastKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var firstKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n      } else {\r\n        cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      firstKeyFrame = lastKeyFrame - cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n        }\r\n        return ret;\r\n      }\r\n      return (endV - initV) * repeats + current;\r\n    } else if (type === 'continue') {\r\n      var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(lastValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n        }\r\n        return ret;\r\n      }\r\n      return lastValue + (lastValue - nextLastValue) * (((currentFrame - lastKeyFrame)) / 0.001);\r\n    }\r\n      return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function loopIn(type, duration, durationFlag) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var firstKeyFrame = keyframes[0].t;\r\n    if (currentFrame >= firstKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var lastKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      lastKeyFrame = keyframes[duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n      } else {\r\n        cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      lastKeyFrame = firstKeyFrame + cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n      if (iterations % 2 === 0) {\r\n          return this.getValueAtTime((((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var current = this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration) + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n      var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n        }\r\n        return ret;\r\n      }\r\n      return current - (endV - initV) * repeats;\r\n    } else if (type === 'continue') {\r\n      var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(firstValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = firstValue[i] + ((firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame)) / 0.001;\r\n        }\r\n        return ret;\r\n      }\r\n      return firstValue + ((firstValue - nextFirstValue) * (firstKeyFrame - currentFrame)) / 0.001;\r\n    }\r\n      return this.getValueAtTime(((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame))) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function smooth(width, samples) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    width = (width || 0.4) * 0.5;\r\n    samples = Math.floor(samples || 5);\r\n    if (samples <= 1) {\r\n      return this.pv;\r\n    }\r\n    var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n    var initFrame = currentTime - width;\r\n    var endFrame = currentTime + width;\r\n    var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n    var i = 0;\r\n    var j = 0;\r\n    var value;\r\n    if (this.pv.length) {\r\n      value = createTypedArray('float32', this.pv.length);\r\n    } else {\r\n      value = 0;\r\n    }\r\n    var sampleValue;\r\n    while (i < samples) {\r\n      sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] += sampleValue[j];\r\n        }\r\n      } else {\r\n        value += sampleValue;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (this.pv.length) {\r\n      for (j = 0; j < this.pv.length; j += 1) {\r\n        value[j] /= samples;\r\n      }\r\n    } else {\r\n      value /= samples;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getTransformValueAtTime(time) {\r\n    if (!this._transformCachingAtTime) {\r\n      this._transformCachingAtTime = {\r\n        v: new Matrix(),\r\n      };\r\n    }\r\n    /// /\r\n    var matrix = this._transformCachingAtTime.v;\r\n    matrix.cloneFromProps(this.pre.props);\r\n    if (this.appliedTransformations < 1) {\r\n      var anchor = this.a.getValueAtTime(time);\r\n      matrix.translate(\r\n        -anchor[0] * this.a.mult,\r\n        -anchor[1] * this.a.mult,\r\n        anchor[2] * this.a.mult\r\n      );\r\n    }\r\n    if (this.appliedTransformations < 2) {\r\n      var scale = this.s.getValueAtTime(time);\r\n      matrix.scale(\r\n        scale[0] * this.s.mult,\r\n        scale[1] * this.s.mult,\r\n        scale[2] * this.s.mult\r\n      );\r\n    }\r\n    if (this.sk && this.appliedTransformations < 3) {\r\n      var skew = this.sk.getValueAtTime(time);\r\n      var skewAxis = this.sa.getValueAtTime(time);\r\n      matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n    }\r\n    if (this.r && this.appliedTransformations < 4) {\r\n      var rotation = this.r.getValueAtTime(time);\r\n      matrix.rotate(-rotation * this.r.mult);\r\n    } else if (!this.r && this.appliedTransformations < 4) {\r\n      var rotationZ = this.rz.getValueAtTime(time);\r\n      var rotationY = this.ry.getValueAtTime(time);\r\n      var rotationX = this.rx.getValueAtTime(time);\r\n      var orientation = this.or.getValueAtTime(time);\r\n      matrix.rotateZ(-rotationZ * this.rz.mult)\r\n        .rotateY(rotationY * this.ry.mult)\r\n        .rotateX(rotationX * this.rx.mult)\r\n        .rotateZ(-orientation[2] * this.or.mult)\r\n        .rotateY(orientation[1] * this.or.mult)\r\n        .rotateX(orientation[0] * this.or.mult);\r\n    }\r\n    if (this.data.p && this.data.p.s) {\r\n      var positionX = this.px.getValueAtTime(time);\r\n      var positionY = this.py.getValueAtTime(time);\r\n      if (this.data.p.z) {\r\n        var positionZ = this.pz.getValueAtTime(time);\r\n        matrix.translate(\r\n          positionX * this.px.mult,\r\n          positionY * this.py.mult,\r\n          -positionZ * this.pz.mult\r\n        );\r\n      } else {\r\n        matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n      }\r\n    } else {\r\n      var position = this.p.getValueAtTime(time);\r\n      matrix.translate(\r\n        position[0] * this.p.mult,\r\n        position[1] * this.p.mult,\r\n        -position[2] * this.p.mult\r\n      );\r\n    }\r\n    return matrix;\r\n    /// /\r\n  }\r\n\r\n  function getTransformStaticValueAtTime() {\r\n    return this.v.clone(new Matrix());\r\n  }\r\n\r\n  var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n  TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n    var prop = getTransformProperty(elem, data, container);\r\n    if (prop.dynamicProperties.length) {\r\n      prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    return prop;\r\n  };\r\n\r\n  var propertyGetProp = PropertyFactory.getProp;\r\n  PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n    var prop = propertyGetProp(elem, data, type, mult, container);\r\n    // prop.getVelocityAtTime = getVelocityAtTime;\r\n    // prop.loopOut = loopOut;\r\n    // prop.loopIn = loopIn;\r\n    if (prop.kf) {\r\n      prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    prop.loopOut = loopOut;\r\n    prop.loopIn = loopIn;\r\n    prop.smooth = smooth;\r\n    prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n    prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n    prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n    prop.propertyIndex = data.ix;\r\n    var value = 0;\r\n    if (type !== 0) {\r\n      value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n    }\r\n    prop._cachingAtTime = {\r\n      lastFrame: initialDefaultFrame,\r\n      lastIndex: 0,\r\n      value: value,\r\n    };\r\n    expressionHelpers.searchExpressions(elem, data, prop);\r\n    if (prop.k) {\r\n      container.addDynamicProperty(prop);\r\n    }\r\n\r\n    return prop;\r\n  };\r\n\r\n  function getShapeValueAtTime(frameNum) {\r\n    // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n    if (!this._cachingAtTime) {\r\n      this._cachingAtTime = {\r\n        shapeValue: shapePool.clone(this.pv),\r\n        lastIndex: 0,\r\n        lastTime: initialDefaultFrame,\r\n      };\r\n    }\r\n\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastTime) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n      this._cachingAtTime.lastTime = frameNum;\r\n      this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n    }\r\n    return this._cachingAtTime.shapeValue;\r\n  }\r\n\r\n  var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n  var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n  function ShapeExpressions() {}\r\n  ShapeExpressions.prototype = {\r\n    vertices: function (prop, time) {\r\n      if (this.k) {\r\n        this.getValue();\r\n      }\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      var i;\r\n      var len = shapePath._length;\r\n      var vertices = shapePath[prop];\r\n      var points = shapePath.v;\r\n      var arr = createSizedArray(len);\r\n      for (i = 0; i < len; i += 1) {\r\n        if (prop === 'i' || prop === 'o') {\r\n          arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n        } else {\r\n          arr[i] = [vertices[i][0], vertices[i][1]];\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    points: function (time) {\r\n      return this.vertices('v', time);\r\n    },\r\n    inTangents: function (time) {\r\n      return this.vertices('i', time);\r\n    },\r\n    outTangents: function (time) {\r\n      return this.vertices('o', time);\r\n    },\r\n    isClosed: function () {\r\n      return this.v.c;\r\n    },\r\n    pointOnPath: function (perc, time) {\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      if (!this._segmentsLength) {\r\n        this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n      }\r\n\r\n      var segmentsLength = this._segmentsLength;\r\n      var lengths = segmentsLength.lengths;\r\n      var lengthPos = segmentsLength.totalLength * perc;\r\n      var i = 0;\r\n      var len = lengths.length;\r\n      var accumulatedLength = 0;\r\n      var pt;\r\n      while (i < len) {\r\n        if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n          var initIndex = i;\r\n          var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n          var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n          pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n          break;\r\n        } else {\r\n          accumulatedLength += lengths[i].addedLength;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!pt) {\r\n        pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n      }\r\n      return pt;\r\n    },\r\n    vectorOnPath: function (perc, time, vectorType) {\r\n      // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n      if (perc == 1) { // eslint-disable-line eqeqeq\r\n        perc = this.v.c;\r\n      } else if (perc == 0) { // eslint-disable-line eqeqeq\r\n        perc = 0.999;\r\n      }\r\n      var pt1 = this.pointOnPath(perc, time);\r\n      var pt2 = this.pointOnPath(perc + 0.001, time);\r\n      var xLength = pt2[0] - pt1[0];\r\n      var yLength = pt2[1] - pt1[1];\r\n      var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n      if (magnitude === 0) {\r\n        return [0, 0];\r\n      }\r\n      var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n      return unitVector;\r\n    },\r\n    tangentOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'tangent');\r\n    },\r\n    normalOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'normal');\r\n    },\r\n    setGroupProperty: expressionHelpers.setGroupProperty,\r\n    getValueAtTime: expressionHelpers.getStaticValueAtTime,\r\n  };\r\n  extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n  extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n  KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n  KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n  var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n  ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n    var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n    prop.propertyIndex = data.ix;\r\n    prop.lock = false;\r\n    if (type === 3) {\r\n      expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n    } else if (type === 4) {\r\n      expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  };\r\n}());\r\n\r\n/* global ExpressionManager, TextProperty */\r\n\r\n(function addDecorator() {\r\n  function searchExpressions() {\r\n    if (this.data.d.x) {\r\n      this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n      this.addEffect(this.getExpressionValue.bind(this));\r\n      return true;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n    var newValue = this.calculateExpression(text);\r\n    if (currentValue.t !== newValue) {\r\n      var newData = {};\r\n      this.copyData(newData, currentValue);\r\n      newData.t = newValue.toString();\r\n      newData.__complete = false;\r\n      return newData;\r\n    }\r\n    return currentValue;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    var isKeyframed = this.searchKeyframes();\r\n    var hasExpressions = this.searchExpressions();\r\n    this.kf = isKeyframed || hasExpressions;\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.searchExpressions = searchExpressions;\r\n}());\r\n\r\n/* global propertyGroupFactory, PropertyInterface */\r\n/* exported ShapePathInterface */\r\n\r\nvar ShapePathInterface = (\r\n\r\n  function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        shape: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        _name: { value: shape.nm },\r\n        ix: { value: shape.ix },\r\n        propertyIndex: { value: shape.ix },\r\n        mn: { value: shape.mn },\r\n        propertyGroup: { value: propertyGroup },\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }()\r\n);\r\n\r\n/* exported propertyGroupFactory */\r\n\r\nvar propertyGroupFactory = (function () {\r\n  return function (interfaceFunction, parentPropertyGroup) {\r\n    return function (val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return parentPropertyGroup(val - 1);\r\n    };\r\n  };\r\n}());\r\n\r\n/* exported PropertyInterface */\r\n\r\nvar PropertyInterface = (function () {\r\n  return function (propertyName, propertyGroup) {\r\n    var interfaceFunction = {\r\n      _name: propertyName,\r\n    };\r\n\r\n    function _propertyGroup(val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return propertyGroup(val - 1);\r\n    }\r\n\r\n    return _propertyGroup;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface, PropertyInterface, propertyGroupFactory, ShapePathInterface */\r\n/* exported ShapeExpressionInterface */\r\n\r\nvar ShapeExpressionInterface = (function () {\r\n  function iterateElements(shapes, view, propertyGroup) {\r\n    var arr = [];\r\n    var i;\r\n    var len = shapes ? shapes.length : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shapes[i].ty === 'gr') {\r\n        arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'fl') {\r\n        arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'st') {\r\n        arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tm') {\r\n        arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tr') {\r\n        // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n      } else if (shapes[i].ty === 'el') {\r\n        arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sr') {\r\n        arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sh') {\r\n        arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rc') {\r\n        arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rd') {\r\n        arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rp') {\r\n        arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'gf') {\r\n        arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else {\r\n        arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaces;\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      if (typeof value === 'number') {\r\n        return interfaces[value - 1];\r\n      }\r\n      return null;\r\n    };\r\n\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n    interfaceFunction.numProperties = interfaces.length;\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.transform = transformInterface;\r\n    interfaceFunction.propertyIndex = shape.cix;\r\n    interfaceFunction._name = shape.nm;\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function groupInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      switch (value) {\r\n        case 'ADBE Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n        default:\r\n          return interfaceFunction.transform;\r\n      }\r\n    };\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.content = content;\r\n    interfaceFunction.transform = transformInterface;\r\n    Object.defineProperty(interfaceFunction, '_name', {\r\n      get: function () {\r\n        return shape.nm;\r\n      },\r\n    });\r\n    // interfaceFunction.content = interfaceFunction;\r\n    interfaceFunction.numProperties = shape.np;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.nm = shape.nm;\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function fillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function gradientFillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Start Point' || val === 'start point') {\r\n        return interfaceFunction.startPoint;\r\n      }\r\n      if (val === 'End Point' || val === 'end point') {\r\n        return interfaceFunction.endPoint;\r\n      }\r\n      if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      startPoint: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      endPoint: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      type: {\r\n        get: function () {\r\n          return 'a';\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n  function defaultInterfaceFactory() {\r\n    function interfaceFunction() {\r\n      return null;\r\n    }\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n    function addPropertyToDashOb(i) {\r\n      Object.defineProperty(dashOb, shape.d[i].nm, {\r\n        get: ExpressionPropertyInterface(view.d.dataProps[i].p),\r\n      });\r\n    }\r\n    var i;\r\n    var len = shape.d ? shape.d.length : 0;\r\n    var dashOb = {};\r\n    for (i = 0; i < len; i += 1) {\r\n      addPropertyToDashOb(i);\r\n      view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n    }\r\n\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      } if (val === 'Stroke Width' || val === 'stroke width') {\r\n        return interfaceFunction.strokeWidth;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      strokeWidth: {\r\n        get: ExpressionPropertyInterface(view.w),\r\n      },\r\n      dash: {\r\n        get: function () {\r\n          return dashOb;\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function trimInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n        return interfaceFunction.end;\r\n      }\r\n      if (val === shape.s.ix) {\r\n        return interfaceFunction.start;\r\n      }\r\n      if (val === shape.o.ix) {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      start: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      end: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function transformInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.a.ix === value || value === 'Anchor Point') {\r\n        return interfaceFunction.anchorPoint;\r\n      }\r\n      if (shape.o.ix === value || value === 'Opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      if (shape.p.ix === value || value === 'Position') {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.s.ix === value || value === 'Scale') {\r\n        return interfaceFunction.scale;\r\n      }\r\n      if ((shape.sk && shape.sk.ix === value) || value === 'Skew') {\r\n        return interfaceFunction.skew;\r\n      }\r\n      if ((shape.sa && shape.sa.ix === value) || value === 'Skew Axis') {\r\n        return interfaceFunction.skewAxis;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n    view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n    view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (view.transform.mProps.sk) {\r\n      view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n      view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n    }\r\n    view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.o),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.p),\r\n      },\r\n      anchorPoint: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.a),\r\n      },\r\n      scale: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.s),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.r),\r\n      },\r\n      skew: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sk),\r\n      },\r\n      skewAxis: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sa),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.ty = 'tr';\r\n    interfaceFunction.mn = shape.mn;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.s.ix === value) {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function starInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.pt.ix === value) {\r\n        return interfaceFunction.points;\r\n      }\r\n      if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n        return interfaceFunction.outerRadius;\r\n      }\r\n      if (shape.os.ix === value) {\r\n        return interfaceFunction.outerRoundness;\r\n      }\r\n      if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n        return interfaceFunction.innerRadius;\r\n      }\r\n      if (shape.is && shape.is.ix === value) {\r\n        return interfaceFunction.innerRoundness;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n    prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n    prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (shape.ir) {\r\n      prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n      prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n    }\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      points: {\r\n        get: ExpressionPropertyInterface(prop.pt),\r\n      },\r\n      outerRadius: {\r\n        get: ExpressionPropertyInterface(prop.or),\r\n      },\r\n      outerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.os),\r\n      },\r\n      innerRadius: {\r\n        get: ExpressionPropertyInterface(prop.ir),\r\n      },\r\n      innerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.is),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function rectInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.roundness;\r\n      }\r\n      if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      roundness: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.r.ix === value || value === 'Round Corners 1') {\r\n        return interfaceFunction.radius;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      radius: {\r\n        get: ExpressionPropertyInterface(prop.rd),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.c.ix === value || value === 'Copies') {\r\n        return interfaceFunction.copies;\r\n      } if (shape.o.ix === value || value === 'Offset') {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n    prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      copies: {\r\n        get: ExpressionPropertyInterface(prop.c),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(prop.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return function (shapes, view, propertyGroup) {\r\n    var interfaces;\r\n    function _interfaceFunction(value) {\r\n      if (typeof value === 'number') {\r\n        value = value === undefined ? 1 : value;\r\n        if (value === 0) {\r\n          return propertyGroup;\r\n        }\r\n        return interfaces[value - 1];\r\n      }\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n    function parentGroupWrapper() {\r\n      return propertyGroup;\r\n    }\r\n    _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n    interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n    _interfaceFunction.numProperties = interfaces.length;\r\n    _interfaceFunction._name = 'Contents';\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported TextExpressionInterface */\r\n\r\nvar TextExpressionInterface = (function () {\r\n  return function (elem) {\r\n    var _prevValue;\r\n    var _sourceText;\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Text Document':\r\n          return _thisLayerFunction.sourceText;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n      get: function () {\r\n        elem.textProperty.getValue();\r\n        var stringValue = elem.textProperty.currentData.t;\r\n        if (stringValue !== _prevValue) {\r\n          elem.textProperty.currentData.t = _prevValue;\r\n          _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n          // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n          _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n        }\r\n        return _sourceText;\r\n      },\r\n    });\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global Matrix, MaskManagerInterface, TransformExpressionInterface, getDescriptor */\r\n/* exported LayerExpressionInterface */\r\n\r\nvar LayerExpressionInterface = (function () {\r\n  function getMatrix(time) {\r\n    var toWorldMat = new Matrix();\r\n    if (time !== undefined) {\r\n      var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n      propMatrix.clone(toWorldMat);\r\n    } else {\r\n      var transformMat = this._elem.finalTransform.mProp;\r\n      transformMat.applyToMatrix(toWorldMat);\r\n    }\r\n    return toWorldMat;\r\n  }\r\n\r\n  function toWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function toWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function applyPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n  }\r\n\r\n  function invertPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.inversePoint(arr);\r\n  }\r\n\r\n  function fromComp(arr) {\r\n    var toWorldMat = new Matrix();\r\n    toWorldMat.reset();\r\n    this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n      }\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n    return toWorldMat.inversePoint(arr);\r\n  }\r\n\r\n  function sampleImage() {\r\n    return [1, 1, 1, 1];\r\n  }\r\n\r\n  return function (elem) {\r\n    var transformInterface;\r\n\r\n    function _registerMaskInterface(maskManager) {\r\n      _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n    }\r\n    function _registerEffectsInterface(effects) {\r\n      _thisLayerFunction.effect = effects;\r\n    }\r\n\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Root Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return _thisLayerFunction.shapeInterface;\r\n        case 1:\r\n        case 6:\r\n        case 'Transform':\r\n        case 'transform':\r\n        case 'ADBE Transform Group':\r\n          return transformInterface;\r\n        case 4:\r\n        case 'ADBE Effect Parade':\r\n        case 'effects':\r\n        case 'Effects':\r\n          return _thisLayerFunction.effect;\r\n        case 'ADBE Text Properties':\r\n          return _thisLayerFunction.textInterface;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    _thisLayerFunction.getMatrix = getMatrix;\r\n    _thisLayerFunction.invertPoint = invertPoint;\r\n    _thisLayerFunction.applyPoint = applyPoint;\r\n    _thisLayerFunction.toWorld = toWorld;\r\n    _thisLayerFunction.toWorldVec = toWorldVec;\r\n    _thisLayerFunction.fromWorld = fromWorld;\r\n    _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n    _thisLayerFunction.toComp = toWorld;\r\n    _thisLayerFunction.fromComp = fromComp;\r\n    _thisLayerFunction.sampleImage = sampleImage;\r\n    _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n    _thisLayerFunction._elem = elem;\r\n    transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n    var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n    Object.defineProperties(_thisLayerFunction, {\r\n      hasParent: {\r\n        get: function () {\r\n          return elem.hierarchy.length;\r\n        },\r\n      },\r\n      parent: {\r\n        get: function () {\r\n          return elem.hierarchy[0].layerInterface;\r\n        },\r\n      },\r\n      rotation: getDescriptor(transformInterface, 'rotation'),\r\n      scale: getDescriptor(transformInterface, 'scale'),\r\n      position: getDescriptor(transformInterface, 'position'),\r\n      opacity: getDescriptor(transformInterface, 'opacity'),\r\n      anchorPoint: anchorPointDescriptor,\r\n      anchor_point: anchorPointDescriptor,\r\n      transform: {\r\n        get: function () {\r\n          return transformInterface;\r\n        },\r\n      },\r\n      active: {\r\n        get: function () {\r\n          return elem.isInRange;\r\n        },\r\n      },\r\n    });\r\n\r\n    _thisLayerFunction.startTime = elem.data.st;\r\n    _thisLayerFunction.index = elem.data.ind;\r\n    _thisLayerFunction.source = elem.data.refId;\r\n    _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n    _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n    _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction._name = elem.data.nm;\r\n\r\n    _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n    _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global */\r\n/* exported FootageInterface */\r\n\r\nvar FootageInterface = (function () {\r\n  var outlineInterfaceFactory = (function (elem) {\r\n    var currentPropertyName = '';\r\n    var currentProperty = elem.getFootageData();\r\n    function init() {\r\n      currentPropertyName = '';\r\n      currentProperty = elem.getFootageData();\r\n      return searchProperty;\r\n    }\r\n    function searchProperty(value) {\r\n      if (currentProperty[value]) {\r\n        currentPropertyName = value;\r\n        currentProperty = currentProperty[value];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      var propertyNameIndex = value.indexOf(currentPropertyName);\r\n      if (propertyNameIndex !== -1) {\r\n        var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\r\n        currentProperty = currentProperty[index];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      return '';\r\n    }\r\n    return init;\r\n  });\r\n\r\n  var dataInterfaceFactory = function (elem) {\r\n    function interfaceFunction(value) {\r\n      if (value === 'Outline') {\r\n        return interfaceFunction.outlineInterface();\r\n      }\r\n      return null;\r\n    }\r\n\r\n    interfaceFunction._name = 'Outline';\r\n    interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\r\n    return interfaceFunction;\r\n  };\r\n\r\n  return function (elem) {\r\n    function _interfaceFunction(value) {\r\n      if (value === 'Data') {\r\n        return _interfaceFunction.dataInterface;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _interfaceFunction._name = 'Data';\r\n    _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported CompExpressionInterface */\r\n\r\nvar CompExpressionInterface = (function () {\r\n  return function (comp) {\r\n    function _thisLayerFunction(name) {\r\n      var i = 0;\r\n      var len = comp.layers.length;\r\n      while (i < len) {\r\n        if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n          return comp.elements[i].layerInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n      // return {active:false};\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, '_name', { value: comp.data.nm });\r\n    _thisLayerFunction.layer = _thisLayerFunction;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n    _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n    _thisLayerFunction.displayStartTime = 0;\r\n    _thisLayerFunction.numLayers = comp.layers.length;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface */\r\n/* exported TransformExpressionInterface */\r\n\r\nvar TransformExpressionInterface = (function () {\r\n  return function (transform) {\r\n    function _thisFunction(name) {\r\n      switch (name) {\r\n        case 'scale':\r\n        case 'Scale':\r\n        case 'ADBE Scale':\r\n        case 6:\r\n          return _thisFunction.scale;\r\n        case 'rotation':\r\n        case 'Rotation':\r\n        case 'ADBE Rotation':\r\n        case 'ADBE Rotate Z':\r\n        case 10:\r\n          return _thisFunction.rotation;\r\n        case 'ADBE Rotate X':\r\n          return _thisFunction.xRotation;\r\n        case 'ADBE Rotate Y':\r\n          return _thisFunction.yRotation;\r\n        case 'position':\r\n        case 'Position':\r\n        case 'ADBE Position':\r\n        case 2:\r\n          return _thisFunction.position;\r\n        case 'ADBE Position_0':\r\n          return _thisFunction.xPosition;\r\n        case 'ADBE Position_1':\r\n          return _thisFunction.yPosition;\r\n        case 'ADBE Position_2':\r\n          return _thisFunction.zPosition;\r\n        case 'anchorPoint':\r\n        case 'AnchorPoint':\r\n        case 'Anchor Point':\r\n        case 'ADBE AnchorPoint':\r\n        case 1:\r\n          return _thisFunction.anchorPoint;\r\n        case 'opacity':\r\n        case 'Opacity':\r\n        case 11:\r\n          return _thisFunction.opacity;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'rotation', {\r\n      get: ExpressionPropertyInterface(transform.r || transform.rz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zRotation', {\r\n      get: ExpressionPropertyInterface(transform.rz || transform.r),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xRotation', {\r\n      get: ExpressionPropertyInterface(transform.rx),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yRotation', {\r\n      get: ExpressionPropertyInterface(transform.ry),\r\n    });\r\n    Object.defineProperty(_thisFunction, 'scale', {\r\n      get: ExpressionPropertyInterface(transform.s),\r\n    });\r\n    var _px;\r\n    var _py;\r\n    var _pz;\r\n    var _transformFactory;\r\n    if (transform.p) {\r\n      _transformFactory = ExpressionPropertyInterface(transform.p);\r\n    } else {\r\n      _px = ExpressionPropertyInterface(transform.px);\r\n      _py = ExpressionPropertyInterface(transform.py);\r\n      if (transform.pz) {\r\n        _pz = ExpressionPropertyInterface(transform.pz);\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'position', {\r\n      get: function () {\r\n        if (transform.p) {\r\n          return _transformFactory();\r\n        }\r\n        return [\r\n          _px(),\r\n          _py(),\r\n          _pz ? _pz() : 0];\r\n      },\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xPosition', {\r\n      get: ExpressionPropertyInterface(transform.px),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yPosition', {\r\n      get: ExpressionPropertyInterface(transform.py),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zPosition', {\r\n      get: ExpressionPropertyInterface(transform.pz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n      get: ExpressionPropertyInterface(transform.a),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'opacity', {\r\n      get: ExpressionPropertyInterface(transform.o),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skew', {\r\n      get: ExpressionPropertyInterface(transform.sk),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skewAxis', {\r\n      get: ExpressionPropertyInterface(transform.sa),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'orientation', {\r\n      get: ExpressionPropertyInterface(transform.or),\r\n    });\r\n\r\n    return _thisFunction;\r\n  };\r\n}());\r\n\r\n/* exported ProjectInterface */\r\n\r\nvar ProjectInterface = (function () {\r\n  function registerComposition(comp) {\r\n    this.compositions.push(comp);\r\n  }\r\n\r\n  return function () {\r\n    function _thisProjectFunction(name) {\r\n      var i = 0;\r\n      var len = this.compositions.length;\r\n      while (i < len) {\r\n        if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n          if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n            this.compositions[i].prepareFrame(this.currentFrame);\r\n          }\r\n          return this.compositions[i].compInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _thisProjectFunction.compositions = [];\r\n    _thisProjectFunction.currentFrame = 0;\r\n\r\n    _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n    return _thisProjectFunction;\r\n  };\r\n}());\r\n\r\n/* global propertyGroupFactory, ExpressionPropertyInterface, PropertyInterface */\r\n/* exported EffectsExpressionInterface */\r\n\r\nvar EffectsExpressionInterface = (function () {\r\n  var ob = {\r\n    createEffectsInterface: createEffectsInterface,\r\n  };\r\n\r\n  function createEffectsInterface(elem, propertyGroup) {\r\n    if (elem.effectsManager) {\r\n      var effectElements = [];\r\n      var effectsData = elem.data.ef;\r\n      var i;\r\n      var len = elem.effectsManager.effectElements.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n      }\r\n\r\n      var effects = elem.data.ef || [];\r\n      var groupInterface = function (name) {\r\n        i = 0;\r\n        len = effects.length;\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            return effectElements[i];\r\n          }\r\n          i += 1;\r\n        }\r\n        return null;\r\n      };\r\n      Object.defineProperty(groupInterface, 'numProperties', {\r\n        get: function () {\r\n          return effects.length;\r\n        },\r\n      });\r\n      return groupInterface;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function createGroupInterface(data, elements, propertyGroup, elem) {\r\n    function groupInterface(name) {\r\n      var effects = data.ef;\r\n      var i = 0;\r\n      var len = effects.length;\r\n      while (i < len) {\r\n        if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n          if (effects[i].ty === 5) {\r\n            return effectElements[i];\r\n          }\r\n          return effectElements[i]();\r\n        }\r\n        i += 1;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n    var effectElements = [];\r\n    var i;\r\n    var len = data.ef.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (data.ef[i].ty === 5) {\r\n        effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n      } else {\r\n        effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n      }\r\n    }\r\n\r\n    if (data.mn === 'ADBE Color Control') {\r\n      Object.defineProperty(groupInterface, 'color', {\r\n        get: function () {\r\n          return effectElements[0]();\r\n        },\r\n      });\r\n    }\r\n    Object.defineProperties(groupInterface, {\r\n      numProperties: {\r\n        get: function () {\r\n          return data.np;\r\n        },\r\n      },\r\n      _name: { value: data.nm },\r\n      propertyGroup: { value: _propertyGroup },\r\n    });\r\n    groupInterface.enabled = data.en !== 0;\r\n    groupInterface.active = groupInterface.enabled;\r\n    return groupInterface;\r\n  }\r\n\r\n  function createValueInterface(element, type, elem, propertyGroup) {\r\n    var expressionProperty = ExpressionPropertyInterface(element.p);\r\n    function interfaceFunction() {\r\n      if (type === 10) {\r\n        return elem.comp.compInterface(element.p.v);\r\n      }\r\n      return expressionProperty();\r\n    }\r\n\r\n    if (element.p.setGroupProperty) {\r\n      element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n    }\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported MaskManagerInterface */\r\n\r\nvar MaskManagerInterface = (function () {\r\n  function MaskInterface(mask, data) {\r\n    this._mask = mask;\r\n    this._data = data;\r\n  }\r\n  Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n    get: function () {\r\n      if (this._mask.prop.k) {\r\n        this._mask.prop.getValue();\r\n      }\r\n      return this._mask.prop;\r\n    },\r\n  });\r\n  Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n    get: function () {\r\n      if (this._mask.op.k) {\r\n        this._mask.op.getValue();\r\n      }\r\n      return this._mask.op.v * 100;\r\n    },\r\n  });\r\n\r\n  var MaskManager = function (maskManager) {\r\n    var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n    var i;\r\n    var len = maskManager.viewData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n    }\r\n\r\n    var maskFunction = function (name) {\r\n      i = 0;\r\n      while (i < len) {\r\n        if (maskManager.masksProperties[i].nm === name) {\r\n          return _masksInterfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    };\r\n    return maskFunction;\r\n  };\r\n  return MaskManager;\r\n}());\r\n\r\n/* global createTypedArray */\r\n/* exported ExpressionPropertyInterface */\r\n\r\nvar ExpressionPropertyInterface = (function () {\r\n  var defaultUnidimensionalValue = { pv: 0, v: 0, mult: 1 };\r\n  var defaultMultidimensionalValue = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };\r\n\r\n  function completeProperty(expressionValue, property, type) {\r\n    Object.defineProperty(expressionValue, 'velocity', {\r\n      get: function () {\r\n        return property.getVelocityAtTime(property.comp.currentFrame);\r\n      },\r\n    });\r\n    expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n    expressionValue.key = function (pos) {\r\n      if (!expressionValue.numKeys) {\r\n        return 0;\r\n      }\r\n      var value = '';\r\n      if ('s' in property.keyframes[pos - 1]) {\r\n        value = property.keyframes[pos - 1].s;\r\n      } else if ('e' in property.keyframes[pos - 2]) {\r\n        value = property.keyframes[pos - 2].e;\r\n      } else {\r\n        value = property.keyframes[pos - 2].s;\r\n      }\r\n      var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n      valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n      valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n      return valueProp;\r\n    };\r\n    expressionValue.valueAtTime = property.getValueAtTime;\r\n    expressionValue.speedAtTime = property.getSpeedAtTime;\r\n    expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n    expressionValue.propertyGroup = property.propertyGroup;\r\n  }\r\n\r\n  function UnidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultUnidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var val = property.pv * mult;\r\n    var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n    expressionValue.value = val;\r\n    completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      val = property.v * mult;\r\n      if (expressionValue.value !== val) {\r\n        expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  function MultidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultMultidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var len = (property.data && property.data.l) || property.pv.length;\r\n    var expressionValue = createTypedArray('float32', len);\r\n    var arrValue = createTypedArray('float32', len);\r\n    expressionValue.value = arrValue;\r\n    completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      for (var i = 0; i < len; i += 1) {\r\n        arrValue[i] = property.v[i] * mult;\r\n        expressionValue[i] = arrValue[i];\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  // TODO: try to avoid using this getter\r\n  function defaultGetter() {\r\n    return defaultUnidimensionalValue;\r\n  }\r\n\r\n  return function (property) {\r\n    if (!property) {\r\n      return defaultGetter;\r\n    } if (property.propType === 'unidimensional') {\r\n      return UnidimensionalPropertyInterface(property);\r\n    }\r\n    return MultidimensionalPropertyInterface(property);\r\n  };\r\n}());\r\n\r\n/* global expressionHelpers, TextSelectorProp, ExpressionManager */\r\n/* exported TextExpressionSelectorPropFactory */\r\n\r\nvar TextExpressionSelectorPropFactory = (function () { // eslint-disable-line no-unused-vars\r\n  function getValueProxy(index, total) {\r\n    this.textIndex = index + 1;\r\n    this.textTotal = total;\r\n    this.v = this.getValue() * this.mult;\r\n    return this.v;\r\n  }\r\n\r\n  return function (elem, data) {\r\n    this.pv = 1;\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.mult = 0.01;\r\n    this.propType = 'textSelector';\r\n    this.textTotal = data.totalChars;\r\n    this.selectorValue = 100;\r\n    this.lastValue = [1, 1, 1];\r\n    this.k = true;\r\n    this.x = true;\r\n    this.getValue = ExpressionManager.initiateExpression.bind(this)(elem, data, this);\r\n    this.getMult = getValueProxy;\r\n    this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n    if (this.kf) {\r\n      this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n    } else {\r\n      this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n    }\r\n    this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n  };\r\n}());\r\n\r\nvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\nTextSelectorProp.getTextSelectorProp = function (elem, data, arr) {\r\n  if (data.t === 1) {\r\n    return new TextExpressionSelectorPropFactory(elem, data, arr); // eslint-disable-line no-undef\r\n  }\r\n  return propertyGetTextProp(elem, data, arr);\r\n};\r\n\r\n/* global PropertyFactory */\r\n/* exported SliderEffect, AngleEffect, ColorEffect, PointEffect, LayerIndexEffect, MaskIndexEffect, CheckboxEffect, NoValueEffect */\r\n\r\nfunction SliderEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction AngleEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction ColorEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction PointEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction LayerIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction MaskIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction CheckboxEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction NoValueEffect() {\r\n  this.p = {};\r\n}\r\n\r\n/* global extendPrototype, SliderEffect, AngleEffect, ColorEffect, PointEffect, CheckboxEffect, LayerIndexEffect,\r\nMaskIndexEffect, NoValueEffect, DynamicPropertyContainer */\r\n\r\nfunction EffectsManager(data, element) {\r\n  var effects = data.ef || [];\r\n  this.effectElements = [];\r\n  var i;\r\n  var len = effects.length;\r\n  var effectItem;\r\n  for (i = 0; i < len; i += 1) {\r\n    effectItem = new GroupEffect(effects[i], element);\r\n    this.effectElements.push(effectItem);\r\n  }\r\n}\r\n\r\nfunction GroupEffect(data, element) {\r\n  this.init(data, element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function (data, element) {\r\n  this.data = data;\r\n  this.effectElements = [];\r\n  this.initDynamicPropertyContainer(element);\r\n  var i;\r\n  var len = this.data.ef.length;\r\n  var eff;\r\n  var effects = this.data.ef;\r\n  for (i = 0; i < len; i += 1) {\r\n    eff = null;\r\n    switch (effects[i].ty) {\r\n      case 0:\r\n        eff = new SliderEffect(effects[i], element, this);\r\n        break;\r\n      case 1:\r\n        eff = new AngleEffect(effects[i], element, this);\r\n        break;\r\n      case 2:\r\n        eff = new ColorEffect(effects[i], element, this);\r\n        break;\r\n      case 3:\r\n        eff = new PointEffect(effects[i], element, this);\r\n        break;\r\n      case 4:\r\n      case 7:\r\n        eff = new CheckboxEffect(effects[i], element, this);\r\n        break;\r\n      case 10:\r\n        eff = new LayerIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 11:\r\n        eff = new MaskIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 5:\r\n        eff = new EffectsManager(effects[i], element, this);\r\n        break;\r\n        // case 6:\r\n      default:\r\n        eff = new NoValueEffect(effects[i], element, this);\r\n        break;\r\n    }\r\n    if (eff) {\r\n      this.effectElements.push(eff);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction setIDPrefix(prefix) {\r\n  idPrefix = prefix;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.setIDPrefix = setIDPrefix;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.7.13';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","/**\n * SSR Window 3.0.0\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target, src) {\n    if (target === void 0) { target = {}; }\n    if (src === void 0) { src = {}; }\n    Object.keys(src).forEach(function (key) {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nvar ssrDocument = {\n    body: {},\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    activeElement: {\n        blur: function () { },\n        nodeName: '',\n    },\n    querySelector: function () {\n        return null;\n    },\n    querySelectorAll: function () {\n        return [];\n    },\n    getElementById: function () {\n        return null;\n    },\n    createEvent: function () {\n        return {\n            initEvent: function () { },\n        };\n    },\n    createElement: function () {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute: function () { },\n            getElementsByTagName: function () {\n                return [];\n            },\n        };\n    },\n    createElementNS: function () {\n        return {};\n    },\n    importNode: function () {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    var doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nvar ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState: function () { },\n        pushState: function () { },\n        go: function () { },\n        back: function () { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    getComputedStyle: function () {\n        return {\n            getPropertyValue: function () {\n                return '';\n            },\n        };\n    },\n    Image: function () { },\n    Date: function () { },\n    screen: {},\n    setTimeout: function () { },\n    clearTimeout: function () { },\n    matchMedia: function () {\n        return {};\n    },\n    requestAnimationFrame: function (callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame: function (id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    var win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 3.0.0\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  var proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get: function get() {\n      return proto;\n    },\n    set: function set(value) {\n      proto.__proto__ = value;\n    }\n  });\n}\n\nvar Dom7 = /*#__PURE__*/function (_Array) {\n  _inheritsLoose(Dom7, _Array);\n\n  function Dom7(items) {\n    var _this;\n\n    _this = _Array.call.apply(_Array, [this].concat(items)) || this;\n    makeReactive(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  return Dom7;\n}( /*#__PURE__*/_wrapNativeSuper(Array));\n\nfunction arrayFlat(arr) {\n  if (arr === void 0) {\n    arr = [];\n  }\n\n  var res = [];\n  arr.forEach(function (el) {\n    if (Array.isArray(el)) {\n      res.push.apply(res, arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  var uniqueArray = [];\n\n  for (var i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, function (match, group) {\n    return group.toUpperCase();\n  });\n}\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  var a = [];\n  var res = context.querySelectorAll(selector);\n\n  for (var i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  var window = getWindow();\n  var document = getDocument();\n  var arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    var html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      var toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      var tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (var i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\nfunction addClass() {\n  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n    classes[_key] = arguments[_key];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList;\n\n    (_el$classList = el.classList).add.apply(_el$classList, classNames);\n  });\n  return this;\n}\n\nfunction removeClass() {\n  for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    classes[_key2] = arguments[_key2];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList2;\n\n    (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);\n  });\n  return this;\n}\n\nfunction toggleClass() {\n  for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    classes[_key3] = arguments[_key3];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    classNames.forEach(function (className) {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass() {\n  for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    classes[_key4] = arguments[_key4];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  return arrayFilter(this, function (el) {\n    return classNames.filter(function (className) {\n      return el.classList.contains(className);\n    }).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (var attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (var i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (var propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  var el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    var dataKey = el.getAttribute(\"data-\" + key);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  var el = this[0];\n  if (!el) return undefined;\n  var dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (var dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (var i = 0; i < el.attributes.length; i += 1) {\n      var _attr = el.attributes[i];\n\n      if (_attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;\n      }\n    }\n  }\n\n  for (var key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    var el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      var values = [];\n\n      for (var i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (var _i = 0; _i < this.length; _i += 1) {\n    var _el = this[_i];\n\n    if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {\n      for (var j = 0; j < _el.options.length; j += 1) {\n        _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;\n      }\n    } else {\n      _el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? duration + \"ms\" : duration;\n  }\n\n  return this;\n}\n\nfunction on() {\n  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    var target = e.target;\n    if (!target) return;\n    var eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      var _parents = $(target).parents(); // eslint-disable-line\n\n\n      for (var k = 0; k < _parents.length; k += 1) {\n        if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    var eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  var events = eventType.split(' ');\n  var j;\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        var event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener: listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        var _event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];\n\n        el.dom7LiveListeners[_event].push({\n          listener: listener,\n          proxyListener: handleLiveEvent\n        });\n\n        el.addEventListener(_event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  var events = eventType.split(' ');\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n      var handlers = void 0;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (var k = handlers.length - 1; k >= 0; k -= 1) {\n          var handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once() {\n  var dom = this;\n\n  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    args[_key7] = arguments[_key7];\n  }\n\n  var eventName = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventName = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  function onceHandler() {\n    for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      eventArgs[_key8] = arguments[_key8];\n    }\n\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger() {\n  var window = getWindow();\n\n  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n    args[_key9] = arguments[_key9];\n  }\n\n  var events = args[0].split(' ');\n  var eventData = args[1];\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n\n      if (window.CustomEvent) {\n        var evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter(function (data, dataIndex) {\n          return dataIndex > 0;\n        });\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles = this.styles();\n\n      return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles2 = this.styles();\n\n      return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    var window = getWindow();\n    var document = getDocument();\n    var el = this[0];\n    var box = el.getBoundingClientRect();\n    var body = document.body;\n    var clientTop = el.clientTop || body.clientTop || 0;\n    var clientLeft = el.clientLeft || body.clientLeft || 0;\n    var scrollTop = el === window ? window.scrollY : el.scrollTop;\n    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  var window = getWindow();\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  var window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  var window = getWindow();\n  var i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (var _prop in props) {\n          this[i].style[_prop] = props[_prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach(function (el, index) {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  var result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  var window = getWindow();\n  var document = getDocument();\n  var el = this[0];\n  var compareWith;\n  var i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  var child = this[0];\n  var i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  var length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    var returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append() {\n  var newChild;\n  var document = getDocument();\n\n  for (var k = 0; k < arguments.length; k += 1) {\n    newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (var j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  var document = getDocument();\n  var i;\n  var j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  var before = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (var j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  var after = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (var j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  var nextEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    var _next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_next).is(selector)) nextEls.push(_next);\n    } else nextEls.push(_next);\n\n    el = _next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    var el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  var prevEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    var _prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_prev).is(selector)) prevEls.push(_prev);\n    } else prevEls.push(_prev);\n\n    el = _prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var _parent = this[i].parentNode; // eslint-disable-line\n\n    while (_parent) {\n      if (selector) {\n        if ($(_parent).is(selector)) parents.push(_parent);\n      } else {\n        parents.push(_parent);\n      }\n\n      _parent = _parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  var closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  var foundElements = [];\n\n  for (var i = 0; i < this.length; i += 1) {\n    var found = this[i].querySelectorAll(selector);\n\n    for (var j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  var children = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var childNodes = this[i].children;\n\n    for (var j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add() {\n  var dom = this;\n  var i;\n  var j;\n\n  for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n    els[_key10] = arguments[_key10];\n  }\n\n  for (i = 0; i < els.length; i += 1) {\n    var toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.nodeType === 1) {\n      for (var j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\nfunction scrollTo() {\n  var window = getWindow();\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var left = args[0],\n      top = args[1],\n      duration = args[2],\n      easing = args[3],\n      callback = args[4];\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    left = args[0];\n    top = args[1];\n    duration = args[2];\n    callback = args[3];\n    easing = args[4];\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    var el = this;\n    var currentTop;\n    var currentLeft;\n    var maxTop;\n    var maxLeft;\n    var newTop;\n    var newLeft;\n    var scrollTop; // eslint-disable-line\n\n    var scrollLeft; // eslint-disable-line\n\n    var animateTop = top > 0 || top === 0;\n    var animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    var startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time) {\n      if (time === void 0) {\n        time = new Date().getTime();\n      }\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      var done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var top = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    top = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft() {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  var left = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    left = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\nfunction animate(initialProps, initialParams) {\n  var window = getWindow();\n  var els = this;\n  var a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n    easingProgress: function easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n    stop: function stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done: function done(complete) {\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        var que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate: function animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      var elements = []; // Define & Cache Initials & Units\n\n      a.elements.each(function (el, index) {\n        var initialFullValue;\n        var initialValue;\n        var unit;\n        var finalValue;\n        var finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(function (prop) {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue: initialFullValue,\n            initialValue: initialValue,\n            unit: unit,\n            finalValue: finalValue,\n            finalFullValue: finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      var startTime = null;\n      var time;\n      var elementsDone = 0;\n      var propsDone = 0;\n      var done;\n      var began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        var progress;\n        var easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(function (element) {\n          var el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(function (prop) {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            var _el$prop = el[prop],\n                initialValue = _el$prop.initialValue,\n                finalValue = _el$prop.finalValue,\n                unit = _el$prop.unit;\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            var currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  var animateInstance;\n\n  for (var i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  var els = this;\n\n  for (var i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nvar noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'undefined') {\n      for (var i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on.apply(this, [name].concat(args));\n  }\n\n  return eventHandler;\n}\n\nvar click = shortcut('click');\nvar blur = shortcut('blur');\nvar focus = shortcut('focus');\nvar focusin = shortcut('focusin');\nvar focusout = shortcut('focusout');\nvar keyup = shortcut('keyup');\nvar keydown = shortcut('keydown');\nvar keypress = shortcut('keypress');\nvar submit = shortcut('submit');\nvar change = shortcut('change');\nvar mousedown = shortcut('mousedown');\nvar mousemove = shortcut('mousemove');\nvar mouseup = shortcut('mouseup');\nvar mouseenter = shortcut('mouseenter');\nvar mouseleave = shortcut('mouseleave');\nvar mouseout = shortcut('mouseout');\nvar mouseover = shortcut('mouseover');\nvar touchstart = shortcut('touchstart');\nvar touchend = shortcut('touchend');\nvar touchmove = shortcut('touchmove');\nvar resize = shortcut('resize');\nvar scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nvar Methods = {\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  toggleClass: toggleClass,\n  attr: attr,\n  removeAttr: removeAttr,\n  transform: transform,\n  transition: transition,\n  on: on,\n  off: off,\n  trigger: trigger,\n  transitionEnd: transitionEnd,\n  outerWidth: outerWidth,\n  outerHeight: outerHeight,\n  styles: styles,\n  offset: offset,\n  css: css,\n  each: each,\n  html: html,\n  text: text,\n  is: is,\n  index: index,\n  eq: eq,\n  append: append,\n  prepend: prepend,\n  next: next,\n  nextAll: nextAll,\n  prev: prev,\n  prevAll: prevAll,\n  parent: parent,\n  parents: parents,\n  closest: closest,\n  find: find,\n  children: children,\n  filter: filter,\n  remove: remove\n};\nObject.keys(Methods).forEach(function (methodName) {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow, getDocument } from 'ssr-window';\nvar support;\n\nfunction calcSupport() {\n  var window = getWindow();\n  var document = getDocument();\n  return {\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    pointerEvents: !!window.PointerEvent && 'maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints >= 0,\n    observer: function checkObserver() {\n      return 'MutationObserver' in window || 'WebkitMutationObserver' in window;\n    }(),\n    passiveListener: function checkPassiveListener() {\n      var supportsPassive = false;\n\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get: function get() {\n            supportsPassive = true;\n          }\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support';\nvar device;\n\nfunction calcDevice(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      userAgent = _ref.userAgent;\n\n  var support = getSupport();\n  var window = getWindow();\n  var platform = window.navigator.platform;\n  var ua = userAgent || window.navigator.userAgent;\n  var device = {\n    ios: false,\n    android: false\n  };\n  var screenWidth = window.screen.width;\n  var screenHeight = window.screen.height;\n  var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  var windows = platform === 'Win32';\n  var macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  var iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(screenWidth + \"x\" + screenHeight) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!device) {\n    device = calcDevice(overrides);\n  }\n\n  return device;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nvar browser;\n\nfunction calcBrowser() {\n  var window = getWindow();\n\n  function isSafari() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isEdge: !!window.navigator.userAgent.match(/Edge/g),\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getDocument, getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  var object = obj;\n  Object.keys(object).forEach(function (key) {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  var window = getWindow();\n  var style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  var window = getWindow();\n  var matrix;\n  var curTransform;\n  var transformMatrix;\n  var curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(function (a) {\n        return a.replace(',', '.');\n      }).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  var to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  var noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (var i = 1; i < arguments.length; i += 1) {\n    var nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      var keysArray = Object.keys(Object(nextSource)).filter(function (key) {\n        return noExtend.indexOf(key) < 0;\n      });\n\n      for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        var nextKey = keysArray[nextIndex];\n        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction bindModuleMethods(instance, obj) {\n  Object.keys(obj).forEach(function (key) {\n    if (isObject(obj[key])) {\n      Object.keys(obj[key]).forEach(function (subKey) {\n        if (typeof obj[key][subKey] === 'function') {\n          obj[key][subKey] = obj[key][subKey].bind(instance);\n        }\n      });\n    }\n\n    instance[key] = obj[key];\n  });\n}\n\nfunction classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return \".\" + classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.');\n}\n\nfunction createElementIfNotDefined($container, params, createElements, checkProps) {\n  var document = getDocument();\n\n  if (createElements) {\n    Object.keys(checkProps).forEach(function (key) {\n      if (!params[key] && params.auto === true) {\n        var element = document.createElement('div');\n        element.className = checkProps[key];\n        $container.append(element);\n        params[key] = element;\n      }\n    });\n  }\n\n  return params;\n}\n\nexport { deleteProps, nextTick, now, getTranslate, isObject, extend, bindModuleMethods, getComputedStyle, classesToSelector, createElementIfNotDefined };","import { getWindow } from 'ssr-window';\nimport { extend } from '../../utils/utils';\n\nvar supportsResizeObserver = function supportsResizeObserver() {\n  var window = getWindow();\n  return typeof window.ResizeObserver !== 'undefined';\n};\n\nexport default {\n  name: 'resize',\n  create: function create() {\n    var swiper = this;\n    extend(swiper, {\n      resize: {\n        observer: null,\n        createObserver: function createObserver() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.resize.observer = new ResizeObserver(function (entries) {\n            var width = swiper.width,\n                height = swiper.height;\n            var newWidth = width;\n            var newHeight = height;\n            entries.forEach(function (_ref) {\n              var contentBoxSize = _ref.contentBoxSize,\n                  contentRect = _ref.contentRect,\n                  target = _ref.target;\n              if (target && target !== swiper.el) return;\n              newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n              newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n              swiper.resize.resizeHandler();\n            }\n          });\n          swiper.resize.observer.observe(swiper.el);\n        },\n        removeObserver: function removeObserver() {\n          if (swiper.resize.observer && swiper.resize.observer.unobserve && swiper.el) {\n            swiper.resize.observer.unobserve(swiper.el);\n            swiper.resize.observer = null;\n          }\n        },\n        resizeHandler: function resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler: function orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        }\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      var window = getWindow();\n\n      if (swiper.params.resizeObserver && supportsResizeObserver()) {\n        swiper.resize.createObserver();\n        return;\n      } // Emit resize\n\n\n      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange\n\n      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy: function destroy(swiper) {\n      var window = getWindow();\n      swiper.resize.removeObserver();\n      window.removeEventListener('resize', swiper.resize.resizeHandler);\n      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Observer = {\n  attach: function attach(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var window = getWindow();\n    var swiper = this;\n    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    var observer = new ObserverFunc(function (mutations) {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        swiper.emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      var observerUpdate = function observerUpdate() {\n        swiper.emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    swiper.observer.observers.push(observer);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.support.observer || !swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      var containerParents = swiper.$el.parents();\n\n      for (var i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    swiper.observer.attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    swiper.observer.attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.observer.observers.forEach(function (observer) {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  }\n};\nexport default {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      observer: _extends({}, Observer, {\n        observers: []\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.observer.init();\n    },\n    destroy: function destroy(swiper) {\n      swiper.observer.destroy();\n    }\n  }\n};","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    var found = el.closest(selector);\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  var swiper = this;\n  var document = getDocument();\n  var window = getWindow();\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  var $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  var swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  var noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : \".\" + params.noSwipingClass;\n  var isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  var startX = touches.currentX;\n  var startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  var edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  var edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  extend(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    var preventDefault = true;\n    if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    var shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils';\nexport default function onTouchMove(event) {\n  var document = getDocument();\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../../utils/utils';\nexport default function onTouchEnd(event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      $wrapperEl = swiper.$wrapperEl,\n      slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  var touchEndTime = now();\n  var timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(function () {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  var currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data.velocities.length > 1) {\n        var lastMoveEvent = data.velocities.pop();\n        var velocityEvent = data.velocities.pop();\n        var distance = lastMoveEvent.position - velocityEvent.position;\n        var time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n      data.velocities.length = 0;\n      var momentumDuration = 1000 * params.freeModeMomentumRatio;\n      var momentumDistance = swiper.velocity * momentumDuration;\n      var newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      var doBounce = false;\n      var afterBouncePosition;\n      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      var needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeModeSticky) {\n        var nextSlide;\n\n        for (var j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        swiper.once('transitionEnd', function () {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeModeSticky) {\n          // If freeModeSticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          var moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          var currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(function () {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          swiper.emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(function () {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(function () {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(function () {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeModeSticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      swiper.emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    return;\n  } // Find current slide\n\n\n  var stopIndex = 0;\n  var groupSize = swiper.slidesSizesGrid[0];\n\n  for (var i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    var _increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + _increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + _increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + _increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  } // Find current slide size\n\n\n  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  var increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    var isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  var swiper = this;\n  var params = swiper.params,\n      el = swiper.el;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  var allowSlideNext = swiper.allowSlideNext,\n      allowSlidePrev = swiper.allowSlidePrev,\n      snapGrid = swiper.snapGrid; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  var swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  var swiper = this;\n  var wrapperEl = swiper.wrapperEl,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    if (rtlTranslate) {\n      swiper.translate = wrapperEl.scrollWidth - wrapperEl.offsetWidth - wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollLeft;\n    }\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === -0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart';\nimport onTouchMove from './onTouchMove';\nimport onTouchEnd from './onTouchEnd';\nimport onResize from './onResize';\nimport onClick from './onClick';\nimport onScroll from './onScroll';\nvar dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nfunction attachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.addEventListener(touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture: capture\n      } : capture);\n      el.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.addEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n\n      if (!dummyEventAttached) {\n        document.addEventListener('touchstart', dummyEventListener);\n        dummyEventAttached = true;\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.addEventListener('mousedown', swiper.onTouchStart, false);\n      document.addEventListener('mousemove', swiper.onTouchMove, capture);\n      document.addEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.addEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.addEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper.on(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper.on('observerUpdate', onResize, true);\n  }\n}\n\nfunction detachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'onTouchStart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      el.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.removeEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.removeEventListener('mousedown', swiper.onTouchStart, false);\n      document.removeEventListener('mousemove', swiper.onTouchMove, capture);\n      document.removeEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.removeEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.removeEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  swiper.off(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize);\n}\n\nexport default {\n  attachEvents: attachEvents,\n  detachEvents: detachEvents\n};","function checkOverflow() {\n  var swiper = this;\n  var params = swiper.params;\n  var wasLocked = swiper.isLocked;\n  var lastSlidePosition = swiper.slides.length > 0 && params.slidesOffsetBefore + params.spaceBetween * (swiper.slides.length - 1) + swiper.slides[0].offsetWidth * swiper.slides.length;\n\n  if (params.slidesOffsetBefore && params.slidesOffsetAfter && lastSlidePosition) {\n    swiper.isLocked = lastSlidePosition <= swiper.size;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  swiper.allowSlideNext = !swiper.isLocked;\n  swiper.allowSlidePrev = !swiper.isLocked; // events\n\n  if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n    if (swiper.navigation) swiper.navigation.update();\n  }\n}\n\nexport default {\n  checkOverflow: checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: false,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: false,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  // NS\n  containerModifierClass: 'swiper-container-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, now, deleteProps } from '../../utils/utils';\nimport { getSupport } from '../../utils/get-support';\nimport { getDevice } from '../../utils/get-device';\nimport { getBrowser } from '../../utils/get-browser';\nimport Resize from '../../modules/resize/resize';\nimport Observer from '../../modules/observer/observer';\nimport modular from './modular';\nimport eventsEmitter from './events-emitter';\nimport update from './update/index';\nimport translate from './translate/index';\nimport transition from './transition/index';\nimport slide from './slide/index';\nimport loop from './loop/index';\nimport grabCursor from './grab-cursor/index';\nimport manipulation from './manipulation/index';\nimport events from './events/index';\nimport breakpoints from './breakpoints/index';\nimport classes from './classes/index';\nimport images from './images/index';\nimport checkOverflow from './check-overflow/index';\nimport defaults from './defaults';\nvar prototypes = {\n  modular: modular,\n  eventsEmitter: eventsEmitter,\n  update: update,\n  translate: translate,\n  transition: transition,\n  slide: slide,\n  loop: loop,\n  grabCursor: grabCursor,\n  manipulation: manipulation,\n  events: events,\n  breakpoints: breakpoints,\n  checkOverflow: checkOverflow,\n  classes: classes,\n  images: images\n};\nvar extendedDefaults = {};\n\nvar Swiper = /*#__PURE__*/function () {\n  function Swiper() {\n    var el;\n    var params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      el = args[0];\n      params = args[1];\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      var swipers = [];\n      $(params.el).each(function (containerEl) {\n        var newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    var swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n\n    if (typeof swiper.modules === 'undefined') {\n      swiper.modules = {};\n    }\n\n    Object.keys(swiper.modules).forEach(function (moduleName) {\n      var module = swiper.modules[moduleName];\n\n      if (module.params) {\n        var moduleParamName = Object.keys(module.params)[0];\n        var moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object' || moduleParams === null) return;\n\n        if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            auto: true\n          };\n        }\n\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;\n\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            enabled: true\n          };\n        }\n\n        if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n          params[moduleParamName].enabled = true;\n        }\n\n        if (!params[moduleParamName]) params[moduleParamName] = {\n          enabled: false\n        };\n      }\n    }); // Extend defaults with modules params\n\n    var swiperParams = extend({}, defaults);\n    swiper.useParams(swiperParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(function (eventName) {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    extend(swiper, {\n      enabled: swiper.params.enabled,\n      el: el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal: function isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical: function isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        var touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        var desktop = ['mousedown', 'mousemove', 'mouseup'];\n\n        if (swiper.support.pointerEvents) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        }\n\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    }); // Install Modules\n\n    swiper.useModules();\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  var _proto = Swiper.prototype;\n\n  _proto.enable = function enable() {\n    var swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  };\n\n  _proto.disable = function disable() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  };\n\n  _proto.setProgress = function setProgress(progress, speed) {\n    var swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    var min = swiper.minTranslate();\n    var max = swiper.maxTranslate();\n    var current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  };\n\n  _proto.emitContainerClasses = function emitContainerClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var classes = swiper.el.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-container') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', classes.join(' '));\n  };\n\n  _proto.getSlideClasses = function getSlideClasses(slideEl) {\n    var swiper = this;\n    return slideEl.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  };\n\n  _proto.emitSlidesClasses = function emitSlidesClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var updates = [];\n    swiper.slides.each(function (slideEl) {\n      var classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl: slideEl,\n        classNames: classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  };\n\n  _proto.slidesPerViewDynamic = function slidesPerViewDynamic() {\n    var swiper = this;\n    var params = swiper.params,\n        slides = swiper.slides,\n        slidesGrid = swiper.slidesGrid,\n        swiperSize = swiper.size,\n        activeIndex = swiper.activeIndex;\n    var spv = 1;\n\n    if (params.centeredSlides) {\n      var slideSize = slides[activeIndex].swiperSlideSize;\n      var breakLoop;\n\n      for (var i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (var _i = activeIndex - 1; _i >= 0; _i -= 1) {\n        if (slides[_i] && !breakLoop) {\n          slideSize += slides[_i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      for (var _i2 = activeIndex + 1; _i2 < slides.length; _i2 += 1) {\n        if (slidesGrid[_i2] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n\n    return spv;\n  };\n\n  _proto.update = function update() {\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var snapGrid = swiper.snapGrid,\n        params = swiper.params; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      var translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    var translated;\n\n    if (swiper.params.freeMode) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  };\n\n  _proto.changeDirection = function changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    var swiper = this;\n    var currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(\"\" + swiper.params.containerModifierClass + currentDirection).addClass(\"\" + swiper.params.containerModifierClass + newDirection);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(function (slideEl) {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  };\n\n  _proto.mount = function mount(el) {\n    var swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    var $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    var getWrapperSelector = function getWrapperSelector() {\n      return \".\" + (swiper.params.wrapperClass || '').trim().split(' ').join('.');\n    };\n\n    var getWrapper = function getWrapper() {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        var res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = function (options) {\n          return $el.children(options);\n        };\n\n        return res;\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    var $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      var document = getDocument();\n      var wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(\".\" + swiper.params.slideClass).each(function (slideEl) {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    extend(swiper, {\n      $el: $el,\n      el: el,\n      $wrapperEl: $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  };\n\n  _proto.init = function init(el) {\n    var swiper = this;\n    if (swiper.initialized) return swiper;\n    var mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  };\n\n  _proto.destroy = function destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params,\n        $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(function (eventName) {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  };\n\n  Swiper.extendDefaults = function extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  };\n\n  Swiper.installModule = function installModule(module) {\n    if (!Swiper.prototype.modules) Swiper.prototype.modules = {};\n    var name = module.name || Object.keys(Swiper.prototype.modules).length + \"_\" + now();\n    Swiper.prototype.modules[name] = module;\n  };\n\n  Swiper.use = function use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(function (m) {\n        return Swiper.installModule(m);\n      });\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  };\n\n  _createClass(Swiper, null, [{\n    key: \"extendedDefaults\",\n    get: function get() {\n      return extendedDefaults;\n    }\n  }, {\n    key: \"defaults\",\n    get: function get() {\n      return defaults;\n    }\n  }]);\n\n  return Swiper;\n}();\n\nObject.keys(prototypes).forEach(function (prototypeGroup) {\n  Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import { extend } from '../../utils/utils';\nexport default {\n  useParams: function useParams(instanceParams) {\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName]; // Extend params\n\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  },\n  useModules: function useModules(modulesParams) {\n    if (modulesParams === void 0) {\n      modulesParams = {};\n    }\n\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName];\n      var moduleParams = modulesParams[moduleName] || {}; // Add event listeners\n\n      if (module.on && instance.on) {\n        Object.keys(module.on).forEach(function (moduleEventName) {\n          instance.on(moduleEventName, module.on[moduleEventName]);\n        });\n      } // Module create callback\n\n\n      if (module.create) {\n        module.create.bind(instance)(moduleParams);\n      }\n    });\n  }\n};","/* eslint-disable no-underscore-dangle */\nexport default {\n  on: function on(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(function (event) {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once: function once(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny: function onAny(handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n  offAny: function offAny(handler) {\n    var self = this;\n    if (!self.eventsAnyListeners) return self;\n    var index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n  off: function off(events, handler) {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(function (event) {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler, index) {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit: function emit() {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    var events;\n    var data;\n    var context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    var eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(function (event) {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(function (eventHandler) {\n          eventHandler.apply(context, [event].concat(data));\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler) {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};","import updateSize from './updateSize';\nimport updateSlides from './updateSlides';\nimport updateAutoHeight from './updateAutoHeight';\nimport updateSlidesOffset from './updateSlidesOffset';\nimport updateSlidesProgress from './updateSlidesProgress';\nimport updateProgress from './updateProgress';\nimport updateSlidesClasses from './updateSlidesClasses';\nimport updateActiveIndex from './updateActiveIndex';\nimport updateClickedSlide from './updateClickedSlide';\nexport default {\n  updateSize: updateSize,\n  updateSlides: updateSlides,\n  updateAutoHeight: updateAutoHeight,\n  updateSlidesOffset: updateSlidesOffset,\n  updateSlidesProgress: updateSlidesProgress,\n  updateProgress: updateProgress,\n  updateSlidesClasses: updateSlidesClasses,\n  updateActiveIndex: updateActiveIndex,\n  updateClickedSlide: updateClickedSlide\n};","import { extend } from '../../../utils/utils';\nexport default function updateSize() {\n  var swiper = this;\n  var width;\n  var height;\n  var $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  extend(swiper, {\n    width: width,\n    height: height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { extend } from '../../../utils/utils';\nexport default function updateSlides() {\n  var swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl,\n      swiperSize = swiper.size,\n      rtl = swiper.rtlTranslate,\n      wrongRTL = swiper.wrongRTL;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  var previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  var slides = $wrapperEl.children(\".\" + swiper.params.slideClass);\n  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  var snapGrid = [];\n  var slidesGrid = [];\n  var slidesSizesGrid = [];\n  var offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  var offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  var previousSnapGridLength = swiper.snapGrid.length;\n  var previousSlidesGridLength = swiper.slidesGrid.length;\n  var spaceBetween = params.spaceBetween;\n  var slidePosition = -offsetBefore;\n  var prevSlideSize = 0;\n  var index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  });\n  var slidesNumberEvenToRows;\n\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  } // Calc slides\n\n\n  var slideSize;\n  var slidesPerColumn = params.slidesPerColumn;\n  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  var numFullColumns = Math.floor(slidesLength / params.slidesPerColumn);\n\n  for (var i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    var slide = slides.eq(i);\n\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      var newSlideOrderIndex = void 0;\n      var column = void 0;\n      var row = void 0;\n\n      if (params.slidesPerColumnFill === 'row' && params.slidesPerGroup > 1) {\n        var groupIndex = Math.floor(i / (params.slidesPerGroup * params.slidesPerColumn));\n        var slideIndexInGroup = i - params.slidesPerColumn * params.slidesPerGroup * groupIndex;\n        var columnsInGroup = groupIndex === 0 ? params.slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * slidesPerColumn * params.slidesPerGroup) / slidesPerColumn), params.slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * params.slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n        slide.css({\n          '-webkit-box-ordinal-group': newSlideOrderIndex,\n          '-moz-box-ordinal-group': newSlideOrderIndex,\n          '-ms-flex-order': newSlideOrderIndex,\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - column * slidesPerColumn;\n\n        if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {\n          row += 1;\n\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(getDirectionLabel('margin-top'), row !== 0 ? params.spaceBetween && params.spaceBetween + \"px\" : '');\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      var slideStyles = getComputedStyle(slide[0]);\n      var currentTransform = slide[0].style.transform;\n      var currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        var width = getDirectionPropertyValue(slideStyles, 'width');\n        var paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        var paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        var marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        var marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        var boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          var _slide$ = slide[0],\n              clientWidth = _slide$.clientWidth,\n              offsetWidth = _slide$.offsetWidth;\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = slideSize + \"px\";\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  var newSlidesGrid;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: swiper.virtualSize + params.spaceBetween + \"px\"\n    });\n  }\n\n  if (params.setWrapperSize) {\n    var _$wrapperEl$css;\n\n    $wrapperEl.css((_$wrapperEl$css = {}, _$wrapperEl$css[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css));\n  }\n\n  if (params.slidesPerColumn > 1) {\n    var _$wrapperEl$css2;\n\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    $wrapperEl.css((_$wrapperEl$css2 = {}, _$wrapperEl$css2[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css2));\n\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n\n      for (var _i = 0; _i < snapGrid.length; _i += 1) {\n        var slidesGridItem = snapGrid[_i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[_i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid = newSlidesGrid;\n    }\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n\n    for (var _i2 = 0; _i2 < snapGrid.length; _i2 += 1) {\n      var _slidesGridItem = snapGrid[_i2];\n      if (params.roundLengths) _slidesGridItem = Math.floor(_slidesGridItem);\n\n      if (snapGrid[_i2] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(_slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    var _slides$filter$css;\n\n    var key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter(function (_, slideIndex) {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css((_slides$filter$css = {}, _slides$filter$css[key] = spaceBetween + \"px\", _slides$filter$css));\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    var allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    var maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(function (snap) {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    var _allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      _allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    _allSlidesSize -= params.spaceBetween;\n\n    if (_allSlidesSize < swiperSize) {\n      var allSlidesOffset = (swiperSize - _allSlidesSize) / 2;\n      snapGrid.forEach(function (snap, snapIndex) {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach(function (snap, snapIndex) {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  extend(swiper, {\n    slides: slides,\n    snapGrid: snapGrid,\n    slidesGrid: slidesGrid,\n    slidesSizesGrid: slidesSizesGrid\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n}","export default function updateAutoHeight(speed) {\n  var swiper = this;\n  var activeSlides = [];\n  var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  var newHeight = 0;\n  var i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  var getSlideByIndex = function getSlideByIndex(index) {\n    if (isVirtual) {\n      return swiper.slides.filter(function (el) {\n        return parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index;\n      })[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      swiper.visibleSlides.each(function (slide) {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        var index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      var height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight) swiper.$wrapperEl.css('height', newHeight + \"px\");\n}","export default function updateSlidesOffset() {\n  var swiper = this;\n  var slides = swiper.slides;\n\n  for (var i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  var swiper = this;\n  var params = swiper.params;\n  var slides = swiper.slides,\n      rtl = swiper.rtlTranslate;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  var offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (var i = 0; i < slides.length; i += 1) {\n    var slide = slides[i];\n    var slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n\n    if (params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) {\n      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      var isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","import { extend } from '../../../utils/utils';\nexport default function updateProgress(translate) {\n  var swiper = this;\n\n  if (typeof translate === 'undefined') {\n    var multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  var params = swiper.params;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  var progress = swiper.progress,\n      isBeginning = swiper.isBeginning,\n      isEnd = swiper.isEnd;\n  var wasBeginning = isBeginning;\n  var wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  extend(swiper, {\n    progress: progress,\n    isBeginning: isBeginning,\n    isEnd: isEnd\n  });\n  if (params.watchSlidesProgress || params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  var swiper = this;\n  var slides = swiper.slides,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex,\n      realIndex = swiper.realIndex;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(params.slideActiveClass + \" \" + params.slideNextClass + \" \" + params.slidePrevClass + \" \" + params.slideDuplicateActiveClass + \" \" + params.slideDuplicateNextClass + \" \" + params.slideDuplicatePrevClass);\n  var activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + activeIndex + \"\\\"]\");\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  var nextSlide = activeSlide.nextAll(\".\" + params.slideClass).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  var prevSlide = activeSlide.prevAll(\".\" + params.slideClass).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","import { extend } from '../../../utils/utils';\nexport default function updateActiveIndex(newActiveIndex) {\n  var swiper = this;\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  var slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      params = swiper.params,\n      previousIndex = swiper.activeIndex,\n      previousRealIndex = swiper.realIndex,\n      previousSnapIndex = swiper.snapIndex;\n  var activeIndex = newActiveIndex;\n  var snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    var skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  extend(swiper, {\n    snapIndex: snapIndex,\n    realIndex: realIndex,\n    previousIndex: previousIndex,\n    activeIndex: activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateClickedSlide(e) {\n  var swiper = this;\n  var params = swiper.params;\n  var slide = $(e.target).closest(\".\" + params.slideClass)[0];\n  var slideFound = false;\n  var slideIndex;\n\n  if (slide) {\n    for (var i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import getTranslate from './getTranslate';\nimport setTranslate from './setTranslate';\nimport minTranslate from './minTranslate';\nimport maxTranslate from './maxTranslate';\nimport translateTo from './translateTo';\nexport default {\n  getTranslate: getTranslate,\n  setTranslate: setTranslate,\n  minTranslate: minTranslate,\n  maxTranslate: maxTranslate,\n  translateTo: translateTo\n};","import { getTranslate } from '../../../utils/utils';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      rtl = swiper.rtlTranslate,\n      translate = swiper.translate,\n      $wrapperEl = swiper.$wrapperEl;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  var currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  var swiper = this;\n  var rtl = swiper.rtlTranslate,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      wrapperEl = swiper.wrapperEl,\n      progress = swiper.progress;\n  var x = 0;\n  var y = 0;\n  var z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(\"translate3d(\" + x + \"px, \" + y + \"px, \" + z + \"px)\");\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","export default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      wrapperEl = swiper.wrapperEl;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  var minTranslate = swiper.minTranslate();\n  var maxTranslate = swiper.maxTranslate();\n  var newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = -newTranslate, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import setTransition from './setTransition';\nimport transitionStart from './transitionStart';\nimport transitionEnd from './transitionEnd';\nexport default {\n  setTransition: setTransition,\n  transitionStart: transitionStart,\n  transitionEnd: transitionEnd\n};","export default function setTransition(duration, byController) {\n  var swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      params = swiper.params,\n      previousIndex = swiper.previousIndex;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionStart');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionStart');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionStart');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n}","export default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      previousIndex = swiper.previousIndex,\n      params = swiper.params;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionEnd');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionEnd');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionEnd');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionEnd');\n    } else {\n      swiper.emit('slidePrevTransitionEnd');\n    }\n  }\n}","import slideTo from './slideTo';\nimport slideToLoop from './slideToLoop';\nimport slideNext from './slideNext';\nimport slidePrev from './slidePrev';\nimport slideReset from './slideReset';\nimport slideToClosest from './slideToClosest';\nimport slideToClickedSlide from './slideToClickedSlide';\nexport default {\n  slideTo: slideTo,\n  slideToLoop: slideToLoop,\n  slideNext: slideNext,\n  slidePrev: slidePrev,\n  slideReset: slideReset,\n  slideToClosest: slideToClosest,\n  slideToClickedSlide: slideToClickedSlide\n};","export default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(\"The 'index' argument cannot have type other than 'number' or 'string'. [\" + typeof index + \"] given.\");\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    var indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    var isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(\"The passed-in 'index' (string) couldn't be converted to 'number'. [\" + index + \"] given.\");\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  var swiper = this;\n  var slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  var params = swiper.params,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      previousIndex = swiper.previousIndex,\n      activeIndex = swiper.activeIndex,\n      rtl = swiper.rtlTranslate,\n      wrapperEl = swiper.wrapperEl,\n      enabled = swiper.enabled;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  var snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  var translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      var normalizedTranslate = -Math.floor(translate * 100);\n      var normalizedGird = Math.floor(slidesGrid[i] * 100);\n      var normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGird) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGird) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  var direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n    var t = -translate;\n\n    if (rtl) {\n      t = wrapperEl.scrollWidth - wrapperEl.offsetWidth - t;\n    }\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = t, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n    swiper.transitionEnd(runCallbacks, direction);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onSlideToWrapperTransitionEnd) {\n        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n          swiper.onSlideToWrapperTransitionEnd = null;\n          delete swiper.onSlideToWrapperTransitionEnd;\n          swiper.transitionEnd(runCallbacks, direction);\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n  var increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  var translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  var normalizedTranslate = normalize(translate);\n  var normalizedSnapGrid = snapGrid.map(function (val) {\n    return normalize(val);\n  });\n  var prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    snapGrid.forEach(function (snap) {\n      if (!prevSnap && normalizedTranslate >= snap) prevSnap = snap;\n    });\n  }\n\n  var prevIndex;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  var swiper = this;\n  var index = swiper.activeIndex;\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  var snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    var currentSnap = swiper.snapGrid[snapIndex];\n    var nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    var prevSnap = swiper.snapGrid[snapIndex - 1];\n    var _currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (_currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../../utils/dom';\nimport { nextTick } from '../../../utils/utils';\nexport default function slideToClickedSlide() {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl;\n  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  var slideToIndex = swiper.clickedIndex;\n  var realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n        nextTick(function () {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n      nextTick(function () {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate';\nimport loopFix from './loopFix';\nimport loopDestroy from './loopDestroy';\nexport default {\n  loopCreate: loopCreate,\n  loopFix: loopFix,\n  loopDestroy: loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loopCreate() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl; // Remove duplicated slides\n\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass).remove();\n  var slides = $wrapperEl.children(\".\" + params.slideClass);\n\n  if (params.loopFillGroupWithBlank) {\n    var blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (var i = 0; i < blankSlidesNum; i += 1) {\n        var blankNode = $(document.createElement('div')).addClass(params.slideClass + \" \" + params.slideBlankClass);\n        $wrapperEl.append(blankNode);\n      }\n\n      slides = $wrapperEl.children(\".\" + params.slideClass);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  var prependSlides = [];\n  var appendSlides = [];\n  slides.each(function (el, index) {\n    var slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (var _i = 0; _i < appendSlides.length; _i += 1) {\n    $wrapperEl.append($(appendSlides[_i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (var _i2 = prependSlides.length - 1; _i2 >= 0; _i2 -= 1) {\n    $wrapperEl.prepend($(prependSlides[_i2].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  var swiper = this;\n  swiper.emit('beforeLoopFix');\n  var activeIndex = swiper.activeIndex,\n      slides = swiper.slides,\n      loopedSlides = swiper.loopedSlides,\n      allowSlidePrev = swiper.allowSlidePrev,\n      allowSlideNext = swiper.allowSlideNext,\n      snapGrid = swiper.snapGrid,\n      rtl = swiper.rtlTranslate;\n  var newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  var snapTranslate = -snapGrid[activeIndex];\n  var diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    var slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n\n    var _slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (_slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      slides = swiper.slides;\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \",.\" + params.slideClass + \".\" + params.slideBlankClass).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import setGrabCursor from './setGrabCursor';\nimport unsetGrabCursor from './unsetGrabCursor';\nexport default {\n  setGrabCursor: setGrabCursor,\n  unsetGrabCursor: unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  var swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  var el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  var swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper.el.style.cursor = '';\n}","import appendSlide from './appendSlide';\nimport prependSlide from './prependSlide';\nimport addSlide from './addSlide';\nimport removeSlide from './removeSlide';\nimport removeAllSlides from './removeAllSlides';\nexport default {\n  appendSlide: appendSlide,\n  prependSlide: prependSlide,\n  addSlide: addSlide,\n  removeSlide: removeSlide,\n  removeAllSlides: removeAllSlides\n};","export default function appendSlide(slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  var newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  var newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  var slidesBuffer = [];\n\n  for (var i = baseLength - 1; i >= index; i -= 1) {\n    var currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (slides[_i]) $wrapperEl.append(slides[_i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (var _i2 = 0; _i2 < slidesBuffer.length; _i2 += 1) {\n    $wrapperEl.append(slidesBuffer[_i2]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var newActiveIndex = activeIndexBuffer;\n  var indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (var i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  var swiper = this;\n  var slidesIndexes = [];\n\n  for (var i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import setBreakpoint from './setBreakpoint';\nimport getBreakpoint from './getBreakpoint';\nexport default {\n  setBreakpoint: setBreakpoint,\n  getBreakpoint: getBreakpoint\n};","import { extend } from '../../../utils/utils';\nexport default function setBreakpoint() {\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      initialized = swiper.initialized,\n      _swiper$loopedSlides = swiper.loopedSlides,\n      loopedSlides = _swiper$loopedSlides === void 0 ? 0 : _swiper$loopedSlides,\n      params = swiper.params,\n      $el = swiper.$el;\n  var breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  var breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  var breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n\n  if (breakpointOnlyParams) {\n    ['slidesPerView', 'spaceBetween', 'slidesPerGroup', 'slidesPerGroupSkip', 'slidesPerColumn'].forEach(function (param) {\n      var paramValue = breakpointOnlyParams[param];\n      if (typeof paramValue === 'undefined') return;\n\n      if (param === 'slidesPerView' && (paramValue === 'AUTO' || paramValue === 'auto')) {\n        breakpointOnlyParams[param] = 'auto';\n      } else if (param === 'slidesPerView') {\n        breakpointOnlyParams[param] = parseFloat(paramValue);\n      } else {\n        breakpointOnlyParams[param] = parseInt(paramValue, 10);\n      }\n    });\n  }\n\n  var breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  var wasMultiRow = params.slidesPerColumn > 1;\n  var isMultiRow = breakpointParams.slidesPerColumn > 1;\n  var wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(params.containerModifierClass + \"multirow \" + params.containerModifierClass + \"multirow-column\");\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(params.containerModifierClass + \"multirow\");\n\n    if (breakpointParams.slidesPerColumnFill && breakpointParams.slidesPerColumnFill === 'column' || !breakpointParams.slidesPerColumnFill && params.slidesPerColumnFill === 'column') {\n      $el.addClass(params.containerModifierClass + \"multirow-column\");\n    }\n\n    swiper.emitContainerClasses();\n  }\n\n  var directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  var needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  var isEnabled = swiper.params.enabled;\n  extend(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  var breakpoint = false;\n  var window = getWindow();\n  var currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  var points = Object.keys(breakpoints).map(function (point) {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      var minRatio = parseFloat(point.substr(1));\n      var value = currentHeight * minRatio;\n      return {\n        value: value,\n        point: point\n      };\n    }\n\n    return {\n      value: point,\n      point: point\n    };\n  });\n  points.sort(function (a, b) {\n    return parseInt(a.value, 10) - parseInt(b.value, 10);\n  });\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        point = _points$i.point,\n        value = _points$i.value;\n\n    if (base === 'window') {\n      if (window.matchMedia(\"(min-width: \" + value + \"px)\").matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import addClasses from './addClasses';\nimport removeClasses from './removeClasses';\nexport default {\n  addClasses: addClasses,\n  removeClasses: removeClasses\n};","function prepareClasses(entries, prefix) {\n  var resultClasses = [];\n  entries.forEach(function (item) {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(function (classNames) {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  var swiper = this;\n  var classNames = swiper.classNames,\n      params = swiper.params,\n      rtl = swiper.rtl,\n      $el = swiper.$el,\n      device = swiper.device,\n      support = swiper.support; // prettier-ignore\n\n  var suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': support.pointerEvents && !support.touch\n  }, {\n    'free-mode': params.freeMode\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'multirow': params.slidesPerColumn > 1\n  }, {\n    'multirow-column': params.slidesPerColumn > 1 && params.slidesPerColumnFill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }], params.containerModifierClass);\n  classNames.push.apply(classNames, suffixes);\n  $el.addClass([].concat(classNames).join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  var swiper = this;\n  var $el = swiper.$el,\n      classNames = swiper.classNames;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","import loadImage from './loadImage';\nimport preloadImages from './preloadImages';\nexport default {\n  loadImage: loadImage,\n  preloadImages: preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  var window = getWindow();\n  var image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  var isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  var swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    var imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Virtual = {\n  update: function update(force) {\n    var swiper = this;\n    var _swiper$params = swiper.params,\n        slidesPerView = _swiper$params.slidesPerView,\n        slidesPerGroup = _swiper$params.slidesPerGroup,\n        centeredSlides = _swiper$params.centeredSlides;\n    var _swiper$params$virtua = swiper.params.virtual,\n        addSlidesBefore = _swiper$params$virtua.addSlidesBefore,\n        addSlidesAfter = _swiper$params$virtua.addSlidesAfter;\n    var _swiper$virtual = swiper.virtual,\n        previousFrom = _swiper$virtual.from,\n        previousTo = _swiper$virtual.to,\n        slides = _swiper$virtual.slides,\n        previousSlidesGrid = _swiper$virtual.slidesGrid,\n        renderSlide = _swiper$virtual.renderSlide,\n        previousOffset = _swiper$virtual.offset;\n    swiper.updateActiveIndex();\n    var activeIndex = swiper.activeIndex || 0;\n    var offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    var slidesAfter;\n    var slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    var from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    extend(swiper.virtual, {\n      from: from,\n      to: to,\n      offset: offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, offset + \"px\");\n      }\n\n      swiper.updateProgress();\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset,\n        from: from,\n        to: to,\n        slides: function getSlides() {\n          var slidesToRender = [];\n\n          for (var i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      }\n\n      return;\n    }\n\n    var prependIndexes = [];\n    var appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(\".\" + swiper.params.slideClass).remove();\n    } else {\n      for (var i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + i + \"\\\"]\").remove();\n        }\n      }\n    }\n\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (_i >= from && _i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(_i);\n        } else {\n          if (_i > previousTo) appendIndexes.push(_i);\n          if (_i < previousFrom) prependIndexes.push(_i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(function (index) {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort(function (a, b) {\n      return b - a;\n    }).forEach(function (index) {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, offset + \"px\");\n    onRendered();\n  },\n  renderSlide: function renderSlide(slide, index) {\n    var swiper = this;\n    var params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    var $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(\"<div class=\\\"\" + swiper.params.slideClass + \"\\\" data-swiper-slide-index=\\\"\" + index + \"\\\">\" + slide + \"</div>\");\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  },\n  appendSlide: function appendSlide(slides) {\n    var swiper = this;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    swiper.virtual.update(true);\n  },\n  prependSlide: function prependSlide(slides) {\n    var swiper = this;\n    var activeIndex = swiper.activeIndex;\n    var newActiveIndex = activeIndex + 1;\n    var numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      var cache = swiper.virtual.cache;\n      var newCache = {};\n      Object.keys(cache).forEach(function (cachedIndex) {\n        var $cachedEl = cache[cachedIndex];\n        var cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + 1);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  },\n  removeSlide: function removeSlide(slidesIndexes) {\n    var swiper = this;\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    var activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (var i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(activeIndex, 0);\n  },\n  removeAllSlides: function removeAllSlides() {\n    var swiper = this;\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(0, 0);\n  }\n};\nexport default {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      virtual: _extends({}, Virtual, {\n        slides: swiper.params.virtual.slides,\n        cache: {}\n      })\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"virtual\");\n      var overwriteParams = {\n        watchSlidesProgress: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n\n      if (!swiper.params.initialSlide) {\n        swiper.virtual.update();\n      }\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.update();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Keyboard = {\n  handle: function handle(event) {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    var window = getWindow();\n    var document = getDocument();\n    var rtl = swiper.rtlTranslate;\n    var e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    var kc = e.keyCode || e.charCode;\n    var pageUpDown = swiper.params.keyboard.pageUpDown;\n    var isPageUp = pageUpDown && kc === 33;\n    var isPageDown = pageUpDown && kc === 34;\n    var isArrowLeft = kc === 37;\n    var isArrowRight = kc === 39;\n    var isArrowUp = kc === 38;\n    var isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      var inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(\".\" + swiper.params.slideClass).length > 0 && swiper.$el.parents(\".\" + swiper.params.slideActiveClass).length === 0) {\n        return undefined;\n      }\n\n      var $el = swiper.$el;\n      var swiperWidth = $el[0].clientWidth;\n      var swiperHeight = $el[0].clientHeight;\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (var i = 0; i < swiperCoord.length; i += 1) {\n        var point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    swiper.emit('keyPress', kc);\n    return undefined;\n  },\n  enable: function enable() {\n    var swiper = this;\n    var document = getDocument();\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    var document = getDocument();\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = false;\n  }\n};\nexport default {\n  name: 'keyboard',\n  params: {\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      keyboard: _extends({\n        enabled: false\n      }, Keyboard)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.keyboard.enabled) {\n        swiper.keyboard.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.keyboard.enabled) {\n        swiper.keyboard.disable();\n      }\n    }\n  }\n};","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { now, nextTick, bindModuleMethods } from '../../utils/utils';\n\nfunction isEventSupported() {\n  var document = getDocument();\n  var eventName = 'onwheel';\n  var isSupported = (eventName in document);\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && document.implementation && document.implementation.hasFeature && // always returns true in newer browsers as per the standard.\n  // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n  document.implementation.hasFeature('', '') !== true) {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nvar Mousewheel = {\n  lastScrollTime: now(),\n  lastEventBeforeSnap: undefined,\n  recentWheelEvents: [],\n  event: function event() {\n    var window = getWindow();\n    if (window.navigator.userAgent.indexOf('firefox') > -1) return 'DOMMouseScroll';\n    return isEventSupported() ? 'wheel' : 'mousewheel';\n  },\n  normalize: function normalize(e) {\n    // Reasonable defaults\n    var PIXEL_STEP = 10;\n    var LINE_HEIGHT = 40;\n    var PAGE_HEIGHT = 800;\n    var sX = 0;\n    var sY = 0; // spinX, spinY\n\n    var pX = 0;\n    var pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  },\n  handleMouseEnter: function handleMouseEnter() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  },\n  handleMouseLeave: function handleMouseLeave() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  },\n  handle: function handle(event) {\n    var e = event;\n    var disableParentSwiper = true;\n    var swiper = this;\n    if (!swiper.enabled) return;\n    var params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    var delta = 0;\n    var rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    var data = Mousewheel.normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    var positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode) {\n      // Register the new event in a variable which stores the relevant data\n      var newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      var recentWheelEvents = swiper.mousewheel.recentWheelEvents;\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      var prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          swiper.mousewheel.animateSlider(newEvent);\n        }\n      } else {\n        swiper.mousewheel.animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (swiper.mousewheel.releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      var _newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      var lastEventBeforeSnap = swiper.mousewheel.lastEventBeforeSnap;\n      var ignoreWheelEvents = lastEventBeforeSnap && _newEvent.time < lastEventBeforeSnap.time + 500 && _newEvent.delta <= lastEventBeforeSnap.delta && _newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        swiper.mousewheel.lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        var position = swiper.getTranslate() + delta * params.sensitivity;\n        var wasBeginning = swiper.isBeginning;\n        var wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeModeSticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(swiper.mousewheel.timeout);\n          swiper.mousewheel.timeout = undefined;\n          var _recentWheelEvents = swiper.mousewheel.recentWheelEvents;\n\n          if (_recentWheelEvents.length >= 15) {\n            _recentWheelEvents.shift(); // only store the last N events\n\n          }\n\n          var _prevEvent = _recentWheelEvents.length ? _recentWheelEvents[_recentWheelEvents.length - 1] : undefined;\n\n          var firstEvent = _recentWheelEvents[0];\n\n          _recentWheelEvents.push(_newEvent);\n\n          if (_prevEvent && (_newEvent.delta > _prevEvent.delta || _newEvent.direction !== _prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            _recentWheelEvents.splice(0);\n          } else if (_recentWheelEvents.length >= 15 && _newEvent.time - firstEvent.time < 500 && firstEvent.delta - _newEvent.delta >= 1 && _newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            var snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            swiper.mousewheel.lastEventBeforeSnap = _newEvent;\n\n            _recentWheelEvents.splice(0);\n\n            swiper.mousewheel.timeout = nextTick(function () {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!swiper.mousewheel.timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            swiper.mousewheel.timeout = nextTick(function () {\n              var snapToThreshold = 0.5;\n              swiper.mousewheel.lastEventBeforeSnap = _newEvent;\n\n              _recentWheelEvents.splice(0);\n\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) swiper.emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  },\n  animateSlider: function animateSlider(newEvent) {\n    var swiper = this;\n    var window = getWindow();\n\n    if (this.params.mousewheel.thresholdDelta && newEvent.delta < this.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (this.params.mousewheel.thresholdTime && now() - swiper.mousewheel.lastScrollTime < this.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - swiper.mousewheel.lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        swiper.emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      swiper.emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    swiper.mousewheel.lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  },\n  releaseScroll: function releaseScroll(newEvent) {\n    var swiper = this;\n    var params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  },\n  enable: function enable() {\n    var swiper = this;\n    var event = Mousewheel.event();\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener(event, swiper.mousewheel.handle);\n      return true;\n    }\n\n    if (!event) return false;\n    if (swiper.mousewheel.enabled) return false;\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target.on('mouseenter', swiper.mousewheel.handleMouseEnter);\n    target.on('mouseleave', swiper.mousewheel.handleMouseLeave);\n    target.on(event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = true;\n    return true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    var event = Mousewheel.event();\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, swiper.mousewheel.handle);\n      return true;\n    }\n\n    if (!event) return false;\n    if (!swiper.mousewheel.enabled) return false;\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target.off(event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n};\nexport default {\n  name: 'mousewheel',\n  params: {\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      mousewheel: {\n        enabled: false,\n        lastScrollTime: now(),\n        lastEventBeforeSnap: undefined,\n        recentWheelEvents: [],\n        enable: Mousewheel.enable,\n        disable: Mousewheel.disable,\n        handle: Mousewheel.handle,\n        handleMouseEnter: Mousewheel.handleMouseEnter,\n        handleMouseLeave: Mousewheel.handleMouseLeave,\n        animateSlider: Mousewheel.animateSlider,\n        releaseScroll: Mousewheel.releaseScroll\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n        swiper.mousewheel.disable();\n      }\n\n      if (swiper.params.mousewheel.enabled) swiper.mousewheel.enable();\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.cssMode) {\n        swiper.mousewheel.enable();\n      }\n\n      if (swiper.mousewheel.enabled) swiper.mousewheel.disable();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Navigation = {\n  toggleEl: function toggleEl($el, disabled) {\n    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);\n    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n  },\n  update: function update() {\n    // Update Navigation Buttons\n    var swiper = this;\n    var params = swiper.params.navigation;\n    var toggleEl = swiper.navigation.toggleEl;\n    if (swiper.params.loop) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        toggleEl($prevEl, true);\n      } else {\n        toggleEl($prevEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $prevEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        toggleEl($nextEl, true);\n      } else {\n        toggleEl($nextEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $nextEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  },\n  onPrevClick: function onPrevClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop) return;\n    swiper.slidePrev();\n  },\n  onNextClick: function onNextClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop) return;\n    swiper.slideNext();\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper.$el, swiper.params.navigation, swiper.params.createElements, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    var $nextEl;\n    var $prevEl;\n\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', swiper.navigation.onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', swiper.navigation.onPrevClick);\n    }\n\n    extend(swiper.navigation, {\n      $nextEl: $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl: $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var _swiper$navigation2 = swiper.navigation,\n        $nextEl = _swiper$navigation2.$nextEl,\n        $prevEl = _swiper$navigation2.$prevEl;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', swiper.navigation.onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', swiper.navigation.onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n};\nexport default {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      navigation: _extends({}, Navigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge: function toEdge(swiper) {\n      swiper.navigation.update();\n    },\n    fromEdge: function fromEdge(swiper) {\n      swiper.navigation.update();\n    },\n    destroy: function destroy(swiper) {\n      swiper.navigation.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var _swiper$navigation3 = swiper.navigation,\n          $nextEl = _swiper$navigation3.$nextEl,\n          $prevEl = _swiper$navigation3.$prevEl;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var _swiper$navigation4 = swiper.navigation,\n          $nextEl = _swiper$navigation4.$nextEl,\n          $prevEl = _swiper$navigation4.$prevEl;\n      var targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        var isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          swiper.emit('navigationShow');\n        } else {\n          swiper.emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, classesToSelector, createElementIfNotDefined } from '../../utils/utils';\nvar Pagination = {\n  update: function update() {\n    // Render || Update Pagination bullets/items\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el; // Current/Total\n\n    var current;\n    var total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      var bullets = swiper.pagination.bullets;\n      var firstIndex;\n      var lastIndex;\n      var midIndex;\n\n      if (params.dynamicBullets) {\n        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', swiper.pagination.bulletSize * (params.dynamicMainBullets + 4) + \"px\");\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          swiper.pagination.dynamicBulletIndex += current - swiper.previousIndex;\n\n          if (swiper.pagination.dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            swiper.pagination.dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (swiper.pagination.dynamicBulletIndex < 0) {\n            swiper.pagination.dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = current - swiper.pagination.dynamicBulletIndex;\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(params.bulletActiveClass + \" \" + params.bulletActiveClass + \"-next \" + params.bulletActiveClass + \"-next-next \" + params.bulletActiveClass + \"-prev \" + params.bulletActiveClass + \"-prev-prev \" + params.bulletActiveClass + \"-main\");\n\n      if ($el.length > 1) {\n        bullets.each(function (bullet) {\n          var $bullet = $(bullet);\n          var bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(params.bulletActiveClass + \"-main\");\n            }\n\n            if (bulletIndex === firstIndex) {\n              $bullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            }\n\n            if (bulletIndex === lastIndex) {\n              $bullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          }\n        });\n      } else {\n        var $bullet = bullets.eq(current);\n        var bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          var $firstDisplayedBullet = bullets.eq(firstIndex);\n          var $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (var i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(params.bulletActiveClass + \"-main\");\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n              for (var _i = params.dynamicMainBullets; _i >= 0; _i -= 1) {\n                bullets.eq(bullets.length - _i).addClass(params.bulletActiveClass + \"-main\");\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(params.bulletActiveClass + \"-prev\");\n            } else {\n              $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n              $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          } else {\n            $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        var dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        var bulletsOffset = (swiper.pagination.bulletSize * dynamicBulletsLength - swiper.pagination.bulletSize) / 2 - midIndex * swiper.pagination.bulletSize;\n        var offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', bulletsOffset + \"px\");\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      var progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      var scale = (current + 1) / total;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(\"translate3d(0,0,0) scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\").transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      swiper.emit('paginationRender', $el[0]);\n    } else {\n      swiper.emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  },\n  render: function render() {\n    // Render Container\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el;\n    var paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (var i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += \"<\" + params.bulletElement + \" class=\\\"\" + params.bulletClass + \"\\\"></\" + params.bulletElement + \">\";\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.currentClass + \"\\\"></span>\" + ' / ' + (\"<span class=\\\"\" + params.totalClass + \"\\\"></span>\");\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.progressbarFillClass + \"\\\"></span>\";\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      swiper.emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    swiper.params.pagination = createElementIfNotDefined(swiper.$el, swiper.params.pagination, swiper.params.createElements, {\n      el: 'swiper-pagination'\n    });\n    var params = swiper.params.pagination;\n    if (!params.el) return;\n    var $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el);\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(\"\" + params.modifierClass + params.type + \"-dynamic\");\n      swiper.pagination.dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        var index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    extend(swiper.pagination, {\n      $el: $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n};\nexport default {\n  name: 'pagination',\n  params: {\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: function formatFractionCurrent(number) {\n        return number;\n      },\n      formatFractionTotal: function formatFractionTotal(number) {\n        return number;\n      },\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      modifierClass: 'swiper-pagination-',\n      // NEW\n      currentClass: 'swiper-pagination-current',\n      totalClass: 'swiper-pagination-total',\n      hiddenClass: 'swiper-pagination-hidden',\n      progressbarFillClass: 'swiper-pagination-progressbar-fill',\n      progressbarOppositeClass: 'swiper-pagination-progressbar-opposite',\n      clickableClass: 'swiper-pagination-clickable',\n      // NEW\n      lockClass: 'swiper-pagination-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      pagination: _extends({\n        dynamicBulletIndex: 0\n      }, Pagination)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.pagination.init();\n      swiper.pagination.render();\n      swiper.pagination.update();\n    },\n    activeIndexChange: function activeIndexChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        swiper.pagination.update();\n      }\n    },\n    snapIndexChange: function snapIndexChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.update();\n      }\n    },\n    slidesLengthChange: function slidesLengthChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    snapGridLengthChange: function snapGridLengthChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.pagination.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.pagination.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var targetEl = e.target;\n\n      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && swiper.pagination.$el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n        var isHidden = swiper.pagination.$el.hasClass(swiper.params.pagination.hiddenClass);\n\n        if (isHidden === true) {\n          swiper.emit('paginationShow');\n        } else {\n          swiper.emit('paginationHide');\n        }\n\n        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, nextTick, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Scrollbar = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate,\n        progress = swiper.progress;\n    var dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    var params = swiper.params.scrollbar;\n    var newSize = dragSize;\n    var newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(\"translate3d(\" + newPos + \"px, 0, 0)\");\n      $dragEl[0].style.width = newSize + \"px\";\n    } else {\n      $dragEl.transform(\"translate3d(0px, \" + newPos + \"px, 0)\");\n      $dragEl[0].style.height = newSize + \"px\";\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(function () {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize: function updateSize() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar;\n    var $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    var divider = swiper.size / swiper.virtualSize;\n    var moveDivider = divider * (trackSize / swiper.size);\n    var dragSize;\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = dragSize + \"px\";\n    } else {\n      $dragEl[0].style.height = dragSize + \"px\";\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    extend(scrollbar, {\n      trackSize: trackSize,\n      divider: divider,\n      moveDivider: moveDivider,\n      dragSize: dragSize\n    });\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  getPointerPosition: function getPointerPosition(e) {\n    var swiper = this;\n\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  },\n  setDragPosition: function setDragPosition(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate;\n    var $el = scrollbar.$el,\n        dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        dragStartPos = scrollbar.dragStartPos;\n    var positionRatio;\n    positionRatio = (scrollbar.getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart: function onDragStart(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    swiper.scrollbar.isTouched = true;\n    swiper.scrollbar.dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? scrollbar.getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n    clearTimeout(swiper.scrollbar.dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove: function onDragMove(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    if (!swiper.scrollbar.isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd: function onDragEnd(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el;\n    if (!swiper.scrollbar.isTouched) return;\n    swiper.scrollbar.isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = nextTick(function () {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    swiper.emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  },\n  enableDraggable: function enableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.addEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.addEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.addEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  disableDraggable: function disableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.removeEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.removeEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.removeEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $swiperEl = swiper.$el;\n    swiper.params.scrollbar = createElementIfNotDefined($swiperEl, swiper.params.scrollbar, swiper.params.createElements, {\n      el: 'swiper-scrollbar'\n    });\n    var params = swiper.params.scrollbar;\n    if (!params.el) return;\n    var $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    var $dragEl = $el.find(\".\" + swiper.params.scrollbar.dragClass);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(\"<div class=\\\"\" + swiper.params.scrollbar.dragClass + \"\\\"></div>\");\n      $el.append($dragEl);\n    }\n\n    extend(scrollbar, {\n      $el: $el,\n      el: $el[0],\n      $dragEl: $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.scrollbar.disableDraggable();\n  }\n};\nexport default {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      scrollbar: _extends({\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null\n      }, Scrollbar)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update: function update(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    resize: function resize(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate: function setTranslate(swiper) {\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      swiper.scrollbar.setTransition(duration);\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.scrollbar.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.scrollbar.destroy();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Parallax = {\n  setTransform: function setTransform(el, progress) {\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var $el = $(el);\n    var rtlFactor = rtl ? -1 : 1;\n    var p = $el.attr('data-swiper-parallax') || '0';\n    var x = $el.attr('data-swiper-parallax-x');\n    var y = $el.attr('data-swiper-parallax-y');\n    var scale = $el.attr('data-swiper-parallax-scale');\n    var opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = parseInt(x, 10) * progress * rtlFactor + \"%\";\n    } else {\n      x = x * progress * rtlFactor + \"px\";\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = parseInt(y, 10) * progress + \"%\";\n    } else {\n      y = y * progress + \"px\";\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      var currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(\"translate3d(\" + x + \", \" + y + \", 0px)\");\n    } else {\n      var currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(\"translate3d(\" + x + \", \" + y + \", 0px) scale(\" + currentScale + \")\");\n    }\n  },\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el,\n        slides = swiper.slides,\n        progress = swiper.progress,\n        snapGrid = swiper.snapGrid;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {\n      swiper.parallax.setTransform(el, progress);\n    });\n    slides.each(function (slideEl, slideIndex) {\n      var slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {\n        swiper.parallax.setTransform(el, slideProgress);\n      });\n    });\n  },\n  setTransition: function setTransition(duration) {\n    if (duration === void 0) {\n      duration = this.params.speed;\n    }\n\n    var swiper = this;\n    var $el = swiper.$el;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (parallaxEl) {\n      var $parallaxEl = $(parallaxEl);\n      var parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  }\n};\nexport default {\n  name: 'parallax',\n  params: {\n    parallax: {\n      enabled: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      parallax: _extends({}, Parallax)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    init: function init(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTranslate();\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, getTranslate } from '../../utils/utils';\nvar Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    var x1 = e.targetTouches[0].pageX;\n    var y1 = e.targetTouches[0].pageY;\n    var x2 = e.targetTouches[1].pageX;\n    var y2 = e.targetTouches[1].pageY;\n    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return distance;\n  },\n  // Events\n  onGestureStart: function onGestureStart(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange: function onGestureChange(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') zoom.onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * zoom.currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);\n    }\n\n    gesture.$imageEl.transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  onGestureEnd: function onGestureEnd(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  },\n  onTouchStart: function onTouchStart(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove: function onTouchMove(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTouchEnd: function onTouchEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTransitionEnd: function onTransitionEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  },\n  // Toggle Zoom\n  toggle: function toggle(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in: function _in(e) {\n    var swiper = this;\n    var window = getWindow();\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    gesture.$slideEl.addClass(\"\" + params.zoomedSlideClass);\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(\"translate3d(\" + translateX + \"px, \" + translateY + \"px,0)\");\n    gesture.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  out: function out() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(\"\" + params.zoomedSlideClass);\n    gesture.$slideEl = undefined;\n  },\n  toggleGestures: function toggleGestures(method) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var selector = zoom.slideSelector,\n        passive = zoom.passiveListener;\n    swiper.$wrapperEl[method]('gesturestart', selector, zoom.onGestureStart, passive);\n    swiper.$wrapperEl[method]('gesturechange', selector, zoom.onGestureChange, passive);\n    swiper.$wrapperEl[method]('gestureend', selector, zoom.onGestureEnd, passive);\n  },\n  enableGestures: function enableGestures() {\n    if (this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = true;\n    this.zoom.toggleGestures('on');\n  },\n  disableGestures: function disableGestures() {\n    if (!this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = false;\n    this.zoom.toggleGestures('off');\n  },\n  // Attach/Detach Events\n  enable: function enable() {\n    var swiper = this;\n    var support = swiper.support;\n    var zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass;\n    swiper.zoom.passiveListener = passiveListener;\n    swiper.zoom.slideSelector = slideSelector; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  },\n  disable: function disable() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    var support = swiper.support;\n    swiper.zoom.enabled = false;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  }\n};\nexport default {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      zoom: _extends({\n        enabled: false,\n        scale: 1,\n        currentScale: 1,\n        isScaling: false,\n        gesture: {\n          $slideEl: undefined,\n          slideWidth: undefined,\n          slideHeight: undefined,\n          $imageEl: undefined,\n          $imageWrapEl: undefined,\n          maxRatio: 3\n        },\n        image: {\n          isTouched: undefined,\n          isMoved: undefined,\n          currentX: undefined,\n          currentY: undefined,\n          minX: undefined,\n          minY: undefined,\n          maxX: undefined,\n          maxY: undefined,\n          width: undefined,\n          height: undefined,\n          startX: undefined,\n          startY: undefined,\n          touchesStart: {},\n          touchesCurrent: {}\n        },\n        velocity: {\n          x: undefined,\n          y: undefined,\n          prevPositionX: undefined,\n          prevPositionY: undefined,\n          prevTime: undefined\n        }\n      }, Zoom)\n    });\n    var scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get: function get() {\n        return scale;\n      },\n      set: function set(value) {\n        if (scale !== value) {\n          var imageEl = swiper.zoom.gesture.$imageEl ? swiper.zoom.gesture.$imageEl[0] : undefined;\n          var slideEl = swiper.zoom.gesture.$slideEl ? swiper.zoom.gesture.$slideEl[0] : undefined;\n          swiper.emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.zoom.disable();\n    },\n    touchStart: function touchStart(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd: function touchEnd(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap: function doubleTap(swiper, e) {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        swiper.zoom.onTransitionEnd();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Lazy = {\n  loadInSlide: function loadInSlide(index, loadInDuplicate) {\n    if (loadInDuplicate === void 0) {\n      loadInDuplicate = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var $slideEl = isVirtual ? swiper.$wrapperEl.children(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\") : swiper.slides.eq(index);\n    var $images = $slideEl.find(\".\" + params.elementClass + \":not(.\" + params.loadedClass + \"):not(.\" + params.loadingClass + \")\");\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(function (imageEl) {\n      var $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      var background = $imageEl.attr('data-background');\n      var src = $imageEl.attr('data-src');\n      var srcset = $imageEl.attr('data-srcset');\n      var sizes = $imageEl.attr('data-sizes');\n      var $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, function () {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', \"url(\\\"\" + background + \"\\\")\");\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(function (sourceEl) {\n              var $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(\".\" + params.preloaderClass).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            var originalSlide = swiper.$wrapperEl.children(\"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]:not(.\" + swiper.params.slideDuplicateClass + \")\");\n            swiper.lazy.loadInSlide(originalSlide.index(), false);\n          } else {\n            var duplicatedSlide = swiper.$wrapperEl.children(\".\" + swiper.params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]\");\n            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  },\n  load: function load() {\n    var swiper = this;\n    var $wrapperEl = swiper.$wrapperEl,\n        swiperParams = swiper.params,\n        slides = swiper.slides,\n        activeIndex = swiper.activeIndex;\n    var isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    var params = swiperParams.lazy;\n    var slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(\".\" + swiperParams.slideClass + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\").length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!swiper.lazy.initialImageLoaded) swiper.lazy.initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesVisibility) {\n      $wrapperEl.children(\".\" + swiperParams.slideVisibleClass).each(function (slideEl) {\n        var index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        swiper.lazy.loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) swiper.lazy.loadInSlide(i);\n      }\n    } else {\n      swiper.lazy.loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        var amount = params.loadPrevNextAmount;\n        var spv = slidesPerView;\n        var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (var _i = activeIndex + slidesPerView; _i < maxIndex; _i += 1) {\n          if (slideExist(_i)) swiper.lazy.loadInSlide(_i);\n        } // Prev Slides\n\n\n        for (var _i2 = minIndex; _i2 < activeIndex; _i2 += 1) {\n          if (slideExist(_i2)) swiper.lazy.loadInSlide(_i2);\n        }\n      } else {\n        var nextSlide = $wrapperEl.children(\".\" + swiperParams.slideNextClass);\n        if (nextSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(nextSlide));\n        var prevSlide = $wrapperEl.children(\".\" + swiperParams.slidePrevClass);\n        if (prevSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  },\n  checkInViewOnLoad: function checkInViewOnLoad() {\n    var window = getWindow();\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    var isWindow = $scrollElement[0] === window;\n    var scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    var scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    var swiperOffset = swiper.$el.offset();\n    var rtl = swiper.rtlTranslate;\n    var inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (var i = 0; i < swiperCoord.length; i += 1) {\n      var point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      swiper.lazy.load();\n      $scrollElement.off('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);\n    } else if (!swiper.lazy.scrollHandlerAttached) {\n      swiper.lazy.scrollHandlerAttached = true;\n      $scrollElement.on('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);\n    }\n  }\n};\nexport default {\n  name: 'lazy',\n  params: {\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      lazy: _extends({\n        initialImageLoaded: false\n      }, Lazy)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    },\n    init: function init(swiper) {\n      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {\n        if (swiper.params.lazy.checkInView) {\n          swiper.lazy.checkInViewOnLoad();\n        } else {\n          swiper.lazy.load();\n        }\n      }\n    },\n    scroll: function scroll(swiper) {\n      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {\n        swiper.lazy.load();\n      }\n    },\n    'scrollbarDragMove resize _freeModeNoMomentumRelease': function lazyLoad(swiper) {\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    transitionStart: function transitionStart(swiper) {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded) {\n          swiper.lazy.load();\n        }\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        swiper.lazy.load();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      var _swiper$params = swiper.params,\n          lazy = _swiper$params.lazy,\n          cssMode = _swiper$params.cssMode,\n          watchSlidesVisibility = _swiper$params.watchSlidesVisibility,\n          watchSlidesProgress = _swiper$params.watchSlidesProgress,\n          touchReleaseOnEdges = _swiper$params.touchReleaseOnEdges,\n          resistanceRatio = _swiper$params.resistanceRatio;\n\n      if (lazy.enabled && (cssMode || (watchSlidesVisibility || watchSlidesProgress) && (touchReleaseOnEdges || resistanceRatio === 0))) {\n        swiper.lazy.load();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick, bindModuleMethods } from '../../utils/utils';\nvar Controller = {\n  LinearSpline: function LinearSpline(x, y) {\n    var binarySearch = function search() {\n      var maxIndex;\n      var minIndex;\n      var guess;\n      return function (array, val) {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    var i1;\n    var i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  },\n  // xxx: for now i will just save one spline function to to\n  getInterpolateFunction: function getInterpolateFunction(c) {\n    var swiper = this;\n\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) : new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  },\n  setTranslate: function setTranslate(_setTranslate, byController) {\n    var swiper = this;\n    var controlled = swiper.controller.control;\n    var multiplier;\n    var controlledTranslate;\n    var Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      var translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        swiper.controller.getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (var i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  },\n  setTransition: function setTransition(duration, byController) {\n    var swiper = this;\n    var Swiper = swiper.constructor;\n    var controlled = swiper.controller.control;\n    var i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(function () {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(function () {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n};\nexport default {\n  name: 'controller',\n  params: {\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      controller: _extends({\n        control: swiper.params.controller.control\n      }, Controller)\n    });\n  },\n  on: {\n    update: function update(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    resize: function resize(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    setTranslate: function setTranslate(swiper, translate, byController) {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    },\n    setTransition: function setTransition(swiper, duration, byController) {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, classesToSelector } from '../../utils/utils';\nvar A11y = {\n  getRandomNumber: function getRandomNumber(size) {\n    if (size === void 0) {\n      size = 16;\n    }\n\n    var randomChar = function randomChar() {\n      return Math.round(16 * Math.random()).toString(16);\n    };\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  },\n  makeElFocusable: function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n    return $el;\n  },\n  makeElNotFocusable: function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n    return $el;\n  },\n  addElRole: function addElRole($el, role) {\n    $el.attr('role', role);\n    return $el;\n  },\n  addElRoleDescription: function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n    return $el;\n  },\n  addElControls: function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n    return $el;\n  },\n  addElLabel: function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n    return $el;\n  },\n  addElId: function addElId($el, id) {\n    $el.attr('id', id);\n    return $el;\n  },\n  addElLive: function addElLive($el, live) {\n    $el.attr('aria-live', live);\n    return $el;\n  },\n  disableEl: function disableEl($el) {\n    $el.attr('aria-disabled', true);\n    return $el;\n  },\n  enableEl: function enableEl($el) {\n    $el.attr('aria-disabled', false);\n    return $el;\n  },\n  onEnterOrSpaceKey: function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    var swiper = this;\n    var params = swiper.params.a11y;\n    var $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        swiper.a11y.notify(params.lastSlideMessage);\n      } else {\n        swiper.a11y.notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        swiper.a11y.notify(params.firstSlideMessage);\n      } else {\n        swiper.a11y.notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  },\n  notify: function notify(message) {\n    var swiper = this;\n    var notification = swiper.a11y.liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  },\n  updateNavigation: function updateNavigation() {\n    var swiper = this;\n    if (swiper.params.loop || !swiper.navigation) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        swiper.a11y.disableEl($prevEl);\n        swiper.a11y.makeElNotFocusable($prevEl);\n      } else {\n        swiper.a11y.enableEl($prevEl);\n        swiper.a11y.makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        swiper.a11y.disableEl($nextEl);\n        swiper.a11y.makeElNotFocusable($nextEl);\n      } else {\n        swiper.a11y.enableEl($nextEl);\n        swiper.a11y.makeElFocusable($nextEl);\n      }\n    }\n  },\n  updatePagination: function updatePagination() {\n    var swiper = this;\n    var params = swiper.params.a11y;\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.bullets.each(function (bulletEl) {\n        var $bulletEl = $(bulletEl);\n        swiper.a11y.makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          swiper.a11y.addElRole($bulletEl, 'button');\n          swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      });\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.a11y;\n    swiper.$el.append(swiper.a11y.liveRegion); // Container\n\n    var $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      swiper.a11y.addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      swiper.a11y.addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    var $wrapperEl = swiper.$wrapperEl;\n    var wrapperId = $wrapperEl.attr('id') || \"swiper-wrapper-\" + swiper.a11y.getRandomNumber(16);\n    var live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    swiper.a11y.addElId($wrapperEl, wrapperId);\n    swiper.a11y.addElLive($wrapperEl, live); // Slide\n\n    if (params.itemRoleDescriptionMessage) {\n      swiper.a11y.addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    swiper.a11y.addElRole($(swiper.slides), params.slideRole);\n    var slidesLength = swiper.params.loop ? swiper.slides.filter(function (el) {\n      return !el.classList.contains(swiper.params.slideDuplicateClass);\n    }).length : swiper.slides.length;\n    swiper.slides.each(function (slideEl, index) {\n      var $slideEl = $(slideEl);\n      var slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n      var ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n      swiper.a11y.addElLabel($slideEl, ariaLabelMessage);\n    }); // Navigation\n\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      swiper.a11y.makeElFocusable($nextEl);\n\n      if ($nextEl[0].tagName !== 'BUTTON') {\n        swiper.a11y.addElRole($nextEl, 'button');\n        $nextEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);\n      }\n\n      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);\n      swiper.a11y.addElControls($nextEl, wrapperId);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      swiper.a11y.makeElFocusable($prevEl);\n\n      if ($prevEl[0].tagName !== 'BUTTON') {\n        swiper.a11y.addElRole($prevEl, 'button');\n        $prevEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);\n      }\n\n      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);\n      swiper.a11y.addElControls($prevEl, wrapperId);\n    } // Pagination\n\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) swiper.a11y.liveRegion.remove();\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);\n    }\n  }\n};\nexport default {\n  name: 'a11y',\n  params: {\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      a11y: _extends({}, A11y, {\n        liveRegion: $(\"<span class=\\\"\" + swiper.params.a11y.notificationClass + \"\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"></span>\")\n      })\n    });\n  },\n  on: {\n    afterInit: function afterInit(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.init();\n      swiper.a11y.updateNavigation();\n    },\n    toEdge: function toEdge(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    fromEdge: function fromEdge(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    paginationUpdate: function paginationUpdate(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updatePagination();\n    },\n    destroy: function destroy(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.destroy();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar History = {\n  init: function init() {\n    var swiper = this;\n    var window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    var history = swiper.history;\n    history.initialized = true;\n    history.paths = History.getPathValues(swiper.params.url);\n    if (!history.paths.key && !history.paths.value) return;\n    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  setHistoryPopState: function setHistoryPopState() {\n    var swiper = this;\n    swiper.history.paths = History.getPathValues(swiper.params.url);\n    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);\n  },\n  getPathValues: function getPathValues(urlOverride) {\n    var window = getWindow();\n    var location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    var pathArray = location.pathname.slice(1).split('/').filter(function (part) {\n      return part !== '';\n    });\n    var total = pathArray.length;\n    var key = pathArray[total - 2];\n    var value = pathArray[total - 1];\n    return {\n      key: key,\n      value: value\n    };\n  },\n  setHistory: function setHistory(key, index) {\n    var swiper = this;\n    var window = getWindow();\n    if (!swiper.history.initialized || !swiper.params.history.enabled) return;\n    var location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    var slide = swiper.slides.eq(index);\n    var value = History.slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      var root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = root + \"/\" + key + \"/\" + value;\n    } else if (!location.pathname.includes(key)) {\n      value = key + \"/\" + value;\n    }\n\n    var currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value: value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value: value\n      }, null, value);\n    }\n  },\n  slugify: function slugify(text) {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  },\n  scrollToSlide: function scrollToSlide(speed, value, runCallbacks) {\n    var swiper = this;\n\n    if (value) {\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHistory = History.slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  }\n};\nexport default {\n  name: 'history',\n  params: {\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      history: _extends({}, History)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.history.enabled) {\n        swiper.history.init();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.history.enabled) {\n        swiper.history.destroy();\n      }\n    },\n    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {\n      if (swiper.history.initialized) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.history.initialized && swiper.params.cssMode) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar HashNavigation = {\n  onHashChange: function onHashChange() {\n    var swiper = this;\n    var document = getDocument();\n    swiper.emit('hashChange');\n    var newHash = document.location.hash.replace('#', '');\n    var activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      var newIndex = swiper.$wrapperEl.children(\".\" + swiper.params.slideClass + \"[data-hash=\\\"\" + newHash + \"\\\"]\").index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  },\n  setHash: function setHash() {\n    var swiper = this;\n    var window = getWindow();\n    var document = getDocument();\n    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, \"#\" + swiper.slides.eq(swiper.activeIndex).attr('data-hash') || '');\n      swiper.emit('hashSet');\n    } else {\n      var slide = swiper.slides.eq(swiper.activeIndex);\n      var hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      swiper.emit('hashSet');\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var document = getDocument();\n    var window = getWindow();\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    swiper.hashNavigation.initialized = true;\n    var hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      var speed = 0;\n\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', swiper.hashNavigation.onHashChange);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var window = getWindow();\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', swiper.hashNavigation.onHashChange);\n    }\n  }\n};\nexport default {\n  name: 'hash-navigation',\n  params: {\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      hashNavigation: _extends({\n        initialized: false\n      }, HashNavigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.init();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.destroy();\n      }\n    },\n    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {\n      if (swiper.hashNavigation.initialized) {\n        swiper.hashNavigation.setHash();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.hashNavigation.initialized && swiper.params.cssMode) {\n        swiper.hashNavigation.setHash();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint no-underscore-dangle: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick, bindModuleMethods } from '../../utils/utils';\nvar Autoplay = {\n  run: function run() {\n    var swiper = this;\n    var $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    var delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.timeout = nextTick(function () {\n      var autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else {\n          swiper.autoplay.stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else {\n        swiper.autoplay.stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) swiper.autoplay.run();else if (autoplayResult === false) {\n        swiper.autoplay.run();\n      }\n    }, delay);\n  },\n  start: function start() {\n    var swiper = this;\n    if (typeof swiper.autoplay.timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    swiper.emit('autoplayStart');\n    swiper.autoplay.run();\n    return true;\n  },\n  stop: function stop() {\n    var swiper = this;\n    if (!swiper.autoplay.running) return false;\n    if (typeof swiper.autoplay.timeout === 'undefined') return false;\n\n    if (swiper.autoplay.timeout) {\n      clearTimeout(swiper.autoplay.timeout);\n      swiper.autoplay.timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    swiper.emit('autoplayStop');\n    return true;\n  },\n  pause: function pause(speed) {\n    var swiper = this;\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (swiper.autoplay.timeout) clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      swiper.autoplay.run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n        swiper.$wrapperEl[0].addEventListener(event, swiper.autoplay.onTransitionEnd);\n      });\n    }\n  },\n  onVisibilityChange: function onVisibilityChange() {\n    var swiper = this;\n    var document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      swiper.autoplay.pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      swiper.autoplay.run();\n      swiper.autoplay.paused = false;\n    }\n  },\n  onTransitionEnd: function onTransitionEnd(e) {\n    var swiper = this;\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      swiper.autoplay.stop();\n    } else {\n      swiper.autoplay.run();\n    }\n  },\n  onMouseEnter: function onMouseEnter() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.disableOnInteraction) {\n      swiper.autoplay.stop();\n    } else {\n      swiper.autoplay.pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);\n    });\n  },\n  onMouseLeave: function onMouseLeave() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    swiper.autoplay.run();\n  },\n  attachMouseEvents: function attachMouseEvents() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', swiper.autoplay.onMouseEnter);\n      swiper.$el.on('mouseleave', swiper.autoplay.onMouseLeave);\n    }\n  },\n  detachMouseEvents: function detachMouseEvents() {\n    var swiper = this;\n    swiper.$el.off('mouseenter', swiper.autoplay.onMouseEnter);\n    swiper.$el.off('mouseleave', swiper.autoplay.onMouseLeave);\n  }\n};\nexport default {\n  name: 'autoplay',\n  params: {\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      autoplay: _extends({}, Autoplay, {\n        running: false,\n        paused: false\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.autoplay.enabled) {\n        swiper.autoplay.start();\n        var document = getDocument();\n        document.addEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);\n        swiper.autoplay.attachMouseEvents();\n      }\n    },\n    beforeTransitionStart: function beforeTransitionStart(swiper, speed, internal) {\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          swiper.autoplay.stop();\n        }\n      }\n    },\n    sliderFirstMove: function sliderFirstMove(swiper) {\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.pause();\n        }\n      }\n    },\n    touchEnd: function touchEnd(swiper) {\n      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.run();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.autoplay.detachMouseEvents();\n\n      if (swiper.autoplay.running) {\n        swiper.autoplay.stop();\n      }\n\n      var document = getDocument();\n      document.removeEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Fade = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = swiper.slides.eq(i);\n      var offset = $slideEl[0].swiperSlideOffset;\n      var tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      var ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      var slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      $slideEl.css({\n        opacity: slideOpacity\n      }).transform(\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px)\");\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides,\n        $wrapperEl = swiper.$wrapperEl;\n    slides.transition(duration);\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false;\n      slides.transitionEnd(function () {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n};\nexport default {\n  name: 'effect-fade',\n  params: {\n    fadeEffect: {\n      crossFade: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      fadeEffect: _extends({}, Fade)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"fade\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Cube = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides,\n        swiperWidth = swiper.width,\n        swiperHeight = swiper.height,\n        rtl = swiper.rtlTranslate,\n        swiperSize = swiper.size,\n        browser = swiper.browser;\n    var params = swiper.params.cubeEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var wrapperRotate = 0;\n    var $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: swiperWidth + \"px\"\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      var slideAngle = slideIndex * 90;\n      var round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      var progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      var tx = 0;\n      var ty = 0;\n      var tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      var transform = \"rotateX(\" + (isHorizontal ? 0 : -slideAngle) + \"deg) rotateY(\" + (isHorizontal ? slideAngle : 0) + \"deg) translate3d(\" + tx + \"px, \" + ty + \"px, \" + tz + \"px)\";\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        // Set shadows\n        var shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append(shadowBefore);\n        }\n\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append(shadowAfter);\n        }\n\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      '-moz-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      '-ms-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      'transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\"\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(\"translate3d(0px, \" + (swiperWidth / 2 + params.shadowOffset) + \"px, \" + -swiperWidth / 2 + \"px) rotateX(90deg) rotateZ(0deg) scale(\" + params.shadowScale + \")\");\n      } else {\n        var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        var scale1 = params.shadowScale;\n        var scale2 = params.shadowScale / multiplier;\n        var offset = params.shadowOffset;\n        $cubeShadowEl.transform(\"scale3d(\" + scale1 + \", 1, \" + scale2 + \") translate3d(0px, \" + (swiperHeight / 2 + offset) + \"px, \" + -swiperHeight / 2 / scale2 + \"px) rotateX(-90deg)\");\n      }\n    }\n\n    var zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(\"translate3d(0px,0,\" + zFactor + \"px) rotateX(\" + (swiper.isHorizontal() ? 0 : wrapperRotate) + \"deg) rotateY(\" + (swiper.isHorizontal() ? -wrapperRotate : 0) + \"deg)\");\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var $el = swiper.$el,\n        slides = swiper.slides;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  }\n};\nexport default {\n  name: 'effect-cube',\n  params: {\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      cubeEffect: _extends({}, Cube)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"cube\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Flip = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides,\n        rtl = swiper.rtlTranslate;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      var offset = $slideEl[0].swiperSlideOffset;\n      var rotate = -180 * progress;\n      var rotateY = rotate;\n      var rotateX = 0;\n      var tx = -offset;\n      var ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (swiper.params.flipEffect.slideShadows) {\n        // Set shadows\n        var shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append(shadowBefore);\n        }\n\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append(shadowAfter);\n        }\n\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n\n      $slideEl.transform(\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px) rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg)\");\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides,\n        activeIndex = swiper.activeIndex,\n        $wrapperEl = swiper.$wrapperEl;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false; // eslint-disable-next-line\n\n      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return; // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;\n\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n};\nexport default {\n  name: 'effect-flip',\n  params: {\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      flipEffect: _extends({}, Flip)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"flip\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Coverflow = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var swiperWidth = swiper.width,\n        swiperHeight = swiper.height,\n        slides = swiper.slides,\n        slidesSizesGrid = swiper.slidesSizesGrid;\n    var params = swiper.params.coverflowEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var transform = swiper.translate;\n    var center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    var rotate = isHorizontal ? params.rotate : -params.rotate;\n    var translate = params.depth; // Each slide offset from center\n\n    for (var i = 0, length = slides.length; i < length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideSize = slidesSizesGrid[i];\n      var slideOffset = $slideEl[0].swiperSlideOffset;\n      var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;\n      var rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      var rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      var translateZ = -translate * Math.abs(offsetMultiplier);\n      var stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      var translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      var translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      var scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      var slideTransform = \"translate3d(\" + translateX + \"px,\" + translateY + \"px,\" + translateZ + \"px)  rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg) scale(\" + scale + \")\";\n      $slideEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        var $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append($shadowBeforeEl);\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append($shadowAfterEl);\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    swiper.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  }\n};\nexport default {\n  name: 'effect-coverflow',\n  params: {\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      coverflowEffect: _extends({}, Coverflow)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"coverflow\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { extend, isObject, bindModuleMethods } from '../../utils/utils';\nimport $ from '../../utils/dom';\nvar Thumbs = {\n  init: function init() {\n    var swiper = this;\n    var thumbsParams = swiper.params.thumbs;\n    if (swiper.thumbs.initialized) return false;\n    swiper.thumbs.initialized = true;\n    var SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      extend(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      extend(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      swiper.thumbs.swiper = new SwiperClass(extend({}, thumbsParams.swiper, {\n        watchSlidesVisibility: true,\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      }));\n      swiper.thumbs.swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', swiper.thumbs.onThumbClick);\n    return true;\n  },\n  onThumbClick: function onThumbClick() {\n    var swiper = this;\n    var thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper) return;\n    var clickedIndex = thumbsSwiper.clickedIndex;\n    var clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    var slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      var currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      var prevIndex = swiper.slides.eq(currentIndex).prevAll(\"[data-swiper-slide-index=\\\"\" + slideToIndex + \"\\\"]\").eq(0).index();\n      var nextIndex = swiper.slides.eq(currentIndex).nextAll(\"[data-swiper-slide-index=\\\"\" + slideToIndex + \"\\\"]\").eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  },\n  update: function update(initial) {\n    var swiper = this;\n    var thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper) return;\n    var slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n    var autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    var useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      var currentThumbsIndex = thumbsSwiper.activeIndex;\n      var newThumbsIndex;\n      var direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        var prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(\"[data-swiper-slide-index=\\\"\" + swiper.realIndex + \"\\\"]\").eq(0).index();\n        var nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(\"[data-swiper-slide-index=\\\"\" + swiper.realIndex + \"\\\"]\").eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    } // Activate thumbs\n\n\n    var thumbsToActivate = 1;\n    var thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (var i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(\"[data-swiper-slide-index=\\\"\" + (swiper.realIndex + i) + \"\\\"]\").addClass(thumbActiveClass);\n      }\n    } else {\n      for (var _i = 0; _i < thumbsToActivate; _i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + _i).addClass(thumbActiveClass);\n      }\n    }\n  }\n};\nexport default {\n  name: 'thumbs',\n  params: {\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-container-thumbs'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      thumbs: _extends({\n        swiper: null,\n        initialized: false\n      }, Thumbs)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      var thumbs = swiper.params.thumbs;\n      if (!thumbs || !thumbs.swiper) return;\n      swiper.thumbs.init();\n      swiper.thumbs.update(true);\n    },\n    slideChange: function slideChange(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    update: function update(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    resize: function resize(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      var thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      thumbsSwiper.setTransition(duration);\n    },\n    beforeDestroy: function beforeDestroy(swiper) {\n      var thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n\n      if (swiper.thumbs.swiperCreated && thumbsSwiper) {\n        thumbsSwiper.destroy();\n      }\n    }\n  }\n};","/**\n * Swiper 6.8.2\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2021 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: August 16, 2021\n */\n\nimport Swiper from './esm/components/core/core-class';\nexport { default as Swiper, default } from './esm/components/core/core-class';\nimport Virtual from './esm/components/virtual/virtual';\nimport Keyboard from './esm/components/keyboard/keyboard';\nimport Mousewheel from './esm/components/mousewheel/mousewheel';\nimport Navigation from './esm/components/navigation/navigation';\nimport Pagination from './esm/components/pagination/pagination';\nimport Scrollbar from './esm/components/scrollbar/scrollbar';\nimport Parallax from './esm/components/parallax/parallax';\nimport Zoom from './esm/components/zoom/zoom';\nimport Lazy from './esm/components/lazy/lazy';\nimport Controller from './esm/components/controller/controller';\nimport A11y from './esm/components/a11y/a11y';\nimport History from './esm/components/history/history';\nimport HashNavigation from './esm/components/hash-navigation/hash-navigation';\nimport Autoplay from './esm/components/autoplay/autoplay';\nimport EffectFade from './esm/components/effect-fade/effect-fade';\nimport EffectCube from './esm/components/effect-cube/effect-cube';\nimport EffectFlip from './esm/components/effect-flip/effect-flip';\nimport EffectCoverflow from './esm/components/effect-coverflow/effect-coverflow';\nimport Thumbs from './esm/components/thumbs/thumbs';\n\n// Swiper Class\nvar components = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, EffectFade, EffectCube, EffectFlip, EffectCoverflow, Thumbs];\nSwiper.use(components);\n","import lottie from 'lottie-web';\r\n\r\nclass Animation {\r\n\r\n    constructor() {\r\n        ZoneObject.create('.column-right', {\r\n            minWidth: 991,\r\n            run: () => {\r\n                if (typeof this.lottie1 === 'undefined') {\r\n                    this.lottie1 = lottie.loadAnimation({\r\n                        container: document.getElementById('mainspring'),\r\n                        renderer: 'svg',\r\n                        loop: true,\r\n                        autoplay: true,\r\n                        path: '/json/mainspring/data.json?v=1'\r\n                    });\r\n\r\n                    this.lottie1.addEventListener('DOMLoaded', () => {\r\n                        $('#mainspring svg').attr('viewBox', '139 205 800 670');\r\n                    });\r\n                } else {\r\n                    this.lottie1.play();\r\n                }\r\n            },\r\n            stop: () => {\r\n                this.lottie1.stop();\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('.column-mobile', {\r\n            maxWidth: 991,\r\n            run: () => {\r\n                if (typeof this.lottie2 === 'undefined') {\r\n                    this.lottie2 = lottie.loadAnimation({\r\n                        container: document.getElementById('mainspring-sm'),\r\n                        renderer: 'svg',\r\n                        loop: true,\r\n                        autoplay: true,\r\n                        path: '/json/mainspring/data.json?v=1',\r\n                    });\r\n\r\n                    this.lottie2.addEventListener('DOMLoaded', () => {\r\n                        $('#mainspring-sm svg').attr('viewBox', '139 205 800 670');\r\n                    });\r\n                } else {\r\n                    this.lottie2.play();\r\n                }\r\n            },\r\n            stop: () => {\r\n                this.lottie2.stop();\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('#postmarks', {\r\n            minWidth: 1200,\r\n            run: () => {\r\n                if (typeof this.lottie_postmarks === 'undefined') {\r\n                    this.lottie_postmarks = lottie.loadAnimation({\r\n                        container: document.getElementById('postmarks'),\r\n                        renderer: 'svg',\r\n                        loop: false,\r\n                        autoplay: true,\r\n                        path: '/json/postmarks/data.json?v=1',\r\n                    });\r\n                } else {\r\n                    this.lottie_postmarks.play()\r\n                }\r\n            },\r\n            stop: () => {\r\n                this.lottie_postmarks.stop();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nnew Animation();","class Cursor {\r\n\r\n    constructor(obj) {\r\n        this.cursor = $(obj.cursor);\r\n        this.wrapSelector = obj.wrap ? obj.wrap : 'body';\r\n        this.onMousemove = obj.onMousemove;\r\n        this.onClick = obj.onClick;\r\n        this.setParams();\r\n        this.wrapDefaultCursorOff();\r\n        this.mousemove();\r\n        this.click();\r\n        this.resize();\r\n    }\r\n\r\n    resize() {\r\n        $(window).on('resize', () => {\r\n            this.setParams();\r\n        });\r\n    }\r\n\r\n    setParams() {\r\n        this.bodyWidth2 = $('body').width() / 2;\r\n        this.cursorWidth = this.cursor.width() / 2;\r\n        this.cursorHeight = this.cursor.height() / 2;\r\n    }\r\n\r\n    wrapDefaultCursorOff() {\r\n        $('body').append('<style>' + this.wrapSelector + ', ' + this.wrapSelector + ' * {cursor: none} ' + this.wrapSelector + ' a, ' + this.wrapSelector + ' a * {cursor: pointer}</style>');\r\n    }\r\n\r\n    setCursorPosition() {\r\n        if (this.inWrap) {\r\n            this.cursor.css({\r\n                top: this.top,\r\n                left: this.left,\r\n                display: 'block'\r\n            });\r\n        }\r\n    }\r\n\r\n    getParams(event) {\r\n        this.hoverElem = $(document.elementFromPoint(event.clientX, event.clientY));\r\n\r\n        this.inWrap = this.hoverElem.closest(this.wrapSelector).length && this.hoverElem.closest('a').length == 0;\r\n\r\n        this.top = event.clientY - this.cursorHeight;\r\n        this.left = event.clientX - this.cursorWidth;\r\n\r\n        this.isLeft = this.left < this.bodyWidth2;\r\n    }\r\n\r\n    mousemove() {\r\n        $('body').on('mousemove', (event) => {\r\n            this.cursor.hide();\r\n\r\n            this.getParams(event);\r\n            this.setCursorPosition();\r\n\r\n            if (this.onMousemove) {\r\n                this.onMousemove({\r\n                    inWrap: this.inWrap,\r\n                    isLeft: this.isLeft,\r\n                    hoverElem: this.hoverElem\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    click() {\r\n        this.cursor.on('click', () => {\r\n            if (this.onClick) {\r\n                this.onClick({\r\n                    isLeft: this.isLeft,\r\n                    hoverElem: this.hoverElem\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    triggerMousemove() {\r\n        var event = $.Event('mousemove');\r\n        event.clientX = this.left + this.cursorWidth;\r\n        event.clientY = this.top + this.cursorHeight;\r\n        $('body').trigger(event);\r\n    }\r\n\r\n}\r\n\r\nexport default Cursor;","import Cursor from '../../../../js-modules/Cursor';\r\n\r\n$(() => {\r\n    var minWidth = location.href.indexOf('partner') > -1 || location.href.indexOf('industry') > -1 || location.href.indexOf('arhive') > -1 || location.href.indexOf('contest') > -1 || location.href.indexOf('curators') > -1 ? 1200 : 992,\r\n        setTimeoutTimer = false;\r\n\r\n    if ($(window).width() > minWidth) {\r\n        ZoneObject.create('[cursor-status]', {\r\n            run: () => {\r\n                var SliderCursor = new Cursor({\r\n                    cursor: '.cursor',\r\n                    wrap: '[cursor-status]'\r\n                });\r\n\r\n                SliderCursor.onMousemove = (obj) => {\r\n                    $('.direction-item.hover').removeClass('hover');\r\n\r\n                    if (obj.inWrap) {\r\n                        if (obj.isLeft) {\r\n                            $('body').removeClass('cursor-right').addClass('cursor-left');\r\n                        } else {\r\n                            $('body').removeClass('cursor-left').addClass('cursor-right');\r\n                        }\r\n\r\n                        if (obj.hoverElem.closest('[data-white]').length) {\r\n                            $('body').addClass('cursor-black').removeClass('cursor-white');\r\n                        } else {\r\n                            $('body').addClass('cursor-white').removeClass('cursor-black');\r\n                        }\r\n\r\n                        if (obj.hoverElem.closest('.direction-item').length) {\r\n                            obj.hoverElem.closest('.direction-item').addClass('hover');\r\n                        }\r\n                    }\r\n                };\r\n\r\n                SliderCursor.onClick = (obj) => {\r\n                    var swiper = obj.hoverElem.closest('.swiper-container')[0].swiper;\r\n\r\n                    if (swiper) {\r\n                        if (obj.isLeft) {\r\n                            swiper.slidePrev(500);\r\n                        } else {\r\n                            swiper.slideNext(500);\r\n                        }\r\n\r\n                        if (setTimeoutTimer) clearTimeout(setTimeoutTimer);\r\n\r\n                        setTimeoutTimer = setTimeout(() => {\r\n                            SliderCursor.triggerMousemove();\r\n                        }, 500);\r\n                    }\r\n                };\r\n            }\r\n        });\r\n    }\r\n});","var paddingTimer = false;\r\n\r\nvar paddingSwiper = (swiper) => {\r\n    $('.swiper-wrapper').parents('.swiper-container').css('padding-left', $('.container').offset().left + 15);\r\n    $('.swiper-wrapper').parents('.swiper-container').css('padding-right', $('.container').offset().left + 15);\r\n\r\n    if (paddingTimer) {\r\n        clearTimeout(paddingTimer)\r\n    }\r\n\r\n    paddingTimer = setTimeout(() => {\r\n        window.dispatchEvent(new Event('resize'));\r\n    }, 500);\r\n}\r\n\r\nexport default {\r\n    speed: 500,\r\n    navigation: {\r\n        nextEl: '.arrows-nav__right',\r\n        prevEl: '.arrows-nav__left',\r\n    },\r\n    on: {\r\n        init: function(event) {\r\n            $($(this)[0].$el).find('[data-all-count]').html(event.slides.length);\r\n        },\r\n        slideChange: function(event) {\r\n            $($(this)[0].$el).find('[data-active-count]').html(event.activeIndex + 1);\r\n        },\r\n        beforeInit: paddingSwiper,\r\n        resize: paddingSwiper,\r\n        resizeObserver: false,\r\n    }\r\n}","import Swiper from 'swiper/bundle';\r\nimport './../../block/animation';\r\nimport './../../block/sliderCursor';\r\nimport './../../../../../js-modules/cursorStatus';\r\nimport options from './../../block/swiperOptions';\r\n\r\nwindow.account = {\r\n    init: function() {\r\n        account.swipers();\r\n    },\r\n\r\n    swipers: function() {\r\n        ZoneObject.create('.section-account__nominations', {\r\n            run: () => {\r\n                //   \r\n                new Swiper('.swiper-nominations', $.extend(options, {\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 20,\r\n                    breakpoints: {\r\n                        768: {\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n$(account.init)"],"names":["window","cursorStatus","timer","isLeftHalf_old","hoverElem","mousemoveHref","event","options","$","cursor","hide","document","elementFromPoint","clientX","clientY","tagName","show","create","elem","height","width","elemMouseMove","this_elem","on","this","off","setTimeout","bodyMouseMove","css","top","left","changeClass","elemHover","isMouseOver","pageY","removeClass","addClass","elemClick","bodyTriggerMousemoveTimer","bodyTriggerMousemove","eventClick","clearTimeout","Event","pageX","trigger","elemClickTimer","click","eq","isMouseOverI","elemHoverIndex","hover","hasClass","attr","isLeftHalf","cursor_color","document_half","svgNS","locationHref","initialDefaultFrame","subframeEnabled","idPrefix","expressionsPlugin","isSafari","test","navigator","userAgent","cachedColors","bmRnd","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","ProjectInterface","i","propertyNames","len","length","random","abs","val","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","round","styleDiv","element","style","position","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","type","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","BaseEvent","prototype","triggerEvent","eventName","args","_cbs","callbacks","addEventListener","callback","push","removeEventListener","bind","splice","createTypedArray","createRegularArray","value","arr","Uint8ClampedArray","Float32Array","Int16Array","Array","apply","createNS","createElementNS","createTag","createElement","DynamicPropertyContainer","addDynamicProperty","prop","dynamicProperties","indexOf","container","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","mode","lineCapEnum","lineJoinEnum","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","props","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","a","c","e","j","k","l","m","n","o","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","x","y","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","global","startdenom","significance","overflow","mask","ARC4","key","keylen","me","S","count","copy","slice","flatten","obj","depth","result","typ","mixkey","seed","smear","stringseed","charCodeAt","tostring","String","fromCharCode","shortseed","entropy","out","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","state","BezierFactory","ob","nm","str","replace","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_mSampleValues","_precomputed","get","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","sources","destination","sourcePrototype","Object","hasOwnProperty","call","getDescriptor","object","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezierLengthPool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","id","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","data","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","singleShape","__used","JSON","parse","stringify","ks","it","path","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","pathData","paths","__converted","checkColors","iterateShapes","checkShapes","completeClosingShapes","cl","moduleOb","__complete","dataManager","getFontProperties","fontData","styles","fStyle","fWeight","toLowerCase","weight","FontManager","emptyChar","w","size","combinedCharacters","concat","surrogateModifiers","zeroWidthJoiner","setUpNode","font","family","parentNode","setAttribute","fontFamily","node","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","appendChild","body","offsetWidth","familyArray","enabledFamilies","join","trimFontOptions","parent","createHelper","def","tHelper","fontProps","fFamily","textContent","fClass","getContext","Font","fonts","typekitLoaded","isLoaded","_warned","initTime","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","char","addChars","found","ch","addFonts","defs","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","origin","querySelectorAll","href","rel","src","sc","helper","cache","getCharData","console","warn","getFontByName","name","fName","measureText","fontName","index","doubleSize","getComputedTextLength","singleSize","loadedCount","removeChild","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","endValue","quat","qx","qy","qz","qw","heading","attitude","bank","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","atan2","asin","constructor","values","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","frameRate","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","ShapeModifiers","modifiers","registerModifier","factory","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","clonedPath","currentV","currentI","currentO","closerV","distance","newPosPerc","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","op","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","_i","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","ctx","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","createFootageData","assetLoader","load","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","destroy","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","append","setCacheType","elementHelper","featureSupport","maskType","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","formatResponse","xhr","response","responseText","errorCallback","XMLHttpRequest","responseType","err","onreadystatechange","readyState","status","open","send","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","add","rot","atan","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","shouldCombine","charAt","substr","newLineFlag","charData","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","undefined","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","divisor","poolFactory","initialLength","_create","_release","pooling","cloned","shapeCollection","markerParser","parsePayloadLines","payload","lines","keys","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","BaseRenderer","SVGRenderer","animationItem","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","className","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","context","dpr","wrapper","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","AudioElement","FootageElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","center","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","webkitPerspective","perspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","stop","gf","cst","opacityId","opFill","lc","lj","ml","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","createFilter","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","FootageInterface","getFootageData","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","fn","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","children","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","set","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","transformedElementStyle","matrixValue","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","Image","imageElem","perspectiveStyle","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","first","loadAnimation","params","setParams","setSpeed","setDirection","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","getElementsByTagName","div","resize","goToAndStop","isFrame","freeze","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","rendererSettings","parseInt","autoloadSegments","initialSegment","lastIndexOf","fileName","wrapperAttributes","attributes","getNamedItem","prerender","completeData","loadNextSegment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","error","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","getMarkerData","markerName","marker","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","fetch","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","defineProperty","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","frames","fps","timeToFrames","seedRandom","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","speed","delta","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","defineProperties","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","start","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","source","MaskManagerInterface","effects","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","compositions","_thisProjectFunction","createGroupInterface","groupInterface","createValueInterface","enabled","en","expressionProperty","effectsData","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","assign","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TextExpressionSelectorPropFactory","getValueProxy","total","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","eff","lottie","setLocationHref","setSubframeRendering","setIDPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","__getFactory","version","scripts","myScript","root","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","getter","__esModule","definition","enumerable","isObject","extend","forEach","ssrDocument","activeElement","blur","nodeName","querySelector","getElementById","createEvent","initEvent","importNode","location","hash","host","hostname","pathname","protocol","search","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","matchMedia","win","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Parent","Class","instance","Function","arguments","_wrapNativeSuper","_cache","Map","TypeError","has","Wrapper","writable","configurable","Dom7","_Array","subClass","superClass","_this","proto","self","ReferenceError","_assertThisInitialized","arrayFlat","res","el","isArray","arrayFilter","selector","html","toCreate","tempParent","innerHTML","qsa","nodeType","uniqueArray","arrayUnique","noTrigger","shortcut","_len","_key","Methods","classes","classNames","map","_el$classList","classList","_len2","_key2","_el$classList2","remove","_len4","_key4","contains","toggleClass","_len3","_key3","toggle","attrs","getAttribute","attrName","removeAttr","transition","transitionDuration","_len5","_key5","eventType","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","_parents","parents","handleEvent","events","_event","dom7LiveListeners","proxyListener","dom7Listeners","_len6","_key6","handlers","handler","dom7proxy","_len9","_key9","evt","detail","bubbles","cancelable","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","_styles","parseFloat","outerHeight","_styles2","getBoundingClientRect","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","_prop","each","compareWith","matches","webkitMatchesSelector","msMatchesSelector","child","previousSibling","returnIndex","newChild","tempDiv","firstChild","prepend","next","nextElementSibling","nextAll","nextEls","_next","prev","previousElementSibling","prevAll","prevEls","_prev","_parent","closest","find","foundElements","methodName","support","device","nextTick","delay","getTranslate","axis","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isNode","HTMLElement","noExtend","nextSource","keysArray","nextIndex","nextKey","desc","__swiper__","bindModuleMethods","subKey","classesToSelector","createElementIfNotDefined","$container","checkProps","auto","getSupport","touch","DocumentTouch","pointerEvents","PointerEvent","maxTouchPoints","observer","passiveListener","supportsPassive","opts","gestures","calcSupport","getDevice","overrides","_temp","platform","ua","ios","android","screenWidth","screenHeight","match","ipad","ipod","iphone","windows","macos","calcDevice","getBrowser","isEdge","isWebView","calcBrowser","swiper","createObserver","ResizeObserver","entries","newWidth","newHeight","_ref","contentBoxSize","contentRect","inlineSize","blockSize","resizeHandler","observe","removeObserver","unobserve","emit","orientationChangeHandler","resizeObserver","_extends","Observer","attach","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","childList","characterData","observers","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","disconnect","onTouchStart","touchEventsData","touches","animating","preventInteractionOnTransition","originalEvent","$targetEl","touchEventsTarget","wrapperEl","isTouchEvent","which","button","isTouched","isMoved","noSwipingClass","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","targetTouches","currentY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","innerWidth","preventDefault","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","updateSize","swipeDirection","threshold","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","onTouchMove","rtl","rtlTranslate","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","isVertical","maxTranslate","minTranslate","diffX","diffY","touchAngle","isHorizontal","cssMode","touchMoveStopPropagation","nested","stopPropagation","loopFix","startTranslate","setTransition","allowMomentumBounce","grabCursor","allowSlideNext","allowSlidePrev","setGrabCursor","diff","touchRatio","currentTranslate","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","watchSlidesProgress","watchSlidesVisibility","updateActiveIndex","updateSlidesClasses","velocities","updateProgress","setTranslate","onTouchEnd","slidesGrid","snapGrid","touchEndTime","timeDiff","updateClickedSlide","lastClickTime","slideTo","activeIndex","slides","freeModeMomentum","lastMoveEvent","velocityEvent","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","momentumDuration","freeModeMomentumRatio","momentumDistance","newPosition","afterBouncePosition","needsLoopFix","doBounce","bounceAmount","freeModeMomentumBounceRatio","freeModeMomentumBounce","centeredSlides","freeModeSticky","nextSlide","once","moveDistance","currentSlideSize","slidesSizesGrid","slideToClosest","transitionStart","longSwipesMs","stopIndex","groupSize","slidesPerGroupSkip","slidesPerGroup","_increment","ratio","increment","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","breakpoints","setBreakpoint","updateSlides","slidesPerView","isEnd","isBeginning","running","paused","run","watchOverflow","checkOverflow","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","previousTranslate","scrollWidth","translatesDiff","progress","dummyEventAttached","dummyEventListener","initialSlide","updateOnWindowResize","url","autoHeight","setWrapperSize","virtualTranslate","breakpointsBase","spaceBetween","slidesPerColumn","slidesPerColumnFill","centeredSlidesBounds","slidesOffsetBefore","slidesOffsetAfter","normalizeSlideIndex","centerInsufficientSlides","roundLengths","simulateTouch","uniqueNavElements","slideToClickedSlide","updateOnImagesReady","loopAdditionalSlides","loopedSlides","loopFillGroupWithBlank","loopPreventsSlide","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","_emitClasses","_defineProperties","descriptor","prototypes","modular","useParams","instanceParams","modules","moduleName","useModules","modulesParams","moduleParams","moduleEventName","eventsEmitter","priority","method","eventsListeners","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","eventHandler","eventsArray","clientWidth","clientHeight","getDirectionLabel","getDirectionPropertyValue","label","swiperSize","wrongRTL","isVirtual","virtual","previousSlidesLength","slidesLength","offsetBefore","offsetAfter","previousSnapGridLength","previousSlidesGridLength","slidePosition","prevSlideSize","slidesNumberEvenToRows","slideSize","virtualSize","marginLeft","marginBottom","marginTop","marginRight","newSlidesGrid","_$wrapperEl$css","_$wrapperEl$css2","slidesPerRow","numFullColumns","slide","newSlideOrderIndex","column","row","groupIndex","slideIndexInGroup","columnsInGroup","order","slideStyles","currentWebKitTransform","paddingLeft","paddingRight","boxSizing","_slide$","swiperSlideSize","slidesGridItem","_i2","_slidesGridItem","_slides$filter$css","slideIndex","allSlidesSize","slideSizeValue","maxSnap","snap","_allSlidesSize","allSlidesOffset","snapIndex","updateSlidesOffset","updateAutoHeight","activeSlides","getSlideByIndex","visibleSlides","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","offsetCenter","visibleSlidesIndexes","slideProgress","slideBefore","slideAfter","multiplier","wasBeginning","wasEnd","activeSlide","realIndex","prevSlide","emitSlidesClasses","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","skip","slideFound","clickedSlide","clickedIndex","byController","translateTo","runCallbacks","translateBounds","internal","newTranslate","_wrapperEl$scrollTo","isH","scrollTo","behavior","onTranslateToWrapperTransitionEnd","initial","indexAsNumber","isFinite","normalizedTranslate","normalizedGird","normalizedGridNext","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","slideNext","_clientLeft","slidePrev","prevIndex","normalizedSnapGrid","prevSnap","slideReset","currentSnap","slidesPerViewDynamic","slideToIndex","loopCreate","blankSlidesNum","blankNode","prependSlides","appendSlides","cloneNode","loopDestroy","moving","isLocked","unsetGrabCursor","manipulation","appendSlide","prependSlide","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","attachEvents","touchEvents","move","passive","cancel","detachEvents","_swiper$loopedSlides","breakpoint","getBreakpoint","currentBreakpoint","breakpointOnlyParams","param","paramValue","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","emitContainerClasses","directionChanged","needsReLoop","changeDirection","isEnabled","disable","enable","containerEl","innerHeight","minRatio","sort","_points$i","wasLocked","lastSlidePosition","addClasses","resultClasses","suffixes","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","complete","onload","onerror","imagesToLoad","currentSrc","extendedDefaults","Swiper","swipers","newParams","moduleParamName","desktop","swiperParams","defaults","passedParams","touchEventsTouch","touchEventsDesktop","clickTimeout","Constructor","protoProps","staticProps","_proto","setProgress","getSlideClasses","slideEl","updates","spv","breakLoop","translateValue","newDirection","needUpdate","currentDirection","mount","mounted","getWrapperSelector","getWrapper","deleteInstance","cleanStyles","extendDefaults","newDefaults","installModule","use","prototypeGroup","protoMethod","Virtual","force","_swiper$params","_swiper$params$virtua","addSlidesBefore","addSlidesAfter","_swiper$virtual","previousFrom","from","previousTo","previousSlidesGrid","renderSlide","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","$slideEl","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","beforeInit","overwriteParams","Keyboard","handle","kc","keyCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","ctrlKey","metaKey","onlyInViewport","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","isSupported","implementation","hasFeature","isEventSupported","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","mousewheel","eventsTarget","releaseOnEdges","rtlFactor","forceToAxis","invert","positions","sensitivity","_newEvent","sign","ignoreWheelEvents","timeout","_recentWheelEvents","_prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","newEvent","raw","prevEvent","animateSlider","releaseScroll","thresholdDelta","thresholdTime","Navigation","toggleEl","disabled","disabledClass","_swiper$navigation","$nextEl","$prevEl","lockClass","onPrevClick","onNextClick","_swiper$navigation2","Pagination","pagination","paginationType","bullets","firstIndex","midIndex","dynamicBullets","bulletSize","dynamicMainBullets","dynamicBulletIndex","bulletActiveClass","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","currentClass","formatFractionCurrent","totalClass","formatFractionTotal","progressbarDirection","progressbarOpposite","progressbarFillClass","renderCustom","paginationHTML","numberOfBullets","renderBullet","bulletClass","bulletElement","renderFraction","renderProgressbar","clickable","clickableClass","modifierClass","progressbarOppositeClass","hiddenClass","Scrollbar","scrollbar","dragSize","trackSize","$dragEl","newSize","newPos","divider","moveDivider","getPointerPosition","setDragPosition","positionRatio","dragStartPos","onDragStart","dragTimeout","onDragMove","onDragEnd","snapOnRelease","enableDraggable","activeListener","disableDraggable","$swiperEl","dragClass","dragEl","draggable","Parallax","currentOpacity","currentScale","parallax","parallaxEl","$parallaxEl","parallaxDuration","Zoom","getDistanceBetweenTouches","onGestureStart","zoom","gesture","fakeGestureTouched","fakeGestureMoved","scaleStart","$imageEl","$imageWrapEl","containerClass","maxRatio","isScaling","onGestureChange","scaleMove","onGestureEnd","touchesStart","slideWidth","slideHeight","scaledWidth","scaledHeight","minX","maxX","minY","maxY","touchesCurrent","prevPositionX","prevPositionY","prevTime","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","onTransitionEnd","in","touchX","touchY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomedSlideClass","toggleGestures","slideSelector","enableGestures","gesturesEnabled","disableGestures","activeListenerWithCapture","Lazy","loadInSlide","loadInDuplicate","$images","elementClass","loadedClass","loadingClass","background","$pictureEl","sourceEl","$source","preloaderClass","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","initialImageLoaded","loadPrevNext","loadPrevNextAmount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","scrollingElement","isWindow","scrollElementWidth","scrollElementHeight","scrollHandlerAttached","Controller","LinearSpline","guess","i3","binarySearch","array","interpolate","getInterpolateFunction","controller","spline","_setTranslate","controlledTranslate","controlled","control","setControlledTranslate","inverse","setControlledTransition","A11y","getRandomNumber","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","addElControls","controls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","a11y","notify","lastSlideMessage","nextSlideMessage","firstSlideMessage","prevSlideMessage","message","notification","liveRegion","updateNavigation","updatePagination","bulletEl","$bulletEl","paginationBulletMessage","$containerEl","containerRoleDescriptionMessage","containerMessage","wrapperId","itemRoleDescriptionMessage","slideRole","ariaLabelMessage","slideLabelMessage","History","hashNavigation","getPathValues","scrollToSlide","setHistoryPopState","urlOverride","pathArray","URL","part","setHistory","slugify","includes","currentState","HashNavigation","onHashChange","newHash","setHash","watchState","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","waitForTransition","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","attachMouseEvents","pauseOnMouseEnter","detachMouseEvents","Fade","slideOpacity","fadeEffect","crossFade","eventTriggered","triggerEvents","Cube","$cubeShadowEl","cubeEffect","wrapperRotate","shadow","slideAngle","slideShadows","shadowBefore","shadowAfter","shadowOffset","shadowScale","shadowAngle","scale2","zFactor","Flip","flipEffect","limitRotation","zIndex","Coverflow","coverflowEffect","offsetMultiplier","translateZ","stretch","slideTransform","$shadowBeforeEl","$shadowAfterEl","Thumbs","thumbsParams","thumbs","SwiperClass","swiperCreated","thumbsContainerClass","onThumbClick","thumbsSwiper","slideThumbActiveClass","autoScrollOffset","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","thumbsToActivate","thumbActiveClass","multipleActiveThumbs","components","hideOnClick","toEdge","fromEdge","_swiper$navigation3","_swiper$navigation4","targetEl","isHidden","number","activeIndexChange","snapIndexChange","slidesLengthChange","snapGridLengthChange","touchStart","touchEnd","doubleTap","slideChange","checkInView","loadOnTransitionStart","scroll","notificationClass","afterInit","paginationUpdate","beforeTransitionStart","sliderFirstMove","beforeDestroy","ZoneObject","minWidth","lottie1","maxWidth","lottie2","lottie_postmarks","Cursor","wrapSelector","wrap","onMousemove","wrapDefaultCursorOff","mousemove","bodyWidth2","cursorWidth","cursorHeight","inWrap","isLeft","getParams","setCursorPosition","setTimeoutTimer","SliderCursor","triggerMousemove","paddingTimer","paddingSwiper","account"],"sourceRoot":""}