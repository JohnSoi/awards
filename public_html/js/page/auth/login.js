!function(){"use strict";function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function r(t){var e=this;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),this.form=$(t.form),this.errors={},this.validateTimeOut=!1,this.form.on("input change","[name]",(function(){e.check()}))}var e,n,o;return e=r,(n=[{key:"rules",value:function(){return{email:"required|email",password:"required|min:8"}}},{key:"isErrors",value:function(){return Object.keys(this.errors).length}},{key:"check",value:function(){var t=this;this.validateTimeOut&&clearTimeout(this.validateTimeOut),this.validateTimeOut=setTimeout((function(){t.errors=validate.check(t.form,t.rules(),!0),t.isErrors()?t.form.find(".btn").addClass("opacity-50"):t.form.find(".btn").removeClass("opacity-50")}),100)}}])&&t(e.prototype,n),o&&t(e,o),r}();function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}new(function(){function t(e){var n=this;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.form=$(e.form),this.success=e.success,this.error=e.error,this.validate=new r(e),this.form.on("submit",(function(t){t.preventDefault(),n.ajax()}))}var o,i,a;return o=t,(i=[{key:"ajax",value:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}((function(){var t=this;if(this.validate.isErrors())return!1;ajax({url:this.form.attr("action"),type:"POST",dataType:"json",data:this.form.serialize()},(function(r){"object"===e(r)&&null!=r&&(r.success?t.success&&t.success(r):r.redirect?location.href=r.redirect:t.error&&t.error(r))}),this.form)}))}])&&n(o.prototype,i),a&&n(o,a),t}())({form:"#loginForm",success:function(){location.reload()}})}();
//# sourceMappingURL=login.js.map