{"version":3,"file":"/js/page/auth/passwords/reset.js","mappings":"YAAA,IAAIA,EAAgB,CAEhBC,KAAM,WACFC,EAAE,sBACGC,GAAG,eAAgB,SAAUH,EAAcI,UAC3CD,GAAG,SAAUH,EAAcK,SAGpCA,OAAQ,SAAUC,GACdA,EAAEC,iBAEF,IAAIC,EAAON,EAAEO,MAEbD,EAAKE,KAAK,kBAAkBC,SAC5BH,EAAKI,OAAO,4CAA8CC,MAAQ,MAElEC,KAAK,CACDC,IAAKP,EAAKQ,KAAK,UACfC,KAAM,OACNC,SAAU,OACVC,KAAMX,EAAKY,cACZ,SAAUC,GACLA,EAAKC,UAAYD,EAAKE,QACtBC,YAAYC,OAAO,CACfC,KAAM,yBACNC,IAAK,UACLC,QAAS,WACLC,SAASC,KAAO,YAKxBT,EAAKE,QAAUF,EAAKE,OAAOV,OAC3BW,YAAYC,OAAO,CACfC,KAAML,EAAKE,OAAOV,MAAM,GACxBc,IAAK,UACLI,cAAc,MAGvBvB,IAGPwB,iBAAiB,EACjB5B,SAAU,SAAU,GAAZ,gGAAE,aACFJ,EAAcgC,iBAAiBC,aAAajC,EAAcgC,iBAE9D,IAAIxB,EAAON,EAAEO,MAAMyB,QAAQ,QAE3BlC,EAAcgC,gBAAkBG,YAAW,WACvC,IAAIZ,EAASnB,SAASgC,MAAM5B,EAAM,CAC9B6B,SAAU,iBACVC,sBAAuB,6BACxB,GAECC,OAAOC,KAAKjB,GAAQkB,OACpBjC,EAAKE,KAAK,QAAQgC,SAAS,cAE3BlC,EAAKE,KAAK,QAAQiC,YAAY,gBAEnC,SAKXzC,EAAEF,EAAcC,M","sources":["webpack:///./resources/js/page/auth/passwords/reset.js"],"sourcesContent":["var passwordReset = {\r\n\r\n    init: function () {\r\n        $('#passwordResetForm')\r\n            .on('input change', '[name]', passwordReset.validate)\r\n            .on('submit', passwordReset.submit);\r\n    },\r\n\r\n    submit: function (e) {\r\n        e.preventDefault();\r\n\r\n        var form = $(this);\r\n\r\n        form.find('[name=\"email\"]').remove();\r\n        form.append('<input type=\"hidden\" name=\"email\" value=\"' + email + '\">');\r\n\r\n        ajax({\r\n            url: form.attr('action'),\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: form.serialize()\r\n        }, function (json) {\r\n            if (json.message && !json.errors) {\r\n                modalNotify.create({\r\n                    text: 'Пароль успешно изменен',\r\n                    btn: 'Закрыть',\r\n                    onClick: function () {\r\n                        location.href = '/login';\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (json.errors && json.errors.email) {\r\n                modalNotify.create({\r\n                    text: json.errors.email[0],\r\n                    btn: 'Закрыть',\r\n                    onClickClose: true\r\n                });\r\n            }\r\n        }, form);\r\n    },\r\n\r\n    validateTimeOut: false,\r\n    validate: function () {\r\n        if (passwordReset.validateTimeOut) clearTimeout(passwordReset.validateTimeOut);\r\n\r\n        var form = $(this).parents('form');\r\n\r\n        passwordReset.validateTimeOut = setTimeout(function () {\r\n            var errors = validate.check(form, {\r\n                password: 'required|min:8',\r\n                password_confirmation: 'required|min:8|confirmed'\r\n            }, true);\r\n\r\n            if (Object.keys(errors).length) {\r\n                form.find('.btn').addClass('opacity-50');\r\n            } else {\r\n                form.find('.btn').removeClass('opacity-50');\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n$(passwordReset.init);"],"names":["passwordReset","init","$","on","validate","submit","e","preventDefault","form","this","find","remove","append","email","ajax","url","attr","type","dataType","data","serialize","json","message","errors","modalNotify","create","text","btn","onClick","location","href","onClickClose","validateTimeOut","clearTimeout","parents","setTimeout","check","password","password_confirmation","Object","keys","length","addClass","removeClass"],"sourceRoot":""}