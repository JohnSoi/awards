{"version":3,"file":"/js/page/dark.js","mappings":"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","sources":["webpack:///../js-modules/cursorStatus.js","webpack:///../js-modules/jquery.countdown.js","webpack:///../js-modules/modalVideoStop.js","webpack:///./resources/js/block/award.js","webpack:///./node_modules/desandro-matches-selector/matches-selector.js","webpack:///./node_modules/ev-emitter/ev-emitter.js","webpack:///./node_modules/fizzy-ui-utils/utils.js","webpack:///./node_modules/get-size/get-size.js","webpack:///./node_modules/imagesloaded/imagesloaded.js","webpack:///./node_modules/lottie-web/build/player/lottie.js","webpack:///./node_modules/masonry-layout/masonry.js","webpack:///./node_modules/outlayer/item.js","webpack:///./node_modules/outlayer/outlayer.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./node_modules/ssr-window/ssr-window.esm.js","webpack:///./node_modules/dom7/dom7.esm.js","webpack:///./node_modules/swiper/esm/utils/dom.js","webpack:///./node_modules/swiper/esm/utils/get-support.js","webpack:///./node_modules/swiper/esm/utils/get-device.js","webpack:///./node_modules/swiper/esm/utils/get-browser.js","webpack:///./node_modules/swiper/esm/utils/utils.js","webpack:///./node_modules/swiper/esm/modules/resize/resize.js","webpack:///./node_modules/swiper/esm/modules/observer/observer.js","webpack:///./node_modules/swiper/esm/components/core/events/onTouchStart.js","webpack:///./node_modules/swiper/esm/components/core/events/onTouchMove.js","webpack:///./node_modules/swiper/esm/components/core/events/onTouchEnd.js","webpack:///./node_modules/swiper/esm/components/core/events/onResize.js","webpack:///./node_modules/swiper/esm/components/core/events/onClick.js","webpack:///./node_modules/swiper/esm/components/core/events/onScroll.js","webpack:///./node_modules/swiper/esm/components/core/events/index.js","webpack:///./node_modules/swiper/esm/components/core/check-overflow/index.js","webpack:///./node_modules/swiper/esm/components/core/defaults.js","webpack:///./node_modules/swiper/esm/components/core/core-class.js","webpack:///./node_modules/swiper/esm/components/core/modular.js","webpack:///./node_modules/swiper/esm/components/core/events-emitter.js","webpack:///./node_modules/swiper/esm/components/core/update/index.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSize.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlides.js","webpack:///./node_modules/swiper/esm/components/core/update/updateAutoHeight.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlidesOffset.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlidesProgress.js","webpack:///./node_modules/swiper/esm/components/core/update/updateProgress.js","webpack:///./node_modules/swiper/esm/components/core/update/updateSlidesClasses.js","webpack:///./node_modules/swiper/esm/components/core/update/updateActiveIndex.js","webpack:///./node_modules/swiper/esm/components/core/update/updateClickedSlide.js","webpack:///./node_modules/swiper/esm/components/core/translate/index.js","webpack:///./node_modules/swiper/esm/components/core/translate/getTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/setTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/minTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/maxTranslate.js","webpack:///./node_modules/swiper/esm/components/core/translate/translateTo.js","webpack:///./node_modules/swiper/esm/components/core/transition/index.js","webpack:///./node_modules/swiper/esm/components/core/transition/setTransition.js","webpack:///./node_modules/swiper/esm/components/core/transition/transitionStart.js","webpack:///./node_modules/swiper/esm/components/core/transition/transitionEnd.js","webpack:///./node_modules/swiper/esm/components/core/slide/index.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideTo.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideToLoop.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideNext.js","webpack:///./node_modules/swiper/esm/components/core/slide/slidePrev.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideReset.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideToClosest.js","webpack:///./node_modules/swiper/esm/components/core/slide/slideToClickedSlide.js","webpack:///./node_modules/swiper/esm/components/core/loop/index.js","webpack:///./node_modules/swiper/esm/components/core/loop/loopCreate.js","webpack:///./node_modules/swiper/esm/components/core/loop/loopFix.js","webpack:///./node_modules/swiper/esm/components/core/loop/loopDestroy.js","webpack:///./node_modules/swiper/esm/components/core/grab-cursor/index.js","webpack:///./node_modules/swiper/esm/components/core/grab-cursor/setGrabCursor.js","webpack:///./node_modules/swiper/esm/components/core/grab-cursor/unsetGrabCursor.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/index.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/appendSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/prependSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/addSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/removeSlide.js","webpack:///./node_modules/swiper/esm/components/core/manipulation/removeAllSlides.js","webpack:///./node_modules/swiper/esm/components/core/breakpoints/index.js","webpack:///./node_modules/swiper/esm/components/core/breakpoints/setBreakpoint.js","webpack:///./node_modules/swiper/esm/components/core/breakpoints/getBreakpoint.js","webpack:///./node_modules/swiper/esm/components/core/classes/index.js","webpack:///./node_modules/swiper/esm/components/core/classes/addClasses.js","webpack:///./node_modules/swiper/esm/components/core/classes/removeClasses.js","webpack:///./node_modules/swiper/esm/components/core/images/index.js","webpack:///./node_modules/swiper/esm/components/core/images/loadImage.js","webpack:///./node_modules/swiper/esm/components/core/images/preloadImages.js","webpack:///./node_modules/swiper/esm/components/virtual/virtual.js","webpack:///./node_modules/swiper/esm/components/keyboard/keyboard.js","webpack:///./node_modules/swiper/esm/components/mousewheel/mousewheel.js","webpack:///./node_modules/swiper/esm/components/navigation/navigation.js","webpack:///./node_modules/swiper/esm/components/pagination/pagination.js","webpack:///./node_modules/swiper/esm/components/scrollbar/scrollbar.js","webpack:///./node_modules/swiper/esm/components/parallax/parallax.js","webpack:///./node_modules/swiper/esm/components/zoom/zoom.js","webpack:///./node_modules/swiper/esm/components/lazy/lazy.js","webpack:///./node_modules/swiper/esm/components/controller/controller.js","webpack:///./node_modules/swiper/esm/components/a11y/a11y.js","webpack:///./node_modules/swiper/esm/components/history/history.js","webpack:///./node_modules/swiper/esm/components/hash-navigation/hash-navigation.js","webpack:///./node_modules/swiper/esm/components/autoplay/autoplay.js","webpack:///./node_modules/swiper/esm/components/effect-fade/effect-fade.js","webpack:///./node_modules/swiper/esm/components/effect-cube/effect-cube.js","webpack:///./node_modules/swiper/esm/components/effect-flip/effect-flip.js","webpack:///./node_modules/swiper/esm/components/effect-coverflow/effect-coverflow.js","webpack:///./node_modules/swiper/esm/components/thumbs/thumbs.js","webpack:///./node_modules/swiper/swiper-bundle.esm.js","webpack:///./resources/js/block/animation.js","webpack:///../js-modules/Cursor.js","webpack:///./resources/js/block/sliderCursor.js","webpack:///./resources/js/block/swiperOptions.js","webpack:///./resources/js/class/Image.js","webpack:///./resources/js/class/Photo/Navigate.js","webpack:///./resources/js/page/photos/navigate.js","webpack:///./resources/js/page/photos/html.js","webpack:///./resources/js/page/photos/modal.js","webpack:///./resources/js/page/photos/masonry.js","webpack:///./resources/js/page/photos/photoLoaded.js","webpack:///./resources/js/page/index/photos.js","webpack:///./resources/js/page/dark.js"],"sourcesContent":["// cursorStatus.create(elem)\r\n\r\nwindow.cursorStatus = {\r\n\r\n    timer: false,\r\n\r\n    isLeftHalf_old: false,\r\n    hoverElem: false,\r\n\r\n    mousemoveHref: function (event, options) {\r\n        $(options.cursor).hide();\r\n\r\n        var elem = $(document.elementFromPoint(event.clientX, event.clientY));\r\n\r\n        if (elem[0].tagName != 'A') {\r\n            $(options.cursor).show();\r\n        }\r\n    },\r\n\r\n    create: function (elem, options) {\r\n        var cursor = {\r\n            height: options.cursor ? $(options.cursor).height() / 2 : 0,\r\n            width: options.cursor ? $(options.cursor).width() / 2 : 0\r\n        }\r\n\r\n        var elemMouseMove = function (this_elem) {\r\n            this_elem.on('mousemove', function () {\r\n                $(this).off('mousemove');\r\n                setTimeout(function () {\r\n                    bodyMouseMove(this_elem);\r\n                }, 0);\r\n            });\r\n        }\r\n\r\n        var bodyMouseMove = function (this_elem) {\r\n            $('body').on('mousemove', function (event) {\r\n                if (options.cursor) {\r\n                    $(options.cursor).css({\r\n                        top: event.clientY - cursor.height,\r\n                        left: event.clientX - cursor.width\r\n                    });\r\n\r\n                    cursorStatus.mousemoveHref(event, options);\r\n                }\r\n\r\n                if (!cursorStatus.timer) {\r\n                    cursorStatus.timer = setTimeout(function () {\r\n                        cursorStatus.changeClass(this_elem, event);\r\n                        cursorStatus.elemHover(options, event);\r\n\r\n                        if (this_elem.isMouseOver(event.pageY)) {\r\n                            $('body').removeClass('cursor-off');\r\n                        } else {\r\n                            $('body').addClass('cursor-off').off('mousemove');\r\n                            setTimeout(function () {\r\n                                elemMouseMove(this_elem);\r\n                            }, 0);\r\n                        }\r\n\r\n                        cursorStatus.timer = false;\r\n                    }, 100);\r\n                }\r\n            });\r\n        }\r\n\r\n        elemMouseMove(elem);\r\n\r\n        cursorStatus.elemClick(elem, options);\r\n    },\r\n\r\n    bodyTriggerMousemoveTimer: false,\r\n    bodyTriggerMousemove: function (eventClick) {\r\n        if (cursorStatus.bodyTriggerMousemoveTimer) {\r\n            clearTimeout(cursorStatus.bodyTriggerMousemoveTimer);\r\n        }\r\n\r\n        cursorStatus.bodyTriggerMousemoveTimer = setTimeout(function () {\r\n            var event = $.Event('mousemove');\r\n            event.pageX = eventClick.pageX;\r\n            event.pageY = eventClick.pageY;\r\n            $('body').trigger(event);\r\n        }, 500);\r\n    },\r\n\r\n    elemClickTimer: false,\r\n    elemClick: function (elem, options) {\r\n        if (typeof options.on === 'object' && options.on != null) {\r\n            if (options.on.click) {\r\n                if (options.cursor) {\r\n                    $(options.cursor).on('click', function (event) {\r\n                        $(this).hide();\r\n                        cursorStatus.hoverElem = document.elementFromPoint(event.clientX, event.clientY);\r\n                        $(this).show();\r\n\r\n                        if (elem.isMouseOver(event.pageY)) {\r\n                            options.on.click(elem.eq(isMouseOverI));\r\n                            cursorStatus.bodyTriggerMousemove(event);\r\n                        }\r\n                    });\r\n                } else {\r\n                    elem.on('click', function () {\r\n                        options.on.click(elem);\r\n                        cursorStatus.bodyTriggerMousemove(event);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    elemHoverIndex: 0,\r\n    elemHover: function (options, event) {\r\n        if (options.hover) {\r\n            if ($(options.hover).isMouseOver(event.pageY, event.pageX)) {\r\n                var elem = $(options.hover).eq(isMouseOverI);\r\n\r\n                if (!elem.hasClass('hover')) {\r\n                    cursorStatus.elemHoverIndex++;\r\n\r\n                    $(options.hover).eq(isMouseOverI)\r\n                        .addClass('hover')\r\n                        .attr('data-cursor-index', cursorStatus.elemHoverIndex);\r\n\r\n                    $('[data-cursor-index!=\"' + cursorStatus.elemHoverIndex + '\"]').removeClass('hover');\r\n                }\r\n            } else {\r\n                $('[data-cursor-index]').removeClass('hover');\r\n            }\r\n        }\r\n    },\r\n\r\n    changeClass: function (elem, event) {\r\n        var left = cursorStatus.isLeftHalf(elem, event);\r\n\r\n        if (left) {\r\n            $('body').addClass('cursor-left');\r\n            $('body').removeClass('cursor-right');\r\n        } else {\r\n            $('body').removeClass('cursor-left');\r\n            $('body').addClass('cursor-right');\r\n        }\r\n\r\n        var cursor_color = 'black';\r\n\r\n        if ($('.black-block').isMouseOver(event.pageY, event.pageX)) {\r\n            cursor_color = 'white';\r\n        }\r\n\r\n        if ($('.white').isMouseOver(event.pageY, event.pageX)) {\r\n            cursor_color = 'black';\r\n        }\r\n\r\n        if ($('.black').isMouseOver(event.pageY, event.pageX)) {\r\n            cursor_color = 'white';\r\n        }\r\n\r\n        if (cursor_color == 'black') {\r\n            $('body').addClass('cursor-black');\r\n            $('body').removeClass('cursor-white');\r\n        } else {\r\n            $('body').addClass('cursor-white');\r\n            $('body').removeClass('cursor-black');\r\n        }\r\n    },\r\n\r\n    isLeftHalf: function (elem, event) {\r\n        var document_width = $(elem).width(),\r\n            document_half = document_width / 2;\r\n\r\n        return cursorStatus.isLeftHalf_old = event.pageX < document_half;\r\n    }\r\n\r\n}","/*!\r\n * The Final Countdown for jQuery v2.2.0 (http://hilios.github.io/jQuery.countdown/)\r\n * Copyright (c) 2016 Edson Hilios\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n\"use strict\";\r\nvar instances = [], matchers = [], defaultOptions = {\r\n    precision: 100,\r\n    elapse: false,\r\n    defer: false\r\n};\r\nmatchers.push(/^[0-9]*$/.source);\r\nmatchers.push(/([0-9]{1,2}\\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\r\nmatchers.push(/[0-9]{4}([\\/\\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\r\nmatchers = new RegExp(matchers.join(\"|\"));\r\nfunction parseDateString(dateString) {\r\n    if (dateString instanceof Date) {\r\n        return dateString;\r\n    }\r\n    if (String(dateString).match(matchers)) {\r\n        if (String(dateString).match(/^[0-9]*$/)) {\r\n            dateString = Number(dateString);\r\n        }\r\n        if (String(dateString).match(/\\-/)) {\r\n            dateString = String(dateString).replace(/\\-/g, \"/\");\r\n        }\r\n        return new Date(dateString);\r\n    } else {\r\n        throw new Error(\"Couldn't cast `\" + dateString + \"` to a date object.\");\r\n    }\r\n}\r\nvar DIRECTIVE_KEY_MAP = {\r\n    Y: \"years\",\r\n    m: \"months\",\r\n    n: \"daysToMonth\",\r\n    d: \"daysToWeek\",\r\n    w: \"weeks\",\r\n    W: \"weeksToMonth\",\r\n    H: \"hours\",\r\n    M: \"minutes\",\r\n    S: \"seconds\",\r\n    D: \"totalDays\",\r\n    I: \"totalHours\",\r\n    N: \"totalMinutes\",\r\n    T: \"totalSeconds\"\r\n};\r\nfunction escapedRegExp(str) {\r\n    var sanitize = str.toString().replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\r\n    return new RegExp(sanitize);\r\n}\r\nfunction strftime(offsetObject) {\r\n    return function (format) {\r\n        var directives = format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);\r\n        if (directives) {\r\n            for (var i = 0, len = directives.length; i < len; ++i) {\r\n                var directive = directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/), regexp = escapedRegExp(directive[0]), modifier = directive[1] || \"\", plural = directive[3] || \"\", value = null;\r\n                directive = directive[2];\r\n                if (DIRECTIVE_KEY_MAP.hasOwnProperty(directive)) {\r\n                    value = DIRECTIVE_KEY_MAP[directive];\r\n                    value = Number(offsetObject[value]);\r\n                }\r\n                if (value !== null) {\r\n                    if (modifier === \"!\") {\r\n                        value = pluralize(plural, value);\r\n                    }\r\n                    if (modifier === \"\") {\r\n                        if (value < 10) {\r\n                            value = \"0\" + value.toString();\r\n                        }\r\n                    }\r\n                    format = format.replace(regexp, value.toString());\r\n                }\r\n            }\r\n        }\r\n        format = format.replace(/%%/, \"%\");\r\n        return format;\r\n    };\r\n}\r\nfunction pluralize(format, count) {\r\n    var plural = \"s\", singular = \"\";\r\n    if (format) {\r\n        format = format.replace(/(:|;|\\s)/gi, \"\").split(/\\,/);\r\n        if (format.length === 1) {\r\n            plural = format[0];\r\n        } else {\r\n            singular = format[0];\r\n            plural = format[1];\r\n        }\r\n    }\r\n    if (Math.abs(count) > 1) {\r\n        return plural;\r\n    } else {\r\n        return singular;\r\n    }\r\n}\r\nvar Countdown = function (el, finalDate, options) {\r\n    this.el = el;\r\n    this.$el = $(el);\r\n    this.interval = null;\r\n    this.offset = {};\r\n    this.options = $.extend({}, defaultOptions);\r\n    this.instanceNumber = instances.length;\r\n    instances.push(this);\r\n    this.$el.data(\"countdown-instance\", this.instanceNumber);\r\n    if (options) {\r\n        if (typeof options === \"function\") {\r\n            this.$el.on(\"update.countdown\", options);\r\n            this.$el.on(\"stoped.countdown\", options);\r\n            this.$el.on(\"finish.countdown\", options);\r\n        } else {\r\n            this.options = $.extend({}, defaultOptions, options);\r\n        }\r\n    }\r\n    this.setFinalDate(finalDate);\r\n    if (this.options.defer === false) {\r\n        this.start();\r\n    }\r\n};\r\n$.extend(Countdown.prototype, {\r\n    start: function () {\r\n        if (this.interval !== null) {\r\n            clearInterval(this.interval);\r\n        }\r\n        var self = this;\r\n        this.update();\r\n        this.interval = setInterval(function () {\r\n            self.update.call(self);\r\n        }, this.options.precision);\r\n    },\r\n    stop: function () {\r\n        clearInterval(this.interval);\r\n        this.interval = null;\r\n        this.dispatchEvent(\"stoped\");\r\n    },\r\n    toggle: function () {\r\n        if (this.interval) {\r\n            this.stop();\r\n        } else {\r\n            this.start();\r\n        }\r\n    },\r\n    pause: function () {\r\n        this.stop();\r\n    },\r\n    resume: function () {\r\n        this.start();\r\n    },\r\n    remove: function () {\r\n        this.stop.call(this);\r\n        instances[this.instanceNumber] = null;\r\n        delete this.$el.data().countdownInstance;\r\n    },\r\n    setFinalDate: function (value) {\r\n        this.finalDate = parseDateString(value);\r\n    },\r\n    update: function () {\r\n        if (this.$el.closest(\"html\").length === 0) {\r\n            this.remove();\r\n            return;\r\n        }\r\n        var hasEventsAttached = $._data(this.el, \"events\") !== undefined, now = (typeof this.options.now === 'function' ? this.options.now() : new Date()), newTotalSecsLeft;\r\n        newTotalSecsLeft = this.finalDate.getTime() - now.getTime();\r\n        newTotalSecsLeft = Math.ceil(newTotalSecsLeft / 1e3);\r\n        newTotalSecsLeft = !this.options.elapse && newTotalSecsLeft < 0 ? 0 : Math.abs(newTotalSecsLeft);\r\n        if (this.totalSecsLeft === newTotalSecsLeft || !hasEventsAttached) {\r\n            return;\r\n        } else {\r\n            this.totalSecsLeft = newTotalSecsLeft;\r\n        }\r\n        this.elapsed = now >= this.finalDate;\r\n        this.offset = {\r\n            seconds: this.totalSecsLeft % 60,\r\n            minutes: Math.floor(this.totalSecsLeft / 60) % 60,\r\n            hours: Math.floor(this.totalSecsLeft / 60 / 60) % 24,\r\n            days: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\r\n            daysToWeek: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\r\n            daysToMonth: Math.floor(this.totalSecsLeft / 60 / 60 / 24 % 30.4368),\r\n            weeks: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 7),\r\n            weeksToMonth: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 7) % 4,\r\n            months: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 30.4368),\r\n            years: Math.abs(this.finalDate.getFullYear() - now.getFullYear()),\r\n            totalDays: Math.floor(this.totalSecsLeft / 60 / 60 / 24),\r\n            totalHours: Math.floor(this.totalSecsLeft / 60 / 60),\r\n            totalMinutes: Math.floor(this.totalSecsLeft / 60),\r\n            totalSeconds: this.totalSecsLeft\r\n        };\r\n        if (!this.options.elapse && this.totalSecsLeft === 0) {\r\n            this.stop();\r\n            this.dispatchEvent(\"finish\");\r\n        } else {\r\n            this.dispatchEvent(\"update\");\r\n        }\r\n    },\r\n    dispatchEvent: function (eventName) {\r\n        var event = $.Event(eventName + \".countdown\");\r\n        event.finalDate = this.finalDate;\r\n        event.elapsed = this.elapsed;\r\n        event.offset = $.extend({}, this.offset);\r\n        event.strftime = strftime(this.offset);\r\n        this.$el.trigger(event);\r\n    }\r\n});\r\n$.fn.countdown = function () {\r\n    var argumentsArray = Array.prototype.slice.call(arguments, 0);\r\n    return this.each(function () {\r\n        var instanceNumber = $(this).data(\"countdown-instance\");\r\n        if (instanceNumber !== undefined) {\r\n            var instance = instances[instanceNumber], method = argumentsArray[0];\r\n            if (Countdown.prototype.hasOwnProperty(method)) {\r\n                instance[method].apply(instance, argumentsArray.slice(1));\r\n            } else if (String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i) === null) {\r\n                instance.setFinalDate.call(instance, method);\r\n                instance.start();\r\n            } else {\r\n                $.error(\"Method %s does not exist on jQuery.countdown\".replace(/\\%s/gi, method));\r\n            }\r\n        } else {\r\n            new Countdown(this, argumentsArray[0], argumentsArray[1]);\r\n        }\r\n    });\r\n};","$(document).on('hidden.bs.modal', '.modal', function () {\r\n    $(this).find('iframe').each(function () {\r\n        $(this).after($(this).clone()).remove();\r\n    });\r\n\r\n    $(this).find('video').each(function () {\r\n        $(this).after($(this).clone()).remove();\r\n    });\r\n});","require('../../../../js-modules/jquery.countdown');\r\n\r\nZoneObject.create('.section-award', {\r\n    run: () => {\r\n        function correctNumber(number) {\r\n            var number = parseInt(number);\r\n            return number > 9 ? number : '0' + number;\r\n        }\r\n\r\n        var datetime = $('[data-countdown]').attr('data-countdown');\r\n        if (datetime) {\r\n            $('[data-countdown]').countdown(datetime, function (event) {\r\n                $(this).find('[data-days]').html(correctNumber(event.offset.totalDays));\r\n                $(this).find('[data-days-text]').html(num_word(event.offset.totalDays, ['', '', '']));\r\n                $(this).find('[data-hours]').html(correctNumber(event.offset.hours));\r\n                $(this).find('[data-hours-text]').html(num_word(event.offset.hours, ['', '', '']));\r\n                $(this).find('[data-minutes]').html(correctNumber(event.offset.minutes));\r\n                $(this).find('[data-minutes-text]').html(num_word(event.offset.minutes, ['', '', '']));\r\n                $(this).find('[data-seconds]').html(correctNumber(event.offset.seconds));\r\n                $(this).find('[data-seconds-text]').html(num_word(event.offset.seconds, ['', '', '']));\r\n            });\r\n        }\r\n    }\r\n});","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix, idPrefix:writable */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin, idPrefix */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar idPrefix = '';\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return idPrefix + '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var callbacks = this._cbs[eventName];\r\n      for (var i = 0; i < callbacks.length; i += 1) {\r\n        callbacks[i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* exported lineCapEnum, lineJoinEnum */\r\n\r\nvar lineCapEnum = {\r\n  1: 'butt',\r\n  2: 'round',\r\n  3: 'square',\r\n};\r\n\r\nvar lineJoinEnum = {\r\n  1: 'miter',\r\n  2: 'round',\r\n  3: 'bevel',\r\n};\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* exported dataManager */\r\n\r\nfunction dataFunctionManager() {\r\n  // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n  function completeLayers(layers, comps, fontManager) {\r\n    var layerData;\r\n    var i;\r\n    var len = layers.length;\r\n    var j;\r\n    var jLen;\r\n    var k;\r\n    var kLen;\r\n    for (i = 0; i < len; i += 1) {\r\n      layerData = layers[i];\r\n      if (('ks' in layerData) && !layerData.completed) {\r\n        layerData.completed = true;\r\n        if (layerData.tt) {\r\n          layers[i - 1].td = layerData.tt;\r\n        }\r\n        if (layerData.hasMask) {\r\n          var maskProps = layerData.masksProperties;\r\n          jLen = maskProps.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (maskProps[j].pt.k.i) {\r\n              convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n            } else {\r\n              kLen = maskProps[j].pt.k.length;\r\n              for (k = 0; k < kLen; k += 1) {\r\n                if (maskProps[j].pt.k[k].s) {\r\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                }\r\n                if (maskProps[j].pt.k[k].e) {\r\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (layerData.ty === 0) {\r\n          layerData.layers = findCompLayers(layerData.refId, comps);\r\n          completeLayers(layerData.layers, comps, fontManager);\r\n        } else if (layerData.ty === 4) {\r\n          completeShapes(layerData.shapes);\r\n        } else if (layerData.ty === 5) {\r\n          completeText(layerData, fontManager);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function findCompLayers(id, comps) {\r\n    var i = 0;\r\n    var len = comps.length;\r\n    while (i < len) {\r\n      if (comps[i].id === id) {\r\n        if (!comps[i].layers.__used) {\r\n          comps[i].layers.__used = true;\r\n          return comps[i].layers;\r\n        }\r\n        return JSON.parse(JSON.stringify(comps[i].layers));\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function completeShapes(arr) {\r\n    var i;\r\n    var len = arr.length;\r\n    var j;\r\n    var jLen;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (arr[i].ty === 'sh') {\r\n        if (arr[i].ks.k.i) {\r\n          convertPathsToAbsoluteValues(arr[i].ks.k);\r\n        } else {\r\n          jLen = arr[i].ks.k.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (arr[i].ks.k[j].s) {\r\n              convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n            }\r\n            if (arr[i].ks.k[j].e) {\r\n              convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n            }\r\n          }\r\n        }\r\n      } else if (arr[i].ty === 'gr') {\r\n        completeShapes(arr[i].it);\r\n      }\r\n    }\r\n  }\r\n\r\n  function convertPathsToAbsoluteValues(path) {\r\n    var i;\r\n    var len = path.i.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      path.i[i][0] += path.v[i][0];\r\n      path.i[i][1] += path.v[i][1];\r\n      path.o[i][0] += path.v[i][0];\r\n      path.o[i][1] += path.v[i][1];\r\n    }\r\n  }\r\n\r\n  function checkVersion(minimum, animVersionString) {\r\n    var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n    if (minimum[0] > animVersion[0]) {\r\n      return true;\r\n    } if (animVersion[0] > minimum[0]) {\r\n      return false;\r\n    }\r\n    if (minimum[1] > animVersion[1]) {\r\n      return true;\r\n    } if (animVersion[1] > minimum[1]) {\r\n      return false;\r\n    }\r\n    if (minimum[2] > animVersion[2]) {\r\n      return true;\r\n    } if (animVersion[2] > minimum[2]) {\r\n      return false;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  var checkText = (function () {\r\n    var minimumVersion = [4, 4, 14];\r\n\r\n    function updateTextLayer(textLayer) {\r\n      var documentData = textLayer.t.d;\r\n      textLayer.t.d = {\r\n        k: [\r\n          {\r\n            s: documentData,\r\n            t: 0,\r\n          },\r\n        ],\r\n      };\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var i;\r\n      var len = layers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (layers[i].ty === 5) {\r\n          updateTextLayer(layers[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkChars = (function () {\r\n    var minimumVersion = [4, 7, 99];\r\n    return function (animationData) {\r\n      if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n        var i;\r\n        var len = animationData.chars.length;\r\n        var j;\r\n        var jLen;\r\n        var pathData;\r\n        var paths;\r\n        for (i = 0; i < len; i += 1) {\r\n          if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n            paths = animationData.chars[i].data.shapes[0].it;\r\n            jLen = paths.length;\r\n\r\n            for (j = 0; j < jLen; j += 1) {\r\n              pathData = paths[j].ks.k;\r\n              if (!pathData.__converted) {\r\n                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                pathData.__converted = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkColors = (function () {\r\n    var minimumVersion = [4, 1, 9];\r\n\r\n    function iterateShapes(shapes) {\r\n      var i;\r\n      var len = shapes.length;\r\n      var j;\r\n      var jLen;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (shapes[i].ty === 'gr') {\r\n          iterateShapes(shapes[i].it);\r\n        } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n          if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n            jLen = shapes[i].c.k.length;\r\n            for (j = 0; j < jLen; j += 1) {\r\n              if (shapes[i].c.k[j].s) {\r\n                shapes[i].c.k[j].s[0] /= 255;\r\n                shapes[i].c.k[j].s[1] /= 255;\r\n                shapes[i].c.k[j].s[2] /= 255;\r\n                shapes[i].c.k[j].s[3] /= 255;\r\n              }\r\n              if (shapes[i].c.k[j].e) {\r\n                shapes[i].c.k[j].e[0] /= 255;\r\n                shapes[i].c.k[j].e[1] /= 255;\r\n                shapes[i].c.k[j].e[2] /= 255;\r\n                shapes[i].c.k[j].e[3] /= 255;\r\n              }\r\n            }\r\n          } else {\r\n            shapes[i].c.k[0] /= 255;\r\n            shapes[i].c.k[1] /= 255;\r\n            shapes[i].c.k[2] /= 255;\r\n            shapes[i].c.k[3] /= 255;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var i;\r\n      var len = layers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (layers[i].ty === 4) {\r\n          iterateShapes(layers[i].shapes);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkShapes = (function () {\r\n    var minimumVersion = [4, 4, 18];\r\n\r\n    function completeClosingShapes(arr) {\r\n      var i;\r\n      var len = arr.length;\r\n      var j;\r\n      var jLen;\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        if (arr[i].ty === 'sh') {\r\n          if (arr[i].ks.k.i) {\r\n            arr[i].ks.k.c = arr[i].closed;\r\n          } else {\r\n            jLen = arr[i].ks.k.length;\r\n            for (j = 0; j < jLen; j += 1) {\r\n              if (arr[i].ks.k[j].s) {\r\n                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n              }\r\n              if (arr[i].ks.k[j].e) {\r\n                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n              }\r\n            }\r\n          }\r\n        } else if (arr[i].ty === 'gr') {\r\n          completeClosingShapes(arr[i].it);\r\n        }\r\n      }\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var layerData;\r\n      var i;\r\n      var len = layers.length;\r\n      var j;\r\n      var jLen;\r\n      var k;\r\n      var kLen;\r\n      for (i = 0; i < len; i += 1) {\r\n        layerData = layers[i];\r\n        if (layerData.hasMask) {\r\n          var maskProps = layerData.masksProperties;\r\n          jLen = maskProps.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (maskProps[j].pt.k.i) {\r\n              maskProps[j].pt.k.c = maskProps[j].cl;\r\n            } else {\r\n              kLen = maskProps[j].pt.k.length;\r\n              for (k = 0; k < kLen; k += 1) {\r\n                if (maskProps[j].pt.k[k].s) {\r\n                  maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                }\r\n                if (maskProps[j].pt.k[k].e) {\r\n                  maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (layerData.ty === 4) {\r\n          completeClosingShapes(layerData.shapes);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  function completeData(animationData, fontManager) {\r\n    if (animationData.__complete) {\r\n      return;\r\n    }\r\n    checkColors(animationData);\r\n    checkText(animationData);\r\n    checkChars(animationData);\r\n    checkShapes(animationData);\r\n    completeLayers(animationData.layers, animationData.assets, fontManager);\r\n    animationData.__complete = true;\r\n  }\r\n\r\n  function completeText(data) {\r\n    if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n      data.singleShape = true;\r\n    }\r\n  }\r\n\r\n  var moduleOb = {};\r\n  moduleOb.completeData = completeData;\r\n  moduleOb.checkColors = checkColors;\r\n  moduleOb.checkChars = checkChars;\r\n  moduleOb.checkShapes = checkShapes;\r\n  moduleOb.completeLayers = completeLayers;\r\n\r\n  return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  var surrogateModifiers = [\r\n    'd83cdffb',\r\n    'd83cdffc',\r\n    'd83cdffd',\r\n    'd83cdffe',\r\n    'd83cdfff',\r\n  ];\r\n\r\n  var zeroWidthJoiner = [65039, 8205];\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    // Node is invisible to screen readers.\r\n    parentNode.setAttribute('aria-hidden', true);\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function isModifier(firstCharCode, secondCharCode) {\r\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n    return surrogateModifiers.indexOf(sum) !== -1;\r\n  }\r\n\r\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n    if (!secondCharCode) {\r\n      return firstCharCode === zeroWidthJoiner[1];\r\n    }\r\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n  }\r\n\r\n  function isCombinedCharacter(char) {\r\n    return combinedCharacters.indexOf(char) !== -1;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n  Font.isModifier = isModifier;\r\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n  Font.isCombinedCharacter = isCombinedCharacter;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyData.bezierData) {\r\n        keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyData.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyData.__fnct) {\r\n          fnc = keyData.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyData.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyData.__fnct) {\r\n                  keyData.__fnct = [];\r\n                }\r\n                if (!keyData.__fnct[i]) {\r\n                  outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyData.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyData.__fnct[i];\r\n                }\r\n              } else if (!keyData.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.__fnct = fnc;\r\n              } else {\r\n                fnc = keyData.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyData.__fnct) {\r\n            fnc = keyData.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyData.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  var hasReloaded = false;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n      hasReloaded = true;\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      if (!renderFlag) {\r\n        var elems = this.elemsData[i].it;\r\n        var transformData = elems[elems.length - 1];\r\n        if (transformData.transform.op.v !== 0) {\r\n          transformData.transform.op._mdf = true;\r\n          transformData.transform.op.v = 0;\r\n        } else {\r\n          transformData.transform.op._mdf = false;\r\n        }\r\n      }\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\r\n        ? this.so.v\r\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n  return hasReloaded;\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari, assetLoader */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n  function footageLoaded() {\r\n    this.loadedFootagesCount += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    if (this._elementHelper.append) {\r\n      this._elementHelper.append(img);\r\n    } else {\r\n      this._elementHelper.appendChild(img);\r\n    }\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createFootageData(data) {\r\n    var ob = {\r\n      assetData: data,\r\n    };\r\n    var path = getAssetsPath(data, this.assetsPath, this.path);\r\n    assetLoader.load(path, function (footageData) {\r\n      ob.img = footageData;\r\n      this._footageLoaded();\r\n    }.bind(this), function () {\r\n      ob.img = {};\r\n      this._footageLoaded();\r\n    }.bind(this));\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        if (!assets[i].t || assets[i].t === 'seq') {\r\n          this.totalImages += 1;\r\n          this.images.push(this._createImageData(assets[i]));\r\n        } else if (assets[i].t === 3) {\r\n          this.totalFootages += 1;\r\n          this.images.push(this.createFootageData(assets[i]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getAsset(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loadedImages() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function loadedFootages() {\r\n    return this.totalFootages === this.loadedFootagesCount;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this._footageLoaded = footageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.createFootageData = createFootageData.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.totalFootages = 0;\r\n    this.loadedAssets = 0;\r\n    this.loadedFootagesCount = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loadedImages: loadedImages,\r\n    loadedFootages: loadedFootages,\r\n    destroy: destroy,\r\n    getAsset: getAsset,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    footageLoaded: footageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId, skipCoordinates) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    if (skipCoordinates !== true) {\r\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n      fil.setAttribute('x', '0%');\r\n      fil.setAttribute('y', '0%');\r\n      fil.setAttribute('width', '100%');\r\n      fil.setAttribute('height', '100%');\r\n    }\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* exported assetLoader */\r\n\r\nvar assetLoader = (function () {\r\n  function formatResponse(xhr) {\r\n    if (xhr.response && typeof xhr.response === 'object') {\r\n      return xhr.response;\r\n    } if (xhr.response && typeof xhr.response === 'string') {\r\n      return JSON.parse(xhr.response);\r\n    } if (xhr.responseText) {\r\n      return JSON.parse(xhr.responseText);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function loadAsset(path, callback, errorCallback) {\r\n    var response;\r\n    var xhr = new XMLHttpRequest();\r\n    // set responseType after calling open or IE will break.\r\n    try {\r\n      // This crashes on Android WebView prior to KitKat\r\n      xhr.responseType = 'json';\r\n    } catch (err) {} // eslint-disable-line no-empty\r\n    xhr.onreadystatechange = function () {\r\n      if (xhr.readyState === 4) {\r\n        if (xhr.status === 200) {\r\n          response = formatResponse(xhr);\r\n          callback(response);\r\n        } else {\r\n          try {\r\n            response = formatResponse(xhr);\r\n            callback(response);\r\n          } catch (err) {\r\n            if (errorCallback) {\r\n              errorCallback(err);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n    xhr.open('GET', path, true);\r\n    xhr.send();\r\n  }\r\n  return {\r\n    load: loadAsset,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: this._textData.p.r,\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (textData.p.p) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var charactersArray = [];\r\n  var i = 0;\r\n  var len = text.length;\r\n  var charCode;\r\n  var secondCharCode;\r\n  var shouldCombine = false;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (FontManager.isCombinedCharacter(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          shouldCombine = false;\r\n        } else {\r\n          charactersArray.push(text.substr(i, 2));\r\n        }\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (charCode > 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n        shouldCombine = true;\r\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      shouldCombine = true;\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* exported markerParser */\r\n\r\nvar markerParser = (\r\n\r\n  function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr,\r\n        };\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i],\r\n            };\r\n          }\r\n        }\r\n        markers.push(markerData);\r\n      }\r\n      return markers;\r\n    };\r\n  }());\r\n\r\n/* global AudioElement, FootageElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    case 15:\r\n      return this.createFootage(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.createFootage = function (data) {\r\n  return new FootageElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global CVContextData, Matrix, extendPrototype, BaseRenderer, CVShapeElement, CVTextElement,\r\nCVImageElement, CVCompElement, CVSolidElement, SVGRenderer, createTag, createSizedArray */\r\n\r\nfunction CanvasRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.renderConfig = {\r\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n    context: (config && config.context) || null,\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n  };\r\n  this.renderConfig.dpr = (config && config.dpr) || 1;\r\n  if (this.animationItem.wrapper) {\r\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n  }\r\n  this.renderedFrame = -1;\r\n  this.globalData = {\r\n    frameNum: -1,\r\n    _mdf: false,\r\n    renderConfig: this.renderConfig,\r\n    currentGlobalAlpha: -1,\r\n  };\r\n  this.contextData = new CVContextData();\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.transformMat = new Matrix();\r\n  this.completeLayers = false;\r\n  this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer], CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n  return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n  return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n  return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n  return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n  return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function (props) {\r\n  if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n    return;\r\n  }\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n    return;\r\n  }\r\n  this.transformMat.cloneFromProps(props);\r\n  var cProps = this.contextData.cTr.props;\r\n  this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]);\r\n  // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n  this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n  var trProps = this.contextData.cTr.props;\r\n  this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function (op) {\r\n  /* if(op === 1){\r\n        return;\r\n    } */\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    return;\r\n  }\r\n  this.contextData.cO *= op < 0 ? 0 : op;\r\n  if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n    this.canvasContext.globalAlpha = this.contextData.cO;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function () {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.save();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.save();\r\n  }\r\n  var props = this.contextData.cTr.props;\r\n  if (this.contextData._length <= this.contextData.cArrPos) {\r\n    this.contextData.duplicate();\r\n  }\r\n  var i;\r\n  var arr = this.contextData.saved[this.contextData.cArrPos];\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = props[i];\r\n  }\r\n  this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n  this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.restore();\r\n    this.globalData.blendMode = 'source-over';\r\n  }\r\n  this.contextData.cArrPos -= 1;\r\n  var popped = this.contextData.saved[this.contextData.cArrPos];\r\n  var i;\r\n  var arr = this.contextData.cTr.props;\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = popped[i];\r\n  }\r\n  this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\r\n  popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n  this.contextData.cO = popped;\r\n  if (this.globalData.currentGlobalAlpha !== popped) {\r\n    this.canvasContext.globalAlpha = popped;\r\n    this.globalData.currentGlobalAlpha = popped;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function (animData) {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.container = createTag('canvas');\r\n    var containerStyle = this.animationItem.container.style;\r\n    containerStyle.width = '100%';\r\n    containerStyle.height = '100%';\r\n    var origin = '0px 0px 0px';\r\n    containerStyle.transformOrigin = origin;\r\n    containerStyle.mozTransformOrigin = origin;\r\n    containerStyle.webkitTransformOrigin = origin;\r\n    containerStyle['-webkit-transform'] = origin;\r\n    this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n    this.canvasContext = this.animationItem.container.getContext('2d');\r\n    if (this.renderConfig.className) {\r\n      this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n      this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n    }\r\n  } else {\r\n    this.canvasContext = this.renderConfig.context;\r\n  }\r\n  this.data = animData;\r\n  this.layers = animData.layers;\r\n  this.transformCanvas = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n    sx: 0,\r\n    sy: 0,\r\n    tx: 0,\r\n    ty: 0,\r\n  };\r\n  this.setupGlobalData(animData, document.body);\r\n  this.globalData.canvasContext = this.canvasContext;\r\n  this.globalData.renderer = this;\r\n  this.globalData.isDashed = false;\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.globalData.transformCanvas = this.transformCanvas;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n\r\n  this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n  this.reset();\r\n  var elementWidth;\r\n  var elementHeight;\r\n  if (this.animationItem.wrapper && this.animationItem.container) {\r\n    elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\r\n    this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\r\n  } else {\r\n    elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n    elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n  }\r\n  var elementRel;\r\n  var animationRel;\r\n  if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n    var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n    var fillType = par[1] || 'meet';\r\n    var pos = par[0] || 'xMidYMid';\r\n    var xPos = pos.substr(0, 4);\r\n    var yPos = pos.substr(4);\r\n    elementRel = elementWidth / elementHeight;\r\n    animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n    if ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice')) {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    } else {\r\n      this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    }\r\n\r\n    if (xPos === 'xMid' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = ((elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2) * this.renderConfig.dpr;\r\n    } else if (xPos === 'xMax' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.tx = 0;\r\n    }\r\n    if (yPos === 'YMid' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2) * this.renderConfig.dpr;\r\n    } else if (yPos === 'YMax' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w))) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n  } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n    this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  } else {\r\n    this.transformCanvas.sx = this.renderConfig.dpr;\r\n    this.transformCanvas.sy = this.renderConfig.dpr;\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  }\r\n  this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n  /* var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    } */\r\n  this.ctxTransform(this.transformCanvas.props);\r\n  this.canvasContext.beginPath();\r\n  this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n  this.canvasContext.closePath();\r\n  this.canvasContext.clip();\r\n\r\n  this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n  if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.globalData.canvasContext = null;\r\n  this.animationItem.container = null;\r\n  this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function (num, forceRender) {\r\n  if ((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1) {\r\n    return;\r\n  }\r\n  this.renderedFrame = num;\r\n  this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n  this.globalData.frameId += 1;\r\n  this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n\r\n  // console.log('--------');\r\n  // console.log('NEW: ',num);\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    if (this.renderConfig.clearCanvas === true) {\r\n      this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    } else {\r\n      this.save();\r\n    }\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n    if (this.renderConfig.clearCanvas !== true) {\r\n      this.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  var element = this.createItem(this.layers[pos], this, this.globalData);\r\n  elements[pos] = element;\r\n  element.initExpressions();\r\n  /* if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    } */\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function () {\r\n  this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function () {\r\n  this.animationItem.container.style.display = 'block';\r\n};\r\n\r\n/* global extendPrototype, BaseRenderer, SVGRenderer, SVGShapeElement, HShapeElement, SVGTextLottieElement,\r\nHTextElement, HCameraElement, IImageElement, HImageElement, SVGCompElement, HCompElement, ISolidElement,\r\nHSolidElement, styleDiv, createTag, createNS */\r\n\r\nfunction HybridRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.renderConfig = {\r\n    className: (config && config.className) || '',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '400%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '400%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '-100%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '-100%',\r\n    },\r\n  };\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.pendingElements = [];\r\n  this.elements = [];\r\n  this.threeDElements = [];\r\n  this.destroyed = false;\r\n  this.camera = null;\r\n  this.supports3d = true;\r\n  this.rendererType = 'html';\r\n}\r\n\r\nextendPrototype([BaseRenderer], HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newDOMElement = element.getBaseElement();\r\n  if (!newDOMElement) {\r\n    return;\r\n  }\r\n  var layer = this.layers[pos];\r\n  if (!layer.ddd || !this.supports3d) {\r\n    if (this.threeDElements) {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    } else {\r\n      var i = 0;\r\n      var nextDOMElement;\r\n      var nextLayer;\r\n      var tmpDOMElement;\r\n      while (i < pos) {\r\n        if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n          nextLayer = this.elements[i];\r\n          tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n          nextDOMElement = tmpDOMElement || nextDOMElement;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (nextDOMElement) {\r\n        if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n        }\r\n      } else if (!layer.ddd || !this.supports3d) {\r\n        this.layerElement.appendChild(newDOMElement);\r\n      }\r\n    }\r\n  } else {\r\n    this.addTo3dContainer(newDOMElement, pos);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  }\r\n  return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  }\r\n  return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n  this.camera = new HCameraElement(data, this.globalData, this);\r\n  return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n  if (!this.supports3d) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  }\r\n  return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  }\r\n  return new HCompElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n  if (!this.supports3d) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  }\r\n  return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function (pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n      return this.threeDElements[i].perspectiveElem;\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function (pos, type) {\r\n  var perspectiveElem = createTag('div');\r\n  var style;\r\n  var containerStyle;\r\n  styleDiv(perspectiveElem);\r\n  var container = createTag('div');\r\n  styleDiv(container);\r\n  if (type === '3d') {\r\n    style = perspectiveElem.style;\r\n    style.width = this.globalData.compSize.w + 'px';\r\n    style.height = this.globalData.compSize.h + 'px';\r\n    var center = '50% 50%';\r\n    style.webkitTransformOrigin = center;\r\n    style.mozTransformOrigin = center;\r\n    style.transformOrigin = center;\r\n    containerStyle = container.style;\r\n    var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    containerStyle.transform = matrix;\r\n    containerStyle.webkitTransform = matrix;\r\n  }\r\n\r\n  perspectiveElem.appendChild(container);\r\n  // this.resizerElem.appendChild(perspectiveElem);\r\n  var threeDContainerData = {\r\n    container: container,\r\n    perspectiveElem: perspectiveElem,\r\n    startPos: pos,\r\n    endPos: pos,\r\n    type: type,\r\n  };\r\n  this.threeDElements.push(threeDContainerData);\r\n  return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var lastThreeDContainerData;\r\n  var currentContainer = '';\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n      if (currentContainer !== '3d') {\r\n        currentContainer = '3d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    } else {\r\n      if (currentContainer !== '2d') {\r\n        currentContainer = '2d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    }\r\n  }\r\n  len = this.threeDElements.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (pos <= this.threeDElements[i].endPos) {\r\n      var j = this.threeDElements[i].startPos;\r\n      var nextElement;\r\n      while (j < pos) {\r\n        if (this.elements[j] && this.elements[j].getBaseElement) {\r\n          nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n      }\r\n      if (nextElement) {\r\n        this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n      } else {\r\n        this.threeDElements[i].container.appendChild(elem);\r\n      }\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function (animData) {\r\n  var resizerElem = createTag('div');\r\n  var wrapper = this.animationItem.wrapper;\r\n  var style = resizerElem.style;\r\n  style.width = animData.w + 'px';\r\n  style.height = animData.h + 'px';\r\n  this.resizerElem = resizerElem;\r\n  styleDiv(resizerElem);\r\n  style.transformStyle = 'flat';\r\n  style.mozTransformStyle = 'flat';\r\n  style.webkitTransformStyle = 'flat';\r\n  if (this.renderConfig.className) {\r\n    resizerElem.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  wrapper.appendChild(resizerElem);\r\n\r\n  style.overflow = 'hidden';\r\n  var svg = createNS('svg');\r\n  svg.setAttribute('width', '1');\r\n  svg.setAttribute('height', '1');\r\n  styleDiv(svg);\r\n  this.resizerElem.appendChild(svg);\r\n  var defs = createNS('defs');\r\n  svg.appendChild(defs);\r\n  this.data = animData;\r\n  // Mask animation\r\n  this.setupGlobalData(animData, svg);\r\n  this.globalData.defs = defs;\r\n  this.layers = animData.layers;\r\n  this.layerElement = this.resizerElem;\r\n  this.build3dContainers();\r\n  this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.animationItem.container = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.elements[i].destroy();\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n  var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n  var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n  var elementRel = elementWidth / elementHeight;\r\n  var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n  var sx;\r\n  var sy;\r\n  var tx;\r\n  var ty;\r\n  if (animationRel > elementRel) {\r\n    sx = elementWidth / (this.globalData.compSize.w);\r\n    sy = elementWidth / (this.globalData.compSize.w);\r\n    tx = 0;\r\n    ty = ((elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2);\r\n  } else {\r\n    sx = elementHeight / (this.globalData.compSize.h);\r\n    sy = elementHeight / (this.globalData.compSize.h);\r\n    tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n    ty = 0;\r\n  }\r\n  var style = this.resizerElem.style;\r\n  style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n  style.transform = style.webkitTransform;\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function () {\r\n  this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function () {\r\n  this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function () {\r\n  this.buildAllItems();\r\n  if (this.camera) {\r\n    this.camera.setup();\r\n  } else {\r\n    var cWidth = this.globalData.compSize.w;\r\n    var cHeight = this.globalData.compSize.h;\r\n    var i;\r\n    var len = this.threeDElements.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      var style = this.threeDElements[i].perspectiveElem.style;\r\n      style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n      style.perspective = style.webkitPerspective;\r\n    }\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  var floatingContainer = createTag('div');\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer, lineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    if (data.ty === 'gs') {\r\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      if (data.lj === 1) {\r\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global ShapePropertyFactory, SVGShapeData */\r\n\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n  this.styledShapes = [];\r\n  this.tr = [0, 0, 0, 0, 0, 0];\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n  var i;\r\n  var len = styles.length;\r\n  var styledShape;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!styles[i].closed) {\r\n      styledShape = {\r\n        transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n        trNodes: [],\r\n      };\r\n      this.styledShapes.push(styledShape);\r\n      styles[i].elements.push(styledShape);\r\n    }\r\n  }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    var shouldBreakProcess;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n      // TODO: find a better solution for this\r\n      if (shouldBreakProcess) {\r\n        break;\r\n      }\r\n    }\r\n  },\r\n\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, BaseElement, FrameElement, FootageInterface */\r\n\r\nfunction FootageElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.footageData = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initBaseData(data, globalData, comp);\r\n}\r\n\r\nFootageElement.prototype.prepareFrame = function () {\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\r\n\r\nFootageElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nFootageElement.prototype.renderFrame = function () {\r\n};\r\n\r\nFootageElement.prototype.destroy = function () {\r\n};\r\n\r\nFootageElement.prototype.initExpressions = function () {\r\n  this.layerInterface = FootageInterface(this);\r\n};\r\n\r\nFootageElement.prototype.getFootageData = function () {\r\n  return this.footageData;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers,\r\nlineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        container.appendChild(itemsData[i].style.pElem);\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        container.appendChild(itemsData[i].gr);\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* global createElementID, filtersFactory, SVGTintFilter, SVGFillFilter, SVGStrokeEffect, SVGTritoneFilter,\r\nSVGProLevelsFilter, SVGDropShadowEffect, SVGMatte3Effect, SVGGaussianBlurEffect, locationHref */\r\n\r\nfunction SVGEffects(elem) {\r\n  var i;\r\n  var len = elem.data.ef ? elem.data.ef.length : 0;\r\n  var filId = createElementID();\r\n  var fil = filtersFactory.createFilter(filId, true);\r\n  var count = 0;\r\n  this.filters = [];\r\n  var filterManager;\r\n  for (i = 0; i < len; i += 1) {\r\n    filterManager = null;\r\n    if (elem.data.ef[i].ty === 20) {\r\n      count += 1;\r\n      filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 21) {\r\n      count += 1;\r\n      filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 22) {\r\n      filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 23) {\r\n      count += 1;\r\n      filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 24) {\r\n      count += 1;\r\n      filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 25) {\r\n      count += 1;\r\n      filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 28) {\r\n      // count += 1;\r\n      filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n    } else if (elem.data.ef[i].ty === 29) {\r\n      count += 1;\r\n      filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n    }\r\n    if (filterManager) {\r\n      this.filters.push(filterManager);\r\n    }\r\n  }\r\n  if (count) {\r\n    elem.globalData.defs.appendChild(fil);\r\n    elem.layerElement.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n  }\r\n  if (this.filters.length) {\r\n    elem.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n  var i;\r\n  var len = this.filters.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.filters[i].renderFrame(_isFirstFrame);\r\n  }\r\n};\r\n\r\n/* global Matrix, createTypedArray */\r\n\r\nfunction CVContextData() {\r\n  this.saved = [];\r\n  this.cArrPos = 0;\r\n  this.cTr = new Matrix();\r\n  this.cO = 1;\r\n  var i;\r\n  var len = 15;\r\n  this.savedOp = createTypedArray('float32', len);\r\n  for (i = 0; i < len; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function () {\r\n  var newLength = this._length * 2;\r\n  var currentSavedOp = this.savedOp;\r\n  this.savedOp = createTypedArray('float32', newLength);\r\n  this.savedOp.set(currentSavedOp);\r\n  var i = 0;\r\n  for (i = this._length; i < newLength; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function () {\r\n  this.cArrPos = 0;\r\n  this.cTr.reset();\r\n  this.cO = 1;\r\n};\r\n\r\n/* global CVEffects, getBlendMode, CVMaskElement, Matrix */\r\n\r\nfunction CVBaseElement() {\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n  createElements: function () {},\r\n  initRendererElement: function () {},\r\n  createContainerElements: function () {\r\n    this.canvasContext = this.globalData.canvasContext;\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n  },\r\n  createContent: function () {},\r\n  setBlendMode: function () {\r\n    var globalData = this.globalData;\r\n    if (globalData.blendMode !== this.data.bm) {\r\n      globalData.blendMode = this.data.bm;\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new CVMaskElement(this.data, this);\r\n  },\r\n  hideElement: function () {\r\n    if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n      this.hidden = true;\r\n    }\r\n  },\r\n  showElement: function () {\r\n    if (this.isInRange && !this.isTransparent) {\r\n      this.hidden = false;\r\n      this._isFirstFrame = true;\r\n      this.maskManager._isFirstFrame = true;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    if (this.hidden || this.data.hd) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.setBlendMode();\r\n    var forceRealStack = this.data.ty === 0;\r\n    this.globalData.renderer.save(forceRealStack);\r\n    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n    this.renderInnerContent();\r\n    this.globalData.renderer.restore(forceRealStack);\r\n    if (this.maskManager.hasMasks) {\r\n      this.globalData.renderer.restore(true);\r\n    }\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.canvasContext = null;\r\n    this.data = null;\r\n    this.globalData = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement,HierarchyElement, FrameElement,\r\nRenderableElement, SVGShapeElement, IImageElement, createTag */\r\n\r\nfunction CVImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.img = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function () {\r\n  if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = this.assetData.w;\r\n    canvas.height = this.assetData.h;\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    var imgW = this.img.width;\r\n    var imgH = this.img.height;\r\n    var imgRel = imgW / imgH;\r\n    var canvasRel = this.assetData.w / this.assetData.h;\r\n    var widthCrop;\r\n    var heightCrop;\r\n    var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n    if ((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n      heightCrop = imgH;\r\n      widthCrop = heightCrop * canvasRel;\r\n    } else {\r\n      widthCrop = imgW;\r\n      heightCrop = widthCrop / canvasRel;\r\n    }\r\n    ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n    this.img = canvas;\r\n  }\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function () {\r\n  this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function () {\r\n  this.img = null;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, CanvasRenderer, ICompElement, CVBaseElement */\r\n\r\nfunction CVCompElement(data, globalData, comp) {\r\n  this.completeLayers = false;\r\n  this.layers = data.layers;\r\n  this.pendingElements = [];\r\n  this.elements = createSizedArray(this.layers.length);\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.beginPath();\r\n  ctx.moveTo(0, 0);\r\n  ctx.lineTo(this.data.w, 0);\r\n  ctx.lineTo(this.data.w, this.data.h);\r\n  ctx.lineTo(0, this.data.h);\r\n  ctx.lineTo(0, 0);\r\n  ctx.clip();\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.layers = null;\r\n  this.elements = null;\r\n};\r\n\r\n/* global createSizedArray, ShapePropertyFactory, MaskElement */\r\n\r\nfunction CVMaskElement(data, element) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.viewData = createSizedArray(this.masksProperties.length);\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var hasMasks = false;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      hasMasks = true;\r\n    }\r\n    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n  }\r\n  this.hasMasks = hasMasks;\r\n  if (hasMasks) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n  if (!this.hasMasks) {\r\n    return;\r\n  }\r\n  var transform = this.element.finalTransform.mat;\r\n  var ctx = this.element.canvasContext;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var pt;\r\n  var pts;\r\n  var data;\r\n  ctx.beginPath();\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.masksProperties[i].inv) {\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, 0);\r\n      }\r\n      data = this.viewData[i].v;\r\n      pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n      ctx.moveTo(pt[0], pt[1]);\r\n      var j;\r\n      var jLen = data._length;\r\n      for (j = 1; j < jLen; j += 1) {\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n      pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n      ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n    }\r\n  }\r\n  this.element.globalData.renderer.save(true);\r\n  ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n};\r\n\r\n/* global ShapeTransformManager, extendPrototype, BaseElement, TransformElement, CVBaseElement, IShapeElement,\r\nHierarchyElement, FrameElement, RenderableElement, RenderableDOMElement, PropertyFactory, degToRads, GradientProperty,\r\nDashProperty, TransformPropertyFactory, CVShapeData, ShapeModifiers, bmFloor, lineCapEnum, lineJoinEnum */\r\n\r\nfunction CVShapeElement(data, globalData, comp) {\r\n  this.shapes = [];\r\n  this.shapesData = data.shapes;\r\n  this.stylesList = [];\r\n  this.itemsData = [];\r\n  this.prevViewData = [];\r\n  this.shapeModifiers = [];\r\n  this.processedElements = [];\r\n  this.transformsManager = new ShapeTransformManager();\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: false };\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n  var styleElem = {\r\n    data: data,\r\n    type: data.ty,\r\n    preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n    transforms: [],\r\n    elements: [],\r\n    closed: data.hd === true,\r\n  };\r\n  var elementData = {};\r\n  if (data.ty === 'fl' || data.ty === 'st') {\r\n    elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n    if (!elementData.c.k) {\r\n      styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n    }\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n    elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n    elementData.h = PropertyFactory.getProp(this, data.h || { k: 0 }, 0, 0.01, this);\r\n    elementData.a = PropertyFactory.getProp(this, data.a || { k: 0 }, 0, degToRads, this);\r\n    elementData.g = new GradientProperty(this, data.g, this);\r\n  }\r\n  elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    styleElem.lc = lineCapEnum[data.lc || 2];\r\n    styleElem.lj = lineJoinEnum[data.lj || 2];\r\n    if (data.lj == 1) { // eslint-disable-line eqeqeq\r\n      styleElem.ml = data.ml;\r\n    }\r\n    elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n    if (!elementData.w.k) {\r\n      styleElem.wi = elementData.w.v;\r\n    }\r\n    if (data.d) {\r\n      var d = new DashProperty(this, data.d, 'canvas', this);\r\n      elementData.d = d;\r\n      if (!elementData.d.k) {\r\n        styleElem.da = elementData.d.dashArray;\r\n        styleElem.do = elementData.d.dashoffset[0];\r\n      }\r\n    }\r\n  } else {\r\n    styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n  }\r\n  this.stylesList.push(styleElem);\r\n  elementData.style = styleElem;\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function () {\r\n  var elementData = {\r\n    it: [],\r\n    prevViewData: [],\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function (data) {\r\n  var elementData = {\r\n    transform: {\r\n      opacity: 1,\r\n      _opMdf: false,\r\n      key: this.transformsManager.getNewKey(),\r\n      op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n      mProps: TransformPropertyFactory.getTransformProperty(this, data, this),\r\n    },\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function (data) {\r\n  var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.push(transform);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.pop();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.closeStyles = function (styles) {\r\n  var i;\r\n  var len = styles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    styles[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var processedPos;\r\n  var modifier;\r\n  var currentTransform;\r\n  var ownTransforms = [].concat(transforms);\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._shouldRender = shouldRender;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        currentTransform = this.createTransformElement(arr[i]);\r\n        itemsData[i] = currentTransform;\r\n      }\r\n      ownTransforms.push(itemsData[i]);\r\n      this.addTransformToStyleList(itemsData[i]);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i]);\r\n      }\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        shouldRender = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  this.removeTransformFromStyleList();\r\n  this.closeStyles(ownStyles);\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function () {\r\n  this.transformHelper.opacity = 1;\r\n  this.transformHelper._opMdf = false;\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n  this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n  if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n    groupTransform.opacity = parentTransform.opacity;\r\n    groupTransform.opacity *= groupTransform.op.v;\r\n    groupTransform._opMdf = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var elems;\r\n  var nodes;\r\n  var renderer = this.globalData.renderer;\r\n  var ctx = this.globalData.canvasContext;\r\n  var type;\r\n  var currentStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentStyle = this.stylesList[i];\r\n    type = currentStyle.type;\r\n\r\n    // Skipping style when\r\n    // Stroke width equals 0\r\n    // style should not be rendered (extra unused repeaters)\r\n    // current opacity equals 0\r\n    // global opacity equals 0\r\n    if (!(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n      renderer.save();\r\n      elems = currentStyle.elements;\r\n      if (type === 'st' || type === 'gs') {\r\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n        ctx.lineWidth = currentStyle.wi;\r\n        ctx.lineCap = currentStyle.lc;\r\n        ctx.lineJoin = currentStyle.lj;\r\n        ctx.miterLimit = currentStyle.ml || 0;\r\n      } else {\r\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n      }\r\n      renderer.ctxOpacity(currentStyle.coOp);\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.beginPath();\r\n      }\r\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n      jLen = elems.length;\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.beginPath();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(currentStyle.da);\r\n            ctx.lineDashOffset = currentStyle.do;\r\n          }\r\n        }\r\n        nodes = elems[j].trNodes;\r\n        kLen = nodes.length;\r\n\r\n        for (k = 0; k < kLen; k += 1) {\r\n          if (nodes[k].t === 'm') {\r\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n          } else if (nodes[k].t === 'c') {\r\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n          } else {\r\n            ctx.closePath();\r\n          }\r\n        }\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.stroke();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(this.dashResetter);\r\n          }\r\n        }\r\n      }\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.fill(currentStyle.r);\r\n      }\r\n      renderer.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n  var i;\r\n  var len = items.length - 1;\r\n  var groupTransform;\r\n  groupTransform = parentTransform;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    if (items[i].ty === 'tr') {\r\n      groupTransform = data[i].transform;\r\n      this.renderShapeTransform(parentTransform, groupTransform);\r\n    } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n      this.renderPath(items[i], data[i]);\r\n    } else if (items[i].ty === 'fl') {\r\n      this.renderFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'st') {\r\n      this.renderStroke(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n      this.renderGradientFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gr') {\r\n      this.renderShape(groupTransform, items[i].it, data[i].it);\r\n    } else if (items[i].ty === 'tm') {\r\n      //\r\n    }\r\n  }\r\n  if (isMain) {\r\n    this.drawLayer();\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n  if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n    var shapeNodes = styledShape.trNodes;\r\n    var paths = shape.paths;\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen = paths._length;\r\n    shapeNodes.length = 0;\r\n    var groupTransformMat = styledShape.transforms.finalTransform;\r\n    for (j = 0; j < jLen; j += 1) {\r\n      var pathNodes = paths.shapes[j];\r\n      if (pathNodes && pathNodes.v) {\r\n        len = pathNodes._length;\r\n        for (i = 1; i < len; i += 1) {\r\n          if (i === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n            });\r\n          }\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\r\n          });\r\n        }\r\n        if (len === 1) {\r\n          shapeNodes.push({\r\n            t: 'm',\r\n            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n          });\r\n        }\r\n        if (pathNodes.c && len) {\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\r\n          });\r\n          shapeNodes.push({\r\n            t: 'z',\r\n          });\r\n        }\r\n      }\r\n    }\r\n    styledShape.trNodes = shapeNodes;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n  if (pathData.hd !== true && pathData._shouldRender) {\r\n    var i;\r\n    var len = itemData.styledShapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb('\r\n        + bmFloor(itemData.c.v[0]) + ','\r\n        + bmFloor(itemData.c.v[1]) + ','\r\n        + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var grd;\r\n  if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n    var ctx = this.globalData.canvasContext;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n    if (styleData.t === 1) {\r\n      grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n    } else {\r\n      var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n      var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n      var percent = itemData.h.v;\r\n      if (percent >= 1) {\r\n        percent = 0.99;\r\n      } else if (percent <= -1) {\r\n        percent = -0.99;\r\n      }\r\n      var dist = rad * percent;\r\n      var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n      var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n      grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n    }\r\n\r\n    var i;\r\n    var len = styleData.g.p;\r\n    var cValues = itemData.g.c;\r\n    var opacity = 1;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n        opacity = itemData.g.o[i * 2 + 1];\r\n      }\r\n      grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n    }\r\n    styleElem.grd = grd;\r\n  }\r\n  styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var d = itemData.d;\r\n  if (d && (d._mdf || this._isFirstFrame)) {\r\n    styleElem.da = d.dashArray;\r\n    styleElem.do = d.dashoffset[0];\r\n  }\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n  if (itemData.w._mdf || this._isFirstFrame) {\r\n    styleElem.wi = itemData.w.v;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.destroy = function () {\r\n  this.shapesData = null;\r\n  this.globalData = null;\r\n  this.canvasContext = null;\r\n  this.stylesList.length = 0;\r\n  this.itemsData.length = 0;\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement,\r\nSVGShapeElement, IImageElement */\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.fillStyle = this.data.sc;\r\n  ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n  //\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement,\r\nRenderableElement, ITextElement, createTag, createSizedArray */\r\n\r\nfunction CVTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.yOffset = 0;\r\n  this.fillColorAnim = false;\r\n  this.strokeColorAnim = false;\r\n  this.strokeWidthAnim = false;\r\n  this.stroke = false;\r\n  this.fill = false;\r\n  this.justifyOffset = 0;\r\n  this.currentRender = null;\r\n  this.renderType = 'canvas';\r\n  this.values = {\r\n    fill: 'rgba(0,0,0,0)',\r\n    stroke: 'rgba(0,0,0,0)',\r\n    sWidth: 0,\r\n    fValue: '',\r\n  };\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n  var hasFill = false;\r\n  if (documentData.fc) {\r\n    hasFill = true;\r\n    this.values.fill = this.buildColor(documentData.fc);\r\n  } else {\r\n    this.values.fill = 'rgba(0,0,0,0)';\r\n  }\r\n  this.fill = hasFill;\r\n  var hasStroke = false;\r\n  if (documentData.sc) {\r\n    hasStroke = true;\r\n    this.values.stroke = this.buildColor(documentData.sc);\r\n    this.values.sWidth = documentData.sw;\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var matrixHelper = this.mHelper;\r\n  this.stroke = hasStroke;\r\n  this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n  len = documentData.finalText.length;\r\n  // this.tHelper.font = this.values.fValue;\r\n  var charData;\r\n  var shapeData;\r\n  var k;\r\n  var kLen;\r\n  var shapes;\r\n  var j;\r\n  var jLen;\r\n  var pathNodes;\r\n  var commands;\r\n  var pathArr;\r\n  var singleShape = this.data.singleShape;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n    shapeData = (charData && charData.data) || {};\r\n    matrixHelper.reset();\r\n    if (singleShape && letters[i].n) {\r\n      xPos = -trackingOffset;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      firstLine = false;\r\n    }\r\n\r\n    shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n    jLen = shapes.length;\r\n    matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n    if (singleShape) {\r\n      this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n    }\r\n    commands = createSizedArray(jLen);\r\n    for (j = 0; j < jLen; j += 1) {\r\n      kLen = shapes[j].ks.k.i.length;\r\n      pathNodes = shapes[j].ks.k;\r\n      pathArr = [];\r\n      for (k = 1; k < kLen; k += 1) {\r\n        if (k === 1) {\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n        }\r\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n      }\r\n      pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n      commands[j] = pathArr;\r\n    }\r\n    if (singleShape) {\r\n      xPos += letters[i].l;\r\n      xPos += trackingOffset;\r\n    }\r\n    if (this.textSpans[cnt]) {\r\n      this.textSpans[cnt].elem = commands;\r\n    } else {\r\n      this.textSpans[cnt] = { elem: commands };\r\n    }\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.font = this.values.fValue;\r\n  ctx.lineCap = 'butt';\r\n  ctx.lineJoin = 'miter';\r\n  ctx.miterLimit = 4;\r\n\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  }\r\n\r\n  var i;\r\n  var len;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var lastFill = null;\r\n  var lastStroke = null;\r\n  var lastStrokeW = null;\r\n  var commands;\r\n  var pathArr;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!letters[i].n) {\r\n      renderedLetter = renderedLetters[i];\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.save();\r\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n      }\r\n      if (this.fill) {\r\n        if (renderedLetter && renderedLetter.fc) {\r\n          if (lastFill !== renderedLetter.fc) {\r\n            lastFill = renderedLetter.fc;\r\n            ctx.fillStyle = renderedLetter.fc;\r\n          }\r\n        } else if (lastFill !== this.values.fill) {\r\n          lastFill = this.values.fill;\r\n          ctx.fillStyle = this.values.fill;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.fill();\r\n        /// ctx.fillText(this.textSpans[i].val,0,0);\r\n      }\r\n      if (this.stroke) {\r\n        if (renderedLetter && renderedLetter.sw) {\r\n          if (lastStrokeW !== renderedLetter.sw) {\r\n            lastStrokeW = renderedLetter.sw;\r\n            ctx.lineWidth = renderedLetter.sw;\r\n          }\r\n        } else if (lastStrokeW !== this.values.sWidth) {\r\n          lastStrokeW = this.values.sWidth;\r\n          ctx.lineWidth = this.values.sWidth;\r\n        }\r\n        if (renderedLetter && renderedLetter.sc) {\r\n          if (lastStroke !== renderedLetter.sc) {\r\n            lastStroke = renderedLetter.sc;\r\n            ctx.strokeStyle = renderedLetter.sc;\r\n          }\r\n        } else if (lastStroke !== this.values.stroke) {\r\n          lastStroke = this.values.stroke;\r\n          ctx.strokeStyle = this.values.stroke;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.stroke();\r\n        /// ctx.strokeText(letters[i].val,0,0);\r\n      }\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.restore();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, createNS, styleDiv, CVEffects, MaskElement, SVGBaseElement, HybridRenderer */\r\n\r\nfunction HBaseElement() {}\r\nHBaseElement.prototype = {\r\n  checkBlendMode: function () {},\r\n  initRendererElement: function () {\r\n    this.baseElement = createTag(this.data.tg || 'div');\r\n    if (this.data.hasMask) {\r\n      this.svgElement = createNS('svg');\r\n      this.layerElement = createNS('g');\r\n      this.maskedElement = this.layerElement;\r\n      this.svgElement.appendChild(this.layerElement);\r\n      this.baseElement.appendChild(this.svgElement);\r\n    } else {\r\n      this.layerElement = this.baseElement;\r\n    }\r\n    styleDiv(this.baseElement);\r\n  },\r\n  createContainerElements: function () {\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n    this.transformedElement = this.baseElement;\r\n    this.maskedElement = this.layerElement;\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n    if (this.finalTransform._matMdf) {\r\n      var matrixValue = this.finalTransform.mat.toCSS();\r\n      transformedElementStyle.transform = matrixValue;\r\n      transformedElementStyle.webkitTransform = matrixValue;\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    // If it is exported as hidden (data.hd === true) no need to render\r\n    // If it is not visible no need to render\r\n    if (this.data.hd || this.hidden) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.renderElement();\r\n    this.renderInnerContent();\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.layerElement = null;\r\n    this.transformedElement = null;\r\n    if (this.matteElement) {\r\n      this.matteElement = null;\r\n    }\r\n    if (this.maskManager) {\r\n      this.maskManager.destroy();\r\n      this.maskManager = null;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n  },\r\n  addEffects: function () {\r\n  },\r\n  setMatte: function () {},\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, createNS, createTag */\r\n\r\nfunction HSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function () {\r\n  var rect;\r\n  if (this.data.hasMask) {\r\n    rect = createNS('rect');\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.svgElement.setAttribute('width', this.data.sw);\r\n    this.svgElement.setAttribute('height', this.data.sh);\r\n  } else {\r\n    rect = createTag('div');\r\n    rect.style.width = this.data.sw + 'px';\r\n    rect.style.height = this.data.sh + 'px';\r\n    rect.style.backgroundColor = this.data.sc;\r\n  }\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, HybridRenderer, ICompElement, HBaseElement */\r\n\r\nfunction HCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = !data.hasMask;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function () {\r\n  this._createBaseContainerElements();\r\n  // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n  if (this.data.hasMask) {\r\n    this.svgElement.setAttribute('width', this.data.w);\r\n    this.svgElement.setAttribute('height', this.data.h);\r\n    this.transformedElement = this.baseElement;\r\n  } else {\r\n    this.transformedElement = this.layerElement;\r\n  }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n  var j = 0;\r\n  var nextElement;\r\n  while (j < pos) {\r\n    if (this.elements[j] && this.elements[j].getBaseElement) {\r\n      nextElement = this.elements[j].getBaseElement();\r\n    }\r\n    j += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(elem, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(elem);\r\n  }\r\n};\r\n\r\n/* global createNS, extendPrototype, BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement,\r\nHierarchyElement, FrameElement, RenderableElement, createNS, bmMin, bmSqrt, bmMin, bmMax, bmPow */\r\n\r\nfunction HShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.shapesContainer = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n}\r\nextendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function () {\r\n  var cont;\r\n  this.baseElement.style.fontSize = 0;\r\n  if (this.data.hasMask) {\r\n    this.layerElement.appendChild(this.shapesContainer);\r\n    cont = this.svgElement;\r\n  } else {\r\n    cont = createNS('svg');\r\n    var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n    cont.setAttribute('width', size.w);\r\n    cont.setAttribute('height', size.h);\r\n    cont.appendChild(this.shapesContainer);\r\n    this.layerElement.appendChild(cont);\r\n  }\r\n\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n  var i;\r\n  var len = transformers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n  }\r\n  return point;\r\n};\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n  var shape = item.sh.v;\r\n  var transformers = item.transformers;\r\n  var i;\r\n  var len = shape._length;\r\n  var vPoint;\r\n  var oPoint;\r\n  var nextIPoint;\r\n  var nextVPoint;\r\n  if (len <= 1) {\r\n    return;\r\n  }\r\n  for (i = 0; i < len - 1; i += 1) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n  if (shape.c) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n  this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n  var bounds = this.shapeBoundingBox;\r\n  boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n  boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n  boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n  boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n};\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n};\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n  x: 0,\r\n  xMax: 0,\r\n  y: 0,\r\n  yMax: 0,\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n  var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n  for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) { // eslint-disable-line no-plusplus\r\n    b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n    a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n    c = 3 * p1[i] - 3 * p0[i];\r\n\r\n    b |= 0; // eslint-disable-line no-bitwise\r\n    a |= 0; // eslint-disable-line no-bitwise\r\n    c |= 0; // eslint-disable-line no-bitwise\r\n\r\n    if (a === 0 && b === 0) {\r\n      //\r\n    } else if (a === 0) {\r\n      t = -c / b;\r\n\r\n      if (t > 0 && t < 1) {\r\n        bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n      }\r\n    } else {\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac >= 0) {\r\n        t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n        if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n        t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n        if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n      }\r\n    }\r\n  }\r\n\r\n  this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n  this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n};\r\n\r\nHShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n  return bmPow(1 - t, 3) * p0[i]\r\n        + 3 * bmPow(1 - t, 2) * t * p1[i]\r\n        + 3 * (1 - t) * bmPow(t, 2) * p2[i]\r\n        + bmPow(t, 3) * p3[i];\r\n};\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n  var i;\r\n  var len = itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (itemsData[i] && itemsData[i].sh) {\r\n      this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n    } else if (itemsData[i] && itemsData[i].it) {\r\n      this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n    }\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.currentBoxContains = function (box) {\r\n  return this.currentBBox.x <= box.x\r\n    && this.currentBBox.y <= box.y\r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n};\r\n\r\nHShapeElement.prototype.renderInnerContent = function () {\r\n  this._renderShapeFrame();\r\n\r\n  if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var tempBoundingBox = this.tempBoundingBox;\r\n    var max = 999999;\r\n    tempBoundingBox.x = max;\r\n    tempBoundingBox.xMax = -max;\r\n    tempBoundingBox.y = max;\r\n    tempBoundingBox.yMax = -max;\r\n    this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n    tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n    tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n    // var tempBoundingBox = this.shapeCont.getBBox();\r\n    if (this.currentBoxContains(tempBoundingBox)) {\r\n      return;\r\n    }\r\n    var changed = false;\r\n    if (this.currentBBox.w !== tempBoundingBox.width) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n      changed = true;\r\n    }\r\n    if (this.currentBBox.h !== tempBoundingBox.height) {\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n      changed = true;\r\n    }\r\n    if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.currentBBox.x = tempBoundingBox.x;\r\n      this.currentBBox.y = tempBoundingBox.y;\r\n\r\n      this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      var shapeStyle = this.shapeCont.style;\r\n      var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      shapeStyle.transform = shapeTransform;\r\n      shapeStyle.webkitTransform = shapeTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createTag, styleDiv, createNS, lineJoinEnum, lineCapEnum */\r\n\r\nfunction HTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.textPaths = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n  this.renderType = 'svg';\r\n  this.isMasked = false;\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function () {\r\n  this.isMasked = this.checkMasks();\r\n  if (this.isMasked) {\r\n    this.renderType = 'svg';\r\n    this.compW = this.comp.data.w;\r\n    this.compH = this.comp.data.h;\r\n    this.svgElement.setAttribute('width', this.compW);\r\n    this.svgElement.setAttribute('height', this.compH);\r\n    var g = createNS('g');\r\n    this.maskedElement.appendChild(g);\r\n    this.innerElem = g;\r\n  } else {\r\n    this.renderType = 'html';\r\n    this.innerElem = this.layerElement;\r\n  }\r\n\r\n  this.checkParenting();\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n  var innerElemStyle = this.innerElem.style;\r\n  var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n  innerElemStyle.fill = textColor;\r\n  innerElemStyle.color = textColor;\r\n  if (documentData.sc) {\r\n    innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n    innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (!this.globalData.fontManager.chars) {\r\n    innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n    innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n    if (fontData.fClass) {\r\n      this.innerElem.className = fontData.fClass;\r\n    } else {\r\n      innerElemStyle.fontFamily = fontData.fFamily;\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      innerElemStyle.fontStyle = fStyle;\r\n      innerElemStyle.fontWeight = fWeight;\r\n    }\r\n  }\r\n  var i;\r\n  var len;\r\n\r\n  var letters = documentData.l;\r\n  len = letters.length;\r\n  var tSpan;\r\n  var tParent;\r\n  var tCont;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.globalData.fontManager.chars) {\r\n      if (!this.textPaths[cnt]) {\r\n        tSpan = createNS('path');\r\n        tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\r\n        tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\r\n        tSpan.setAttribute('stroke-miterlimit', '4');\r\n      } else {\r\n        tSpan = this.textPaths[cnt];\r\n      }\r\n      if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tCont = tParent.children[0];\r\n        } else {\r\n          tParent = createTag('div');\r\n          tParent.style.lineHeight = 0;\r\n          tCont = createNS('svg');\r\n          tCont.appendChild(tSpan);\r\n          styleDiv(tParent);\r\n        }\r\n      }\r\n    } else if (!this.isMasked) {\r\n      if (this.textSpans[cnt]) {\r\n        tParent = this.textSpans[cnt];\r\n        tSpan = this.textPaths[cnt];\r\n      } else {\r\n        tParent = createTag('span');\r\n        styleDiv(tParent);\r\n        tSpan = createTag('span');\r\n        styleDiv(tSpan);\r\n        tParent.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n    }\r\n    // tSpan.setAttribute('visibility', 'hidden');\r\n    if (this.globalData.fontManager.chars) {\r\n      var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      var shapeData;\r\n      if (charData) {\r\n        shapeData = charData.data;\r\n      } else {\r\n        shapeData = null;\r\n      }\r\n      matrixHelper.reset();\r\n      if (shapeData && shapeData.shapes) {\r\n        shapes = shapeData.shapes[0].it;\r\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n        shapeStr = this.createPathShape(matrixHelper, shapes);\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        if (shapeData && shapeData.shapes) {\r\n          // document.body.appendChild is needed to get exact measure of shape\r\n          document.body.appendChild(tCont);\r\n          var boundingBox = tCont.getBBox();\r\n          tCont.setAttribute('width', boundingBox.width + 2);\r\n          tCont.setAttribute('height', boundingBox.height + 2);\r\n          tCont.setAttribute('viewBox', (boundingBox.x - 1) + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n          var tContStyle = tCont.style;\r\n          var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n          tContStyle.transform = tContTranslation;\r\n          tContStyle.webkitTransform = tContTranslation;\r\n\r\n          letters[i].yOffset = boundingBox.y - 1;\r\n        } else {\r\n          tCont.setAttribute('width', 1);\r\n          tCont.setAttribute('height', 1);\r\n        }\r\n        tParent.appendChild(tCont);\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan.textContent = letters[i].val;\r\n      tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        //\r\n        var tStyle = tSpan.style;\r\n        var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n        tStyle.transform = tSpanTranslation;\r\n        tStyle.webkitTransform = tSpanTranslation;\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    }\r\n    //\r\n    if (!this.isMasked) {\r\n      this.textSpans[cnt] = tParent;\r\n    } else {\r\n      this.textSpans[cnt] = tSpan;\r\n    }\r\n    this.textSpans[cnt].style.display = 'block';\r\n    this.textPaths[cnt] = tSpan;\r\n    cnt += 1;\r\n  }\r\n  while (cnt < this.textSpans.length) {\r\n    this.textSpans[cnt].style.display = 'none';\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function () {\r\n  var svgStyle;\r\n  if (this.data.singleShape) {\r\n    if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n      return;\r\n    } if (this.isMasked && this.finalTransform._matMdf) {\r\n      // Todo Benchmark if using this is better than getBBox\r\n      this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n      svgStyle = this.svgElement.style;\r\n      var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n      svgStyle.transform = translation;\r\n      svgStyle.webkitTransform = translation;\r\n    }\r\n  }\r\n\r\n  this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n    return;\r\n  }\r\n  var i;\r\n  var len;\r\n  var count = 0;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var textSpan;\r\n  var textPath;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (letters[i].n) {\r\n      count += 1;\r\n    } else {\r\n      textSpan = this.textSpans[i];\r\n      textPath = this.textPaths[i];\r\n      renderedLetter = renderedLetters[count];\r\n      count += 1;\r\n      if (renderedLetter._mdf.m) {\r\n        if (!this.isMasked) {\r\n          textSpan.style.webkitTransform = renderedLetter.m;\r\n          textSpan.style.transform = renderedLetter.m;\r\n        } else {\r\n          textSpan.setAttribute('transform', renderedLetter.m);\r\n        }\r\n      }\r\n      /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n      textSpan.style.opacity = renderedLetter.o;\r\n      if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n        textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n      }\r\n      if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n        textPath.setAttribute('stroke', renderedLetter.sc);\r\n      }\r\n      if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n        textPath.setAttribute('fill', renderedLetter.fc);\r\n        textPath.style.color = renderedLetter.fc;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var boundingBox = this.innerElem.getBBox();\r\n\r\n    if (this.currentBBox.w !== boundingBox.width) {\r\n      this.currentBBox.w = boundingBox.width;\r\n      this.svgElement.setAttribute('width', boundingBox.width);\r\n    }\r\n    if (this.currentBBox.h !== boundingBox.height) {\r\n      this.currentBBox.h = boundingBox.height;\r\n      this.svgElement.setAttribute('height', boundingBox.height);\r\n    }\r\n\r\n    var margin = 1;\r\n    if (this.currentBBox.w !== (boundingBox.width + margin * 2) || this.currentBBox.h !== (boundingBox.height + margin * 2) || this.currentBBox.x !== (boundingBox.x - margin) || this.currentBBox.y !== (boundingBox.y - margin)) {\r\n      this.currentBBox.w = boundingBox.width + margin * 2;\r\n      this.currentBBox.h = boundingBox.height + margin * 2;\r\n      this.currentBBox.x = boundingBox.x - margin;\r\n      this.currentBBox.y = boundingBox.y - margin;\r\n\r\n      this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      svgStyle = this.svgElement.style;\r\n      var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      svgStyle.transform = svgTransform;\r\n      svgStyle.webkitTransform = svgTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement,\r\nFrameElement, RenderableElement, createNS */\r\n\r\nfunction HImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\nHImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  var img = new Image();\r\n\r\n  if (this.data.hasMask) {\r\n    this.imageElem = createNS('image');\r\n    this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.imageElem);\r\n    this.baseElement.setAttribute('width', this.assetData.w);\r\n    this.baseElement.setAttribute('height', this.assetData.h);\r\n  } else {\r\n    this.layerElement.appendChild(img);\r\n  }\r\n  img.crossOrigin = 'anonymous';\r\n  img.src = assetPath;\r\n  if (this.data.ln) {\r\n    this.baseElement.setAttribute('id', this.data.ln);\r\n  }\r\n};\r\n\r\n/* global PropertyFactory, degToRads, Matrix, extendPrototype, BaseElement, FrameElement, HierarchyElement */\r\n\r\nfunction HCameraElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initHierarchy();\r\n  var getProp = PropertyFactory.getProp;\r\n  this.pe = getProp(this, data.pe, 0, 0, this);\r\n  if (data.ks.p.s) {\r\n    this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n    this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n    this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n  } else {\r\n    this.p = getProp(this, data.ks.p, 1, 0, this);\r\n  }\r\n  if (data.ks.a) {\r\n    this.a = getProp(this, data.ks.a, 1, 0, this);\r\n  }\r\n  if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n    var i;\r\n    var len = data.ks.or.k.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      data.ks.or.k[i].to = null;\r\n      data.ks.or.k[i].ti = null;\r\n    }\r\n  }\r\n  this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n  this.or.sh = true;\r\n  this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n  this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n  this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n  this.mat = new Matrix();\r\n  this._prevMat = new Matrix();\r\n  this._isFirstFrame = true;\r\n\r\n  // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n  this.finalTransform = {\r\n    mProp: this,\r\n  };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function () {\r\n  var i;\r\n  var len = this.comp.threeDElements.length;\r\n  var comp;\r\n  var perspectiveStyle;\r\n  var containerStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    // [perspectiveElem,container]\r\n    comp = this.comp.threeDElements[i];\r\n    if (comp.type === '3d') {\r\n      perspectiveStyle = comp.perspectiveElem.style;\r\n      containerStyle = comp.container.style;\r\n      var perspective = this.pe.v + 'px';\r\n      var origin = '0px 0px 0px';\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      perspectiveStyle.perspective = perspective;\r\n      perspectiveStyle.webkitPerspective = perspective;\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      perspectiveStyle.transform = matrix;\r\n      perspectiveStyle.webkitTransform = matrix;\r\n    }\r\n  }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function () {\r\n};\r\n\r\nHCameraElement.prototype.hide = function () {\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function () {\r\n  var _mdf = this._isFirstFrame;\r\n  var i;\r\n  var len;\r\n  if (this.hierarchy) {\r\n    len = this.hierarchy.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n    }\r\n  }\r\n  if (_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n    this.mat.reset();\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length - 1;\r\n      for (i = len; i >= 0; i -= 1) {\r\n        var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n        this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n        this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n        this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n        this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n        this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n      }\r\n    }\r\n    if (this.p) {\r\n      this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n    } else {\r\n      this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n    }\r\n    if (this.a) {\r\n      var diffVector;\r\n      if (this.p) {\r\n        diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n      } else {\r\n        diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n      }\r\n      var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));\r\n      // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n      var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n      var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n      var mRotationX = (Math.atan2(lookDir[1], lookLengthOnXZ));\r\n      var mRotationY = (Math.atan2(lookDir[0], -lookDir[2]));\r\n      this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n    }\r\n    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n    this.mat.translate(0, 0, this.pe.v);\r\n\r\n    var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n    if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n      len = this.comp.threeDElements.length;\r\n      var comp;\r\n      var perspectiveStyle;\r\n      var containerStyle;\r\n      for (i = 0; i < len; i += 1) {\r\n        comp = this.comp.threeDElements[i];\r\n        if (comp.type === '3d') {\r\n          if (hasMatrixChanged) {\r\n            var matValue = this.mat.toCSS();\r\n            containerStyle = comp.container.style;\r\n            containerStyle.transform = matValue;\r\n            containerStyle.webkitTransform = matValue;\r\n          }\r\n          if (this.pe._mdf) {\r\n            perspectiveStyle = comp.perspectiveElem.style;\r\n            perspectiveStyle.perspective = this.pe.v + 'px';\r\n            perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n          }\r\n        }\r\n      }\r\n      this.mat.clone(this._prevMat);\r\n    }\r\n  }\r\n  this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function () {\r\n};\r\nHCameraElement.prototype.getBaseElement = function () { return null; };\r\n\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, assetLoader, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, markerParser */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n  this.markers = [];\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.configAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n\r\n    assetLoader.load(params.path, this.configAnimation.bind(this), function () {\r\n      this.trigger('data_failed');\r\n    }.bind(this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n  this.renderer.includeLayers(data.layers);\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  assetLoader.load(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.markers = markerParser(animData.markers || []);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\r\n        && (this.imagePreloader.loadedFootages())\r\n  ) {\r\n    this.isLoaded = true;\r\n    dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false || !this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.getMarkerData = function (markerName) {\r\n  var marker;\r\n  for (var i = 0; i < this.markers.length; i += 1) {\r\n    marker = this.markers[i];\r\n    if (marker.payload && marker.payload.name === markerName) {\r\n      return marker;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      this.goToAndStop(marker.time, true);\r\n    }\r\n  } else if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      if (!marker.duration) {\r\n        this.goToAndStop(marker.time, true);\r\n      } else {\r\n        this.playSegments([marker.time, marker.time + marker.duration], true);\r\n      }\r\n    }\r\n  } else {\r\n    this.goToAndStop(numValue, isFrame, name);\r\n  }\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  // this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* global CompExpressionInterface, expressionsPlugin: writable */\r\n/* exported expressionsPlugin */\r\n\r\nvar Expressions = (function () {\r\n  var ob = {};\r\n  ob.initExpressions = initExpressions;\r\n\r\n  function initExpressions(animation) {\r\n    var stackCount = 0;\r\n    var registers = [];\r\n\r\n    function pushExpression() {\r\n      stackCount += 1;\r\n    }\r\n\r\n    function popExpression() {\r\n      stackCount -= 1;\r\n      if (stackCount === 0) {\r\n        releaseInstances();\r\n      }\r\n    }\r\n\r\n    function registerExpressionProperty(expression) {\r\n      if (registers.indexOf(expression) === -1) {\r\n        registers.push(expression);\r\n      }\r\n    }\r\n\r\n    function releaseInstances() {\r\n      var i;\r\n      var len = registers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        registers[i].release();\r\n      }\r\n      registers.length = 0;\r\n    }\r\n\r\n    animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n    animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n    animation.renderer.globalData.pushExpression = pushExpression;\r\n    animation.renderer.globalData.popExpression = popExpression;\r\n    animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n  }\r\n  return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\n/* eslint-disable camelcase, no-unused-vars */\r\n/* global BMMath, BezierFactory, createTypedArray, degToRads, shapePool */\r\n\r\nvar ExpressionManager = (function () {\r\n  'use strict';\r\n\r\n  var ob = {};\r\n  var Math = BMMath;\r\n  var window = null;\r\n  var document = null;\r\n  var XMLHttpRequest = null;\r\n  var fetch = null;\r\n\r\n  function $bm_isInstanceOfArray(arr) {\r\n    return arr.constructor === Array || arr.constructor === Float32Array;\r\n  }\r\n\r\n  function isNumerable(tOfV, v) {\r\n    return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n  }\r\n\r\n  function $bm_neg(a) {\r\n    var tOfA = typeof a;\r\n    if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\r\n      return -a;\r\n    }\r\n    if ($bm_isInstanceOfArray(a)) {\r\n      var i;\r\n      var lenA = a.length;\r\n      var retArr = [];\r\n      for (i = 0; i < lenA; i += 1) {\r\n        retArr[i] = -a[i];\r\n      }\r\n      return retArr;\r\n    }\r\n    if (a.propType) {\r\n      return a.v;\r\n    }\r\n    return -a;\r\n  }\r\n\r\n  var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n  var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n  var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n  function sum(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (tOfA === 'string' || tOfB === 'string') {\r\n      return a + b;\r\n    }\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a + b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] += b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a + b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] + b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n  var add = sum;\r\n\r\n  function sub(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      if (tOfA === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n      if (tOfB === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n      return a - b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] -= b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a - b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] - b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function mul(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a * b;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] * b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a * b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function div(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a / b;\r\n    }\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] / b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a / b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n  function mod(a, b) {\r\n    if (typeof a === 'string') {\r\n      a = parseInt(a, 10);\r\n    }\r\n    if (typeof b === 'string') {\r\n      b = parseInt(b, 10);\r\n    }\r\n    return a % b;\r\n  }\r\n  var $bm_sum = sum;\r\n  var $bm_sub = sub;\r\n  var $bm_mul = mul;\r\n  var $bm_div = div;\r\n  var $bm_mod = mod;\r\n\r\n  function clamp(num, min, max) {\r\n    if (min > max) {\r\n      var mm = max;\r\n      max = min;\r\n      min = mm;\r\n    }\r\n    return Math.min(Math.max(num, min), max);\r\n  }\r\n\r\n  function radiansToDegrees(val) {\r\n    return val / degToRads;\r\n  }\r\n  var radians_to_degrees = radiansToDegrees;\r\n\r\n  function degreesToRadians(val) {\r\n    return val * degToRads;\r\n  }\r\n  var degrees_to_radians = radiansToDegrees;\r\n\r\n  var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n  function length(arr1, arr2) {\r\n    if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n      arr2 = arr2 || 0;\r\n      return Math.abs(arr1 - arr2);\r\n    }\r\n    if (!arr2) {\r\n      arr2 = helperLengthArray;\r\n    }\r\n    var i;\r\n    var len = Math.min(arr1.length, arr2.length);\r\n    var addedLength = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n    }\r\n    return Math.sqrt(addedLength);\r\n  }\r\n\r\n  function normalize(vec) {\r\n    return div(vec, length(vec));\r\n  }\r\n\r\n  function rgbToHsl(val) {\r\n    var r = val[0]; var g = val[1]; var b = val[2];\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h;\r\n    var s;\r\n    var l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = 0; // achromatic\r\n      s = 0; // achromatic\r\n    } else {\r\n      var d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n        case g: h = (b - r) / d + 2; break;\r\n        case b: h = (r - g) / d + 4; break;\r\n        default: break;\r\n      }\r\n      h /= 6;\r\n    }\r\n\r\n    return [h, s, l, val[3]];\r\n  }\r\n\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) t += 1;\r\n    if (t > 1) t -= 1;\r\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n    if (t < 1 / 2) return q;\r\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n    return p;\r\n  }\r\n\r\n  function hslToRgb(val) {\r\n    var h = val[0];\r\n    var s = val[1];\r\n    var l = val[2];\r\n\r\n    var r;\r\n    var g;\r\n    var b;\r\n\r\n    if (s === 0) {\r\n      r = l; // achromatic\r\n      b = l; // achromatic\r\n      g = l; // achromatic\r\n    } else {\r\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n      var p = 2 * l - q;\r\n      r = hue2rgb(p, q, h + 1 / 3);\r\n      g = hue2rgb(p, q, h);\r\n      b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [r, g, b, val[3]];\r\n  }\r\n\r\n  function linear(t, tMin, tMax, value1, value2) {\r\n    if (value1 === undefined || value2 === undefined) {\r\n      value1 = tMin;\r\n      value2 = tMax;\r\n      tMin = 0;\r\n      tMax = 1;\r\n    }\r\n    if (tMax < tMin) {\r\n      var _tMin = tMax;\r\n      tMax = tMin;\r\n      tMin = _tMin;\r\n    }\r\n    if (t <= tMin) {\r\n      return value1;\r\n    } if (t >= tMax) {\r\n      return value2;\r\n    }\r\n    var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n    if (!value1.length) {\r\n      return value1 + (value2 - value1) * perc;\r\n    }\r\n    var i;\r\n    var len = value1.length;\r\n    var arr = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n    }\r\n    return arr;\r\n  }\r\n  function random(min, max) {\r\n    if (max === undefined) {\r\n      if (min === undefined) {\r\n        min = 0;\r\n        max = 1;\r\n      } else {\r\n        max = min;\r\n        min = undefined;\r\n      }\r\n    }\r\n    if (max.length) {\r\n      var i;\r\n      var len = max.length;\r\n      if (!min) {\r\n        min = createTypedArray('float32', len);\r\n      }\r\n      var arr = createTypedArray('float32', len);\r\n      var rnd = BMMath.random();\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n      }\r\n      return arr;\r\n    }\r\n    if (min === undefined) {\r\n      min = 0;\r\n    }\r\n    var rndm = BMMath.random();\r\n    return min + rndm * (max - min);\r\n  }\r\n\r\n  function createPath(points, inTangents, outTangents, closed) {\r\n    var i;\r\n    var len = points.length;\r\n    var path = shapePool.newElement();\r\n    path.setPathData(!!closed, len);\r\n    var arrPlaceholder = [0, 0];\r\n    var inVertexPoint;\r\n    var outVertexPoint;\r\n    for (i = 0; i < len; i += 1) {\r\n      inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n      outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n      path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function initiateExpression(elem, data, property) {\r\n    var val = data.x;\r\n    var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n    var _needsRandom = val.indexOf('random') !== -1;\r\n    var elemType = elem.data.ty;\r\n    var transform;\r\n    var $bm_transform;\r\n    var content;\r\n    var effect;\r\n    var thisProperty = property;\r\n    thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n    Object.defineProperty(thisProperty, 'value', {\r\n      get: function () {\r\n        return thisProperty.v;\r\n      },\r\n    });\r\n    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n    elem.comp.displayStartTime = 0;\r\n    var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    var width = elem.data.sw ? elem.data.sw : 0;\r\n    var height = elem.data.sh ? elem.data.sh : 0;\r\n    var name = elem.data.nm;\r\n    var loopIn;\r\n    var loop_in;\r\n    var loopOut;\r\n    var loop_out;\r\n    var smooth;\r\n    var toWorld;\r\n    var fromWorld;\r\n    var fromComp;\r\n    var toComp;\r\n    var fromCompToSurface;\r\n    var position;\r\n    var rotation;\r\n    var anchorPoint;\r\n    var scale;\r\n    var thisLayer;\r\n    var thisComp;\r\n    var mask;\r\n    var valueAtTime;\r\n    var velocityAtTime;\r\n\r\n    var scoped_bm_rt;\r\n    // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\r\n    var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n    var numKeys = property.kf ? data.k.length : 0;\r\n\r\n    var active = !this.data || this.data.hd !== true;\r\n\r\n    var wiggle = function wiggle(freq, amp) {\r\n      var iWiggle;\r\n      var j;\r\n      var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n      var addedAmps = createTypedArray('float32', lenWiggle);\r\n      freq = 5;\r\n      var iterations = Math.floor(time * freq);\r\n      iWiggle = 0;\r\n      j = 0;\r\n      while (iWiggle < iterations) {\r\n        // var rnd = BMMath.random();\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          addedAmps[j] += -amp + amp * 2 * BMMath.random();\r\n          // addedAmps[j] += -amp + amp*2*rnd;\r\n        }\r\n        iWiggle += 1;\r\n      }\r\n      // var rnd2 = BMMath.random();\r\n      var periods = time * freq;\r\n      var perc = periods - Math.floor(periods);\r\n      var arr = createTypedArray('float32', lenWiggle);\r\n      if (lenWiggle > 1) {\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n          // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n          // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n        }\r\n        return arr;\r\n      }\r\n      return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n    }.bind(this);\r\n\r\n    if (thisProperty.loopIn) {\r\n      loopIn = thisProperty.loopIn.bind(thisProperty);\r\n      loop_in = loopIn;\r\n    }\r\n\r\n    if (thisProperty.loopOut) {\r\n      loopOut = thisProperty.loopOut.bind(thisProperty);\r\n      loop_out = loopOut;\r\n    }\r\n\r\n    if (thisProperty.smooth) {\r\n      smooth = thisProperty.smooth.bind(thisProperty);\r\n    }\r\n\r\n    function loopInDuration(type, duration) {\r\n      return loopIn(type, duration, true);\r\n    }\r\n\r\n    function loopOutDuration(type, duration) {\r\n      return loopOut(type, duration, true);\r\n    }\r\n\r\n    if (this.getValueAtTime) {\r\n      valueAtTime = this.getValueAtTime.bind(this);\r\n    }\r\n\r\n    if (this.getVelocityAtTime) {\r\n      velocityAtTime = this.getVelocityAtTime.bind(this);\r\n    }\r\n\r\n    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n    function lookAt(elem1, elem2) {\r\n      var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n      var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n      var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n      return [yaw, pitch, 0];\r\n    }\r\n\r\n    function easeOut(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function easeIn(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function ease(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n      if (val1 === undefined) {\r\n        val1 = tMin;\r\n        val2 = tMax;\r\n      } else {\r\n        t = (t - tMin) / (tMax - tMin);\r\n      }\r\n      if (t > 1) {\r\n        t = 1;\r\n      } else if (t < 0) {\r\n        t = 0;\r\n      }\r\n      var mult = fn(t);\r\n      if ($bm_isInstanceOfArray(val1)) {\r\n        var iKey;\r\n        var lenKey = val1.length;\r\n        var arr = createTypedArray('float32', lenKey);\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n        }\r\n        return arr;\r\n      }\r\n      return (val2 - val1) * mult + val1;\r\n    }\r\n\r\n    function nearestKey(time) {\r\n      var iKey;\r\n      var lenKey = data.k.length;\r\n      var index;\r\n      var keyTime;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        index = 0;\r\n        keyTime = 0;\r\n      } else {\r\n        index = -1;\r\n        time *= elem.comp.globalData.frameRate;\r\n        if (time < data.k[0].t) {\r\n          index = 1;\r\n          keyTime = data.k[0].t;\r\n        } else {\r\n          for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n            if (time === data.k[iKey].t) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n              break;\r\n            } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n              if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                index = iKey + 2;\r\n                keyTime = data.k[iKey + 1].t;\r\n              } else {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          if (index === -1) {\r\n            index = iKey + 1;\r\n            keyTime = data.k[iKey].t;\r\n          }\r\n        }\r\n      }\r\n      var obKey = {};\r\n      obKey.index = index;\r\n      obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n      return obKey;\r\n    }\r\n\r\n    function key(ind) {\r\n      var obKey;\r\n      var iKey;\r\n      var lenKey;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        throw new Error('The property has no keyframe at index ' + ind);\r\n      }\r\n      ind -= 1;\r\n      obKey = {\r\n        time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n        value: [],\r\n      };\r\n      var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n      lenKey = arr.length;\r\n      for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n        obKey[iKey] = arr[iKey];\r\n        obKey.value[iKey] = arr[iKey];\r\n      }\r\n      return obKey;\r\n    }\r\n\r\n    function framesToTime(frames, fps) {\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return frames / fps;\r\n    }\r\n\r\n    function timeToFrames(t, fps) {\r\n      if (!t && t !== 0) {\r\n        t = time;\r\n      }\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return t * fps;\r\n    }\r\n\r\n    function seedRandom(seed) {\r\n      BMMath.seedrandom(randSeed + seed);\r\n    }\r\n\r\n    function sourceRectAtTime() {\r\n      return elem.sourceRectAtTime();\r\n    }\r\n\r\n    function substring(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substring(init);\r\n        }\r\n        return value.substring(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function substr(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substr(init);\r\n        }\r\n        return value.substr(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function posterizeTime(framesPerSecond) {\r\n      time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n      value = valueAtTime(time);\r\n    }\r\n\r\n    var time;\r\n    var velocity;\r\n    var value;\r\n    var text;\r\n    var textIndex;\r\n    var textTotal;\r\n    var selectorValue;\r\n    var index = elem.data.ind;\r\n    var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n    var parent;\r\n    var randSeed = Math.floor(Math.random() * 1000000);\r\n    var globalData = elem.globalData;\r\n    function executeExpression(_value) {\r\n      // globalData.pushExpression();\r\n      value = _value;\r\n      if (_needsRandom) {\r\n        seedRandom(randSeed);\r\n      }\r\n      if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n        return value;\r\n      }\r\n      if (this.propType === 'textSelector') {\r\n        textIndex = this.textIndex;\r\n        textTotal = this.textTotal;\r\n        selectorValue = this.selectorValue;\r\n      }\r\n      if (!thisLayer) {\r\n        text = elem.layerInterface.text;\r\n        thisLayer = elem.layerInterface;\r\n        thisComp = elem.comp.compInterface;\r\n        toWorld = thisLayer.toWorld.bind(thisLayer);\r\n        fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n        fromComp = thisLayer.fromComp.bind(thisLayer);\r\n        toComp = thisLayer.toComp.bind(thisLayer);\r\n        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n        fromCompToSurface = fromComp;\r\n      }\r\n      if (!transform) {\r\n        transform = elem.layerInterface('ADBE Transform Group');\r\n        $bm_transform = transform;\r\n        if (transform) {\r\n          anchorPoint = transform.anchorPoint;\r\n          /* position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale; */\r\n        }\r\n      }\r\n\r\n      if (elemType === 4 && !content) {\r\n        content = thisLayer('ADBE Root Vectors Group');\r\n      }\r\n      if (!effect) {\r\n        effect = thisLayer(4);\r\n      }\r\n      hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      if (hasParent && !parent) {\r\n        parent = elem.hierarchy[0].layerInterface;\r\n      }\r\n      time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      if (needsVelocity) {\r\n        velocity = velocityAtTime(time);\r\n      }\r\n      expression_function();\r\n      this.frameExpressionId = elem.globalData.frameId;\r\n\r\n      // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n      if (scoped_bm_rt.propType === 'shape') {\r\n        scoped_bm_rt = scoped_bm_rt.v;\r\n      }\r\n      // globalData.popExpression();\r\n      return scoped_bm_rt;\r\n    }\r\n    return executeExpression;\r\n  }\r\n\r\n  ob.initiateExpression = initiateExpression;\r\n  return ob;\r\n}());\r\n\r\n/* global ExpressionManager, createTypedArray */\r\n/* exported expressionHelpers */\r\n\r\nvar expressionHelpers = (function () {\r\n  function searchExpressions(elem, data, prop) {\r\n    if (data.x) {\r\n      prop.k = true;\r\n      prop.x = true;\r\n      prop.initiateExpression = ExpressionManager.initiateExpression;\r\n      prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n    }\r\n  }\r\n\r\n  function getValueAtTime(frameNum) {\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastFrame) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n      this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n      this._cachingAtTime.lastFrame = frameNum;\r\n    }\r\n    return this._cachingAtTime.value;\r\n  }\r\n\r\n  function getSpeedAtTime(frameNum) {\r\n    var delta = -0.01;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var speed = 0;\r\n    if (v1.length) {\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        speed += Math.pow(v2[i] - v1[i], 2);\r\n      }\r\n      speed = Math.sqrt(speed) * 100;\r\n    } else {\r\n      speed = 0;\r\n    }\r\n    return speed;\r\n  }\r\n\r\n  function getVelocityAtTime(frameNum) {\r\n    if (this.vel !== undefined) {\r\n      return this.vel;\r\n    }\r\n    var delta = -0.001;\r\n    // frameNum += this.elem.data.st;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var velocity;\r\n    if (v1.length) {\r\n      velocity = createTypedArray('float32', v1.length);\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        // removing frameRate\r\n        // if needed, don't add it here\r\n        // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n        velocity[i] = (v2[i] - v1[i]) / delta;\r\n      }\r\n    } else {\r\n      velocity = (v2 - v1) / delta;\r\n    }\r\n    return velocity;\r\n  }\r\n\r\n  function getStaticValueAtTime() {\r\n    return this.pv;\r\n  }\r\n\r\n  function setGroupProperty(propertyGroup) {\r\n    this.propertyGroup = propertyGroup;\r\n  }\r\n\r\n  return {\r\n    searchExpressions: searchExpressions,\r\n    getSpeedAtTime: getSpeedAtTime,\r\n    getVelocityAtTime: getVelocityAtTime,\r\n    getValueAtTime: getValueAtTime,\r\n    getStaticValueAtTime: getStaticValueAtTime,\r\n    setGroupProperty: setGroupProperty,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, Matrix, TransformPropertyFactory, expressionHelpers, PropertyFactory, expressionHelpers,\r\ninitialDefaultFrame, shapePool, ShapePropertyFactory, bez, extendPrototype, ExpressionManager, createSizedArray */\r\n\r\n(function addPropertyDecorator() {\r\n  function loopOut(type, duration, durationFlag) {\r\n    if (!this.k || !this.keyframes) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n    if (currentFrame <= lastKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var firstKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n      } else {\r\n        cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      firstKeyFrame = lastKeyFrame - cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n        }\r\n        return ret;\r\n      }\r\n      return (endV - initV) * repeats + current;\r\n    } else if (type === 'continue') {\r\n      var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(lastValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n        }\r\n        return ret;\r\n      }\r\n      return lastValue + (lastValue - nextLastValue) * (((currentFrame - lastKeyFrame)) / 0.001);\r\n    }\r\n      return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function loopIn(type, duration, durationFlag) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var firstKeyFrame = keyframes[0].t;\r\n    if (currentFrame >= firstKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var lastKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      lastKeyFrame = keyframes[duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n      } else {\r\n        cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      lastKeyFrame = firstKeyFrame + cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n      if (iterations % 2 === 0) {\r\n          return this.getValueAtTime((((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var current = this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration) + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n      var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n        }\r\n        return ret;\r\n      }\r\n      return current - (endV - initV) * repeats;\r\n    } else if (type === 'continue') {\r\n      var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(firstValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = firstValue[i] + ((firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame)) / 0.001;\r\n        }\r\n        return ret;\r\n      }\r\n      return firstValue + ((firstValue - nextFirstValue) * (firstKeyFrame - currentFrame)) / 0.001;\r\n    }\r\n      return this.getValueAtTime(((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame))) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function smooth(width, samples) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    width = (width || 0.4) * 0.5;\r\n    samples = Math.floor(samples || 5);\r\n    if (samples <= 1) {\r\n      return this.pv;\r\n    }\r\n    var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n    var initFrame = currentTime - width;\r\n    var endFrame = currentTime + width;\r\n    var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n    var i = 0;\r\n    var j = 0;\r\n    var value;\r\n    if (this.pv.length) {\r\n      value = createTypedArray('float32', this.pv.length);\r\n    } else {\r\n      value = 0;\r\n    }\r\n    var sampleValue;\r\n    while (i < samples) {\r\n      sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] += sampleValue[j];\r\n        }\r\n      } else {\r\n        value += sampleValue;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (this.pv.length) {\r\n      for (j = 0; j < this.pv.length; j += 1) {\r\n        value[j] /= samples;\r\n      }\r\n    } else {\r\n      value /= samples;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getTransformValueAtTime(time) {\r\n    if (!this._transformCachingAtTime) {\r\n      this._transformCachingAtTime = {\r\n        v: new Matrix(),\r\n      };\r\n    }\r\n    /// /\r\n    var matrix = this._transformCachingAtTime.v;\r\n    matrix.cloneFromProps(this.pre.props);\r\n    if (this.appliedTransformations < 1) {\r\n      var anchor = this.a.getValueAtTime(time);\r\n      matrix.translate(\r\n        -anchor[0] * this.a.mult,\r\n        -anchor[1] * this.a.mult,\r\n        anchor[2] * this.a.mult\r\n      );\r\n    }\r\n    if (this.appliedTransformations < 2) {\r\n      var scale = this.s.getValueAtTime(time);\r\n      matrix.scale(\r\n        scale[0] * this.s.mult,\r\n        scale[1] * this.s.mult,\r\n        scale[2] * this.s.mult\r\n      );\r\n    }\r\n    if (this.sk && this.appliedTransformations < 3) {\r\n      var skew = this.sk.getValueAtTime(time);\r\n      var skewAxis = this.sa.getValueAtTime(time);\r\n      matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n    }\r\n    if (this.r && this.appliedTransformations < 4) {\r\n      var rotation = this.r.getValueAtTime(time);\r\n      matrix.rotate(-rotation * this.r.mult);\r\n    } else if (!this.r && this.appliedTransformations < 4) {\r\n      var rotationZ = this.rz.getValueAtTime(time);\r\n      var rotationY = this.ry.getValueAtTime(time);\r\n      var rotationX = this.rx.getValueAtTime(time);\r\n      var orientation = this.or.getValueAtTime(time);\r\n      matrix.rotateZ(-rotationZ * this.rz.mult)\r\n        .rotateY(rotationY * this.ry.mult)\r\n        .rotateX(rotationX * this.rx.mult)\r\n        .rotateZ(-orientation[2] * this.or.mult)\r\n        .rotateY(orientation[1] * this.or.mult)\r\n        .rotateX(orientation[0] * this.or.mult);\r\n    }\r\n    if (this.data.p && this.data.p.s) {\r\n      var positionX = this.px.getValueAtTime(time);\r\n      var positionY = this.py.getValueAtTime(time);\r\n      if (this.data.p.z) {\r\n        var positionZ = this.pz.getValueAtTime(time);\r\n        matrix.translate(\r\n          positionX * this.px.mult,\r\n          positionY * this.py.mult,\r\n          -positionZ * this.pz.mult\r\n        );\r\n      } else {\r\n        matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n      }\r\n    } else {\r\n      var position = this.p.getValueAtTime(time);\r\n      matrix.translate(\r\n        position[0] * this.p.mult,\r\n        position[1] * this.p.mult,\r\n        -position[2] * this.p.mult\r\n      );\r\n    }\r\n    return matrix;\r\n    /// /\r\n  }\r\n\r\n  function getTransformStaticValueAtTime() {\r\n    return this.v.clone(new Matrix());\r\n  }\r\n\r\n  var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n  TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n    var prop = getTransformProperty(elem, data, container);\r\n    if (prop.dynamicProperties.length) {\r\n      prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    return prop;\r\n  };\r\n\r\n  var propertyGetProp = PropertyFactory.getProp;\r\n  PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n    var prop = propertyGetProp(elem, data, type, mult, container);\r\n    // prop.getVelocityAtTime = getVelocityAtTime;\r\n    // prop.loopOut = loopOut;\r\n    // prop.loopIn = loopIn;\r\n    if (prop.kf) {\r\n      prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    prop.loopOut = loopOut;\r\n    prop.loopIn = loopIn;\r\n    prop.smooth = smooth;\r\n    prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n    prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n    prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n    prop.propertyIndex = data.ix;\r\n    var value = 0;\r\n    if (type !== 0) {\r\n      value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n    }\r\n    prop._cachingAtTime = {\r\n      lastFrame: initialDefaultFrame,\r\n      lastIndex: 0,\r\n      value: value,\r\n    };\r\n    expressionHelpers.searchExpressions(elem, data, prop);\r\n    if (prop.k) {\r\n      container.addDynamicProperty(prop);\r\n    }\r\n\r\n    return prop;\r\n  };\r\n\r\n  function getShapeValueAtTime(frameNum) {\r\n    // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n    if (!this._cachingAtTime) {\r\n      this._cachingAtTime = {\r\n        shapeValue: shapePool.clone(this.pv),\r\n        lastIndex: 0,\r\n        lastTime: initialDefaultFrame,\r\n      };\r\n    }\r\n\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastTime) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n      this._cachingAtTime.lastTime = frameNum;\r\n      this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n    }\r\n    return this._cachingAtTime.shapeValue;\r\n  }\r\n\r\n  var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n  var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n  function ShapeExpressions() {}\r\n  ShapeExpressions.prototype = {\r\n    vertices: function (prop, time) {\r\n      if (this.k) {\r\n        this.getValue();\r\n      }\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      var i;\r\n      var len = shapePath._length;\r\n      var vertices = shapePath[prop];\r\n      var points = shapePath.v;\r\n      var arr = createSizedArray(len);\r\n      for (i = 0; i < len; i += 1) {\r\n        if (prop === 'i' || prop === 'o') {\r\n          arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n        } else {\r\n          arr[i] = [vertices[i][0], vertices[i][1]];\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    points: function (time) {\r\n      return this.vertices('v', time);\r\n    },\r\n    inTangents: function (time) {\r\n      return this.vertices('i', time);\r\n    },\r\n    outTangents: function (time) {\r\n      return this.vertices('o', time);\r\n    },\r\n    isClosed: function () {\r\n      return this.v.c;\r\n    },\r\n    pointOnPath: function (perc, time) {\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      if (!this._segmentsLength) {\r\n        this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n      }\r\n\r\n      var segmentsLength = this._segmentsLength;\r\n      var lengths = segmentsLength.lengths;\r\n      var lengthPos = segmentsLength.totalLength * perc;\r\n      var i = 0;\r\n      var len = lengths.length;\r\n      var accumulatedLength = 0;\r\n      var pt;\r\n      while (i < len) {\r\n        if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n          var initIndex = i;\r\n          var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n          var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n          pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n          break;\r\n        } else {\r\n          accumulatedLength += lengths[i].addedLength;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!pt) {\r\n        pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n      }\r\n      return pt;\r\n    },\r\n    vectorOnPath: function (perc, time, vectorType) {\r\n      // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n      if (perc == 1) { // eslint-disable-line eqeqeq\r\n        perc = this.v.c;\r\n      } else if (perc == 0) { // eslint-disable-line eqeqeq\r\n        perc = 0.999;\r\n      }\r\n      var pt1 = this.pointOnPath(perc, time);\r\n      var pt2 = this.pointOnPath(perc + 0.001, time);\r\n      var xLength = pt2[0] - pt1[0];\r\n      var yLength = pt2[1] - pt1[1];\r\n      var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n      if (magnitude === 0) {\r\n        return [0, 0];\r\n      }\r\n      var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n      return unitVector;\r\n    },\r\n    tangentOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'tangent');\r\n    },\r\n    normalOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'normal');\r\n    },\r\n    setGroupProperty: expressionHelpers.setGroupProperty,\r\n    getValueAtTime: expressionHelpers.getStaticValueAtTime,\r\n  };\r\n  extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n  extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n  KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n  KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n  var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n  ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n    var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n    prop.propertyIndex = data.ix;\r\n    prop.lock = false;\r\n    if (type === 3) {\r\n      expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n    } else if (type === 4) {\r\n      expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  };\r\n}());\r\n\r\n/* global ExpressionManager, TextProperty */\r\n\r\n(function addDecorator() {\r\n  function searchExpressions() {\r\n    if (this.data.d.x) {\r\n      this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n      this.addEffect(this.getExpressionValue.bind(this));\r\n      return true;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n    var newValue = this.calculateExpression(text);\r\n    if (currentValue.t !== newValue) {\r\n      var newData = {};\r\n      this.copyData(newData, currentValue);\r\n      newData.t = newValue.toString();\r\n      newData.__complete = false;\r\n      return newData;\r\n    }\r\n    return currentValue;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    var isKeyframed = this.searchKeyframes();\r\n    var hasExpressions = this.searchExpressions();\r\n    this.kf = isKeyframed || hasExpressions;\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.searchExpressions = searchExpressions;\r\n}());\r\n\r\n/* global propertyGroupFactory, PropertyInterface */\r\n/* exported ShapePathInterface */\r\n\r\nvar ShapePathInterface = (\r\n\r\n  function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        shape: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        _name: { value: shape.nm },\r\n        ix: { value: shape.ix },\r\n        propertyIndex: { value: shape.ix },\r\n        mn: { value: shape.mn },\r\n        propertyGroup: { value: propertyGroup },\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }()\r\n);\r\n\r\n/* exported propertyGroupFactory */\r\n\r\nvar propertyGroupFactory = (function () {\r\n  return function (interfaceFunction, parentPropertyGroup) {\r\n    return function (val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return parentPropertyGroup(val - 1);\r\n    };\r\n  };\r\n}());\r\n\r\n/* exported PropertyInterface */\r\n\r\nvar PropertyInterface = (function () {\r\n  return function (propertyName, propertyGroup) {\r\n    var interfaceFunction = {\r\n      _name: propertyName,\r\n    };\r\n\r\n    function _propertyGroup(val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return propertyGroup(val - 1);\r\n    }\r\n\r\n    return _propertyGroup;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface, PropertyInterface, propertyGroupFactory, ShapePathInterface */\r\n/* exported ShapeExpressionInterface */\r\n\r\nvar ShapeExpressionInterface = (function () {\r\n  function iterateElements(shapes, view, propertyGroup) {\r\n    var arr = [];\r\n    var i;\r\n    var len = shapes ? shapes.length : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shapes[i].ty === 'gr') {\r\n        arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'fl') {\r\n        arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'st') {\r\n        arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tm') {\r\n        arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tr') {\r\n        // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n      } else if (shapes[i].ty === 'el') {\r\n        arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sr') {\r\n        arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sh') {\r\n        arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rc') {\r\n        arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rd') {\r\n        arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rp') {\r\n        arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'gf') {\r\n        arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else {\r\n        arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaces;\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      if (typeof value === 'number') {\r\n        return interfaces[value - 1];\r\n      }\r\n      return null;\r\n    };\r\n\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n    interfaceFunction.numProperties = interfaces.length;\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.transform = transformInterface;\r\n    interfaceFunction.propertyIndex = shape.cix;\r\n    interfaceFunction._name = shape.nm;\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function groupInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      switch (value) {\r\n        case 'ADBE Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n        default:\r\n          return interfaceFunction.transform;\r\n      }\r\n    };\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.content = content;\r\n    interfaceFunction.transform = transformInterface;\r\n    Object.defineProperty(interfaceFunction, '_name', {\r\n      get: function () {\r\n        return shape.nm;\r\n      },\r\n    });\r\n    // interfaceFunction.content = interfaceFunction;\r\n    interfaceFunction.numProperties = shape.np;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.nm = shape.nm;\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function fillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function gradientFillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Start Point' || val === 'start point') {\r\n        return interfaceFunction.startPoint;\r\n      }\r\n      if (val === 'End Point' || val === 'end point') {\r\n        return interfaceFunction.endPoint;\r\n      }\r\n      if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      startPoint: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      endPoint: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      type: {\r\n        get: function () {\r\n          return 'a';\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n  function defaultInterfaceFactory() {\r\n    function interfaceFunction() {\r\n      return null;\r\n    }\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n    function addPropertyToDashOb(i) {\r\n      Object.defineProperty(dashOb, shape.d[i].nm, {\r\n        get: ExpressionPropertyInterface(view.d.dataProps[i].p),\r\n      });\r\n    }\r\n    var i;\r\n    var len = shape.d ? shape.d.length : 0;\r\n    var dashOb = {};\r\n    for (i = 0; i < len; i += 1) {\r\n      addPropertyToDashOb(i);\r\n      view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n    }\r\n\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      } if (val === 'Stroke Width' || val === 'stroke width') {\r\n        return interfaceFunction.strokeWidth;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      strokeWidth: {\r\n        get: ExpressionPropertyInterface(view.w),\r\n      },\r\n      dash: {\r\n        get: function () {\r\n          return dashOb;\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function trimInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n        return interfaceFunction.end;\r\n      }\r\n      if (val === shape.s.ix) {\r\n        return interfaceFunction.start;\r\n      }\r\n      if (val === shape.o.ix) {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      start: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      end: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function transformInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.a.ix === value || value === 'Anchor Point') {\r\n        return interfaceFunction.anchorPoint;\r\n      }\r\n      if (shape.o.ix === value || value === 'Opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      if (shape.p.ix === value || value === 'Position') {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.s.ix === value || value === 'Scale') {\r\n        return interfaceFunction.scale;\r\n      }\r\n      if ((shape.sk && shape.sk.ix === value) || value === 'Skew') {\r\n        return interfaceFunction.skew;\r\n      }\r\n      if ((shape.sa && shape.sa.ix === value) || value === 'Skew Axis') {\r\n        return interfaceFunction.skewAxis;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n    view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n    view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (view.transform.mProps.sk) {\r\n      view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n      view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n    }\r\n    view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.o),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.p),\r\n      },\r\n      anchorPoint: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.a),\r\n      },\r\n      scale: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.s),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.r),\r\n      },\r\n      skew: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sk),\r\n      },\r\n      skewAxis: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sa),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.ty = 'tr';\r\n    interfaceFunction.mn = shape.mn;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.s.ix === value) {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function starInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.pt.ix === value) {\r\n        return interfaceFunction.points;\r\n      }\r\n      if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n        return interfaceFunction.outerRadius;\r\n      }\r\n      if (shape.os.ix === value) {\r\n        return interfaceFunction.outerRoundness;\r\n      }\r\n      if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n        return interfaceFunction.innerRadius;\r\n      }\r\n      if (shape.is && shape.is.ix === value) {\r\n        return interfaceFunction.innerRoundness;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n    prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n    prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (shape.ir) {\r\n      prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n      prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n    }\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      points: {\r\n        get: ExpressionPropertyInterface(prop.pt),\r\n      },\r\n      outerRadius: {\r\n        get: ExpressionPropertyInterface(prop.or),\r\n      },\r\n      outerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.os),\r\n      },\r\n      innerRadius: {\r\n        get: ExpressionPropertyInterface(prop.ir),\r\n      },\r\n      innerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.is),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function rectInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.roundness;\r\n      }\r\n      if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      roundness: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.r.ix === value || value === 'Round Corners 1') {\r\n        return interfaceFunction.radius;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      radius: {\r\n        get: ExpressionPropertyInterface(prop.rd),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.c.ix === value || value === 'Copies') {\r\n        return interfaceFunction.copies;\r\n      } if (shape.o.ix === value || value === 'Offset') {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n    prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      copies: {\r\n        get: ExpressionPropertyInterface(prop.c),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(prop.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return function (shapes, view, propertyGroup) {\r\n    var interfaces;\r\n    function _interfaceFunction(value) {\r\n      if (typeof value === 'number') {\r\n        value = value === undefined ? 1 : value;\r\n        if (value === 0) {\r\n          return propertyGroup;\r\n        }\r\n        return interfaces[value - 1];\r\n      }\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n    function parentGroupWrapper() {\r\n      return propertyGroup;\r\n    }\r\n    _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n    interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n    _interfaceFunction.numProperties = interfaces.length;\r\n    _interfaceFunction._name = 'Contents';\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported TextExpressionInterface */\r\n\r\nvar TextExpressionInterface = (function () {\r\n  return function (elem) {\r\n    var _prevValue;\r\n    var _sourceText;\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Text Document':\r\n          return _thisLayerFunction.sourceText;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n      get: function () {\r\n        elem.textProperty.getValue();\r\n        var stringValue = elem.textProperty.currentData.t;\r\n        if (stringValue !== _prevValue) {\r\n          elem.textProperty.currentData.t = _prevValue;\r\n          _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n          // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n          _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n        }\r\n        return _sourceText;\r\n      },\r\n    });\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global Matrix, MaskManagerInterface, TransformExpressionInterface, getDescriptor */\r\n/* exported LayerExpressionInterface */\r\n\r\nvar LayerExpressionInterface = (function () {\r\n  function getMatrix(time) {\r\n    var toWorldMat = new Matrix();\r\n    if (time !== undefined) {\r\n      var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n      propMatrix.clone(toWorldMat);\r\n    } else {\r\n      var transformMat = this._elem.finalTransform.mProp;\r\n      transformMat.applyToMatrix(toWorldMat);\r\n    }\r\n    return toWorldMat;\r\n  }\r\n\r\n  function toWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function toWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function applyPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n  }\r\n\r\n  function invertPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.inversePoint(arr);\r\n  }\r\n\r\n  function fromComp(arr) {\r\n    var toWorldMat = new Matrix();\r\n    toWorldMat.reset();\r\n    this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n      }\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n    return toWorldMat.inversePoint(arr);\r\n  }\r\n\r\n  function sampleImage() {\r\n    return [1, 1, 1, 1];\r\n  }\r\n\r\n  return function (elem) {\r\n    var transformInterface;\r\n\r\n    function _registerMaskInterface(maskManager) {\r\n      _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n    }\r\n    function _registerEffectsInterface(effects) {\r\n      _thisLayerFunction.effect = effects;\r\n    }\r\n\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Root Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return _thisLayerFunction.shapeInterface;\r\n        case 1:\r\n        case 6:\r\n        case 'Transform':\r\n        case 'transform':\r\n        case 'ADBE Transform Group':\r\n          return transformInterface;\r\n        case 4:\r\n        case 'ADBE Effect Parade':\r\n        case 'effects':\r\n        case 'Effects':\r\n          return _thisLayerFunction.effect;\r\n        case 'ADBE Text Properties':\r\n          return _thisLayerFunction.textInterface;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    _thisLayerFunction.getMatrix = getMatrix;\r\n    _thisLayerFunction.invertPoint = invertPoint;\r\n    _thisLayerFunction.applyPoint = applyPoint;\r\n    _thisLayerFunction.toWorld = toWorld;\r\n    _thisLayerFunction.toWorldVec = toWorldVec;\r\n    _thisLayerFunction.fromWorld = fromWorld;\r\n    _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n    _thisLayerFunction.toComp = toWorld;\r\n    _thisLayerFunction.fromComp = fromComp;\r\n    _thisLayerFunction.sampleImage = sampleImage;\r\n    _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n    _thisLayerFunction._elem = elem;\r\n    transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n    var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n    Object.defineProperties(_thisLayerFunction, {\r\n      hasParent: {\r\n        get: function () {\r\n          return elem.hierarchy.length;\r\n        },\r\n      },\r\n      parent: {\r\n        get: function () {\r\n          return elem.hierarchy[0].layerInterface;\r\n        },\r\n      },\r\n      rotation: getDescriptor(transformInterface, 'rotation'),\r\n      scale: getDescriptor(transformInterface, 'scale'),\r\n      position: getDescriptor(transformInterface, 'position'),\r\n      opacity: getDescriptor(transformInterface, 'opacity'),\r\n      anchorPoint: anchorPointDescriptor,\r\n      anchor_point: anchorPointDescriptor,\r\n      transform: {\r\n        get: function () {\r\n          return transformInterface;\r\n        },\r\n      },\r\n      active: {\r\n        get: function () {\r\n          return elem.isInRange;\r\n        },\r\n      },\r\n    });\r\n\r\n    _thisLayerFunction.startTime = elem.data.st;\r\n    _thisLayerFunction.index = elem.data.ind;\r\n    _thisLayerFunction.source = elem.data.refId;\r\n    _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n    _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n    _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction._name = elem.data.nm;\r\n\r\n    _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n    _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global */\r\n/* exported FootageInterface */\r\n\r\nvar FootageInterface = (function () {\r\n  var outlineInterfaceFactory = (function (elem) {\r\n    var currentPropertyName = '';\r\n    var currentProperty = elem.getFootageData();\r\n    function init() {\r\n      currentPropertyName = '';\r\n      currentProperty = elem.getFootageData();\r\n      return searchProperty;\r\n    }\r\n    function searchProperty(value) {\r\n      if (currentProperty[value]) {\r\n        currentPropertyName = value;\r\n        currentProperty = currentProperty[value];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      var propertyNameIndex = value.indexOf(currentPropertyName);\r\n      if (propertyNameIndex !== -1) {\r\n        var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\r\n        currentProperty = currentProperty[index];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      return '';\r\n    }\r\n    return init;\r\n  });\r\n\r\n  var dataInterfaceFactory = function (elem) {\r\n    function interfaceFunction(value) {\r\n      if (value === 'Outline') {\r\n        return interfaceFunction.outlineInterface();\r\n      }\r\n      return null;\r\n    }\r\n\r\n    interfaceFunction._name = 'Outline';\r\n    interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\r\n    return interfaceFunction;\r\n  };\r\n\r\n  return function (elem) {\r\n    function _interfaceFunction(value) {\r\n      if (value === 'Data') {\r\n        return _interfaceFunction.dataInterface;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _interfaceFunction._name = 'Data';\r\n    _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported CompExpressionInterface */\r\n\r\nvar CompExpressionInterface = (function () {\r\n  return function (comp) {\r\n    function _thisLayerFunction(name) {\r\n      var i = 0;\r\n      var len = comp.layers.length;\r\n      while (i < len) {\r\n        if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n          return comp.elements[i].layerInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n      // return {active:false};\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, '_name', { value: comp.data.nm });\r\n    _thisLayerFunction.layer = _thisLayerFunction;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n    _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n    _thisLayerFunction.displayStartTime = 0;\r\n    _thisLayerFunction.numLayers = comp.layers.length;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface */\r\n/* exported TransformExpressionInterface */\r\n\r\nvar TransformExpressionInterface = (function () {\r\n  return function (transform) {\r\n    function _thisFunction(name) {\r\n      switch (name) {\r\n        case 'scale':\r\n        case 'Scale':\r\n        case 'ADBE Scale':\r\n        case 6:\r\n          return _thisFunction.scale;\r\n        case 'rotation':\r\n        case 'Rotation':\r\n        case 'ADBE Rotation':\r\n        case 'ADBE Rotate Z':\r\n        case 10:\r\n          return _thisFunction.rotation;\r\n        case 'ADBE Rotate X':\r\n          return _thisFunction.xRotation;\r\n        case 'ADBE Rotate Y':\r\n          return _thisFunction.yRotation;\r\n        case 'position':\r\n        case 'Position':\r\n        case 'ADBE Position':\r\n        case 2:\r\n          return _thisFunction.position;\r\n        case 'ADBE Position_0':\r\n          return _thisFunction.xPosition;\r\n        case 'ADBE Position_1':\r\n          return _thisFunction.yPosition;\r\n        case 'ADBE Position_2':\r\n          return _thisFunction.zPosition;\r\n        case 'anchorPoint':\r\n        case 'AnchorPoint':\r\n        case 'Anchor Point':\r\n        case 'ADBE AnchorPoint':\r\n        case 1:\r\n          return _thisFunction.anchorPoint;\r\n        case 'opacity':\r\n        case 'Opacity':\r\n        case 11:\r\n          return _thisFunction.opacity;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'rotation', {\r\n      get: ExpressionPropertyInterface(transform.r || transform.rz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zRotation', {\r\n      get: ExpressionPropertyInterface(transform.rz || transform.r),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xRotation', {\r\n      get: ExpressionPropertyInterface(transform.rx),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yRotation', {\r\n      get: ExpressionPropertyInterface(transform.ry),\r\n    });\r\n    Object.defineProperty(_thisFunction, 'scale', {\r\n      get: ExpressionPropertyInterface(transform.s),\r\n    });\r\n    var _px;\r\n    var _py;\r\n    var _pz;\r\n    var _transformFactory;\r\n    if (transform.p) {\r\n      _transformFactory = ExpressionPropertyInterface(transform.p);\r\n    } else {\r\n      _px = ExpressionPropertyInterface(transform.px);\r\n      _py = ExpressionPropertyInterface(transform.py);\r\n      if (transform.pz) {\r\n        _pz = ExpressionPropertyInterface(transform.pz);\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'position', {\r\n      get: function () {\r\n        if (transform.p) {\r\n          return _transformFactory();\r\n        }\r\n        return [\r\n          _px(),\r\n          _py(),\r\n          _pz ? _pz() : 0];\r\n      },\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xPosition', {\r\n      get: ExpressionPropertyInterface(transform.px),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yPosition', {\r\n      get: ExpressionPropertyInterface(transform.py),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zPosition', {\r\n      get: ExpressionPropertyInterface(transform.pz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n      get: ExpressionPropertyInterface(transform.a),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'opacity', {\r\n      get: ExpressionPropertyInterface(transform.o),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skew', {\r\n      get: ExpressionPropertyInterface(transform.sk),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skewAxis', {\r\n      get: ExpressionPropertyInterface(transform.sa),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'orientation', {\r\n      get: ExpressionPropertyInterface(transform.or),\r\n    });\r\n\r\n    return _thisFunction;\r\n  };\r\n}());\r\n\r\n/* exported ProjectInterface */\r\n\r\nvar ProjectInterface = (function () {\r\n  function registerComposition(comp) {\r\n    this.compositions.push(comp);\r\n  }\r\n\r\n  return function () {\r\n    function _thisProjectFunction(name) {\r\n      var i = 0;\r\n      var len = this.compositions.length;\r\n      while (i < len) {\r\n        if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n          if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n            this.compositions[i].prepareFrame(this.currentFrame);\r\n          }\r\n          return this.compositions[i].compInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _thisProjectFunction.compositions = [];\r\n    _thisProjectFunction.currentFrame = 0;\r\n\r\n    _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n    return _thisProjectFunction;\r\n  };\r\n}());\r\n\r\n/* global propertyGroupFactory, ExpressionPropertyInterface, PropertyInterface */\r\n/* exported EffectsExpressionInterface */\r\n\r\nvar EffectsExpressionInterface = (function () {\r\n  var ob = {\r\n    createEffectsInterface: createEffectsInterface,\r\n  };\r\n\r\n  function createEffectsInterface(elem, propertyGroup) {\r\n    if (elem.effectsManager) {\r\n      var effectElements = [];\r\n      var effectsData = elem.data.ef;\r\n      var i;\r\n      var len = elem.effectsManager.effectElements.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n      }\r\n\r\n      var effects = elem.data.ef || [];\r\n      var groupInterface = function (name) {\r\n        i = 0;\r\n        len = effects.length;\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            return effectElements[i];\r\n          }\r\n          i += 1;\r\n        }\r\n        return null;\r\n      };\r\n      Object.defineProperty(groupInterface, 'numProperties', {\r\n        get: function () {\r\n          return effects.length;\r\n        },\r\n      });\r\n      return groupInterface;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function createGroupInterface(data, elements, propertyGroup, elem) {\r\n    function groupInterface(name) {\r\n      var effects = data.ef;\r\n      var i = 0;\r\n      var len = effects.length;\r\n      while (i < len) {\r\n        if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n          if (effects[i].ty === 5) {\r\n            return effectElements[i];\r\n          }\r\n          return effectElements[i]();\r\n        }\r\n        i += 1;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n    var effectElements = [];\r\n    var i;\r\n    var len = data.ef.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (data.ef[i].ty === 5) {\r\n        effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n      } else {\r\n        effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n      }\r\n    }\r\n\r\n    if (data.mn === 'ADBE Color Control') {\r\n      Object.defineProperty(groupInterface, 'color', {\r\n        get: function () {\r\n          return effectElements[0]();\r\n        },\r\n      });\r\n    }\r\n    Object.defineProperties(groupInterface, {\r\n      numProperties: {\r\n        get: function () {\r\n          return data.np;\r\n        },\r\n      },\r\n      _name: { value: data.nm },\r\n      propertyGroup: { value: _propertyGroup },\r\n    });\r\n    groupInterface.enabled = data.en !== 0;\r\n    groupInterface.active = groupInterface.enabled;\r\n    return groupInterface;\r\n  }\r\n\r\n  function createValueInterface(element, type, elem, propertyGroup) {\r\n    var expressionProperty = ExpressionPropertyInterface(element.p);\r\n    function interfaceFunction() {\r\n      if (type === 10) {\r\n        return elem.comp.compInterface(element.p.v);\r\n      }\r\n      return expressionProperty();\r\n    }\r\n\r\n    if (element.p.setGroupProperty) {\r\n      element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n    }\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported MaskManagerInterface */\r\n\r\nvar MaskManagerInterface = (function () {\r\n  function MaskInterface(mask, data) {\r\n    this._mask = mask;\r\n    this._data = data;\r\n  }\r\n  Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n    get: function () {\r\n      if (this._mask.prop.k) {\r\n        this._mask.prop.getValue();\r\n      }\r\n      return this._mask.prop;\r\n    },\r\n  });\r\n  Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n    get: function () {\r\n      if (this._mask.op.k) {\r\n        this._mask.op.getValue();\r\n      }\r\n      return this._mask.op.v * 100;\r\n    },\r\n  });\r\n\r\n  var MaskManager = function (maskManager) {\r\n    var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n    var i;\r\n    var len = maskManager.viewData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n    }\r\n\r\n    var maskFunction = function (name) {\r\n      i = 0;\r\n      while (i < len) {\r\n        if (maskManager.masksProperties[i].nm === name) {\r\n          return _masksInterfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    };\r\n    return maskFunction;\r\n  };\r\n  return MaskManager;\r\n}());\r\n\r\n/* global createTypedArray */\r\n/* exported ExpressionPropertyInterface */\r\n\r\nvar ExpressionPropertyInterface = (function () {\r\n  var defaultUnidimensionalValue = { pv: 0, v: 0, mult: 1 };\r\n  var defaultMultidimensionalValue = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };\r\n\r\n  function completeProperty(expressionValue, property, type) {\r\n    Object.defineProperty(expressionValue, 'velocity', {\r\n      get: function () {\r\n        return property.getVelocityAtTime(property.comp.currentFrame);\r\n      },\r\n    });\r\n    expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n    expressionValue.key = function (pos) {\r\n      if (!expressionValue.numKeys) {\r\n        return 0;\r\n      }\r\n      var value = '';\r\n      if ('s' in property.keyframes[pos - 1]) {\r\n        value = property.keyframes[pos - 1].s;\r\n      } else if ('e' in property.keyframes[pos - 2]) {\r\n        value = property.keyframes[pos - 2].e;\r\n      } else {\r\n        value = property.keyframes[pos - 2].s;\r\n      }\r\n      var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n      valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n      valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n      return valueProp;\r\n    };\r\n    expressionValue.valueAtTime = property.getValueAtTime;\r\n    expressionValue.speedAtTime = property.getSpeedAtTime;\r\n    expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n    expressionValue.propertyGroup = property.propertyGroup;\r\n  }\r\n\r\n  function UnidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultUnidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var val = property.pv * mult;\r\n    var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n    expressionValue.value = val;\r\n    completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      val = property.v * mult;\r\n      if (expressionValue.value !== val) {\r\n        expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  function MultidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultMultidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var len = (property.data && property.data.l) || property.pv.length;\r\n    var expressionValue = createTypedArray('float32', len);\r\n    var arrValue = createTypedArray('float32', len);\r\n    expressionValue.value = arrValue;\r\n    completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      for (var i = 0; i < len; i += 1) {\r\n        arrValue[i] = property.v[i] * mult;\r\n        expressionValue[i] = arrValue[i];\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  // TODO: try to avoid using this getter\r\n  function defaultGetter() {\r\n    return defaultUnidimensionalValue;\r\n  }\r\n\r\n  return function (property) {\r\n    if (!property) {\r\n      return defaultGetter;\r\n    } if (property.propType === 'unidimensional') {\r\n      return UnidimensionalPropertyInterface(property);\r\n    }\r\n    return MultidimensionalPropertyInterface(property);\r\n  };\r\n}());\r\n\r\n/* global expressionHelpers, TextSelectorProp, ExpressionManager */\r\n/* exported TextExpressionSelectorPropFactory */\r\n\r\nvar TextExpressionSelectorPropFactory = (function () { // eslint-disable-line no-unused-vars\r\n  function getValueProxy(index, total) {\r\n    this.textIndex = index + 1;\r\n    this.textTotal = total;\r\n    this.v = this.getValue() * this.mult;\r\n    return this.v;\r\n  }\r\n\r\n  return function (elem, data) {\r\n    this.pv = 1;\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.mult = 0.01;\r\n    this.propType = 'textSelector';\r\n    this.textTotal = data.totalChars;\r\n    this.selectorValue = 100;\r\n    this.lastValue = [1, 1, 1];\r\n    this.k = true;\r\n    this.x = true;\r\n    this.getValue = ExpressionManager.initiateExpression.bind(this)(elem, data, this);\r\n    this.getMult = getValueProxy;\r\n    this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n    if (this.kf) {\r\n      this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n    } else {\r\n      this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n    }\r\n    this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n  };\r\n}());\r\n\r\nvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\nTextSelectorProp.getTextSelectorProp = function (elem, data, arr) {\r\n  if (data.t === 1) {\r\n    return new TextExpressionSelectorPropFactory(elem, data, arr); // eslint-disable-line no-undef\r\n  }\r\n  return propertyGetTextProp(elem, data, arr);\r\n};\r\n\r\n/* global PropertyFactory */\r\n/* exported SliderEffect, AngleEffect, ColorEffect, PointEffect, LayerIndexEffect, MaskIndexEffect, CheckboxEffect, NoValueEffect */\r\n\r\nfunction SliderEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction AngleEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction ColorEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction PointEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction LayerIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction MaskIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction CheckboxEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction NoValueEffect() {\r\n  this.p = {};\r\n}\r\n\r\n/* global extendPrototype, SliderEffect, AngleEffect, ColorEffect, PointEffect, CheckboxEffect, LayerIndexEffect,\r\nMaskIndexEffect, NoValueEffect, DynamicPropertyContainer */\r\n\r\nfunction EffectsManager(data, element) {\r\n  var effects = data.ef || [];\r\n  this.effectElements = [];\r\n  var i;\r\n  var len = effects.length;\r\n  var effectItem;\r\n  for (i = 0; i < len; i += 1) {\r\n    effectItem = new GroupEffect(effects[i], element);\r\n    this.effectElements.push(effectItem);\r\n  }\r\n}\r\n\r\nfunction GroupEffect(data, element) {\r\n  this.init(data, element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function (data, element) {\r\n  this.data = data;\r\n  this.effectElements = [];\r\n  this.initDynamicPropertyContainer(element);\r\n  var i;\r\n  var len = this.data.ef.length;\r\n  var eff;\r\n  var effects = this.data.ef;\r\n  for (i = 0; i < len; i += 1) {\r\n    eff = null;\r\n    switch (effects[i].ty) {\r\n      case 0:\r\n        eff = new SliderEffect(effects[i], element, this);\r\n        break;\r\n      case 1:\r\n        eff = new AngleEffect(effects[i], element, this);\r\n        break;\r\n      case 2:\r\n        eff = new ColorEffect(effects[i], element, this);\r\n        break;\r\n      case 3:\r\n        eff = new PointEffect(effects[i], element, this);\r\n        break;\r\n      case 4:\r\n      case 7:\r\n        eff = new CheckboxEffect(effects[i], element, this);\r\n        break;\r\n      case 10:\r\n        eff = new LayerIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 11:\r\n        eff = new MaskIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 5:\r\n        eff = new EffectsManager(effects[i], element, this);\r\n        break;\r\n        // case 6:\r\n      default:\r\n        eff = new NoValueEffect(effects[i], element, this);\r\n        break;\r\n    }\r\n    if (eff) {\r\n      this.effectElements.push(eff);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction setIDPrefix(prefix) {\r\n  idPrefix = prefix;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.setIDPrefix = setIDPrefix;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.7.13';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","/**\n * SSR Window 3.0.0\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target, src) {\n    if (target === void 0) { target = {}; }\n    if (src === void 0) { src = {}; }\n    Object.keys(src).forEach(function (key) {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nvar ssrDocument = {\n    body: {},\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    activeElement: {\n        blur: function () { },\n        nodeName: '',\n    },\n    querySelector: function () {\n        return null;\n    },\n    querySelectorAll: function () {\n        return [];\n    },\n    getElementById: function () {\n        return null;\n    },\n    createEvent: function () {\n        return {\n            initEvent: function () { },\n        };\n    },\n    createElement: function () {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute: function () { },\n            getElementsByTagName: function () {\n                return [];\n            },\n        };\n    },\n    createElementNS: function () {\n        return {};\n    },\n    importNode: function () {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    var doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nvar ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState: function () { },\n        pushState: function () { },\n        go: function () { },\n        back: function () { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    getComputedStyle: function () {\n        return {\n            getPropertyValue: function () {\n                return '';\n            },\n        };\n    },\n    Image: function () { },\n    Date: function () { },\n    screen: {},\n    setTimeout: function () { },\n    clearTimeout: function () { },\n    matchMedia: function () {\n        return {};\n    },\n    requestAnimationFrame: function (callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame: function (id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    var win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 3.0.0\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  var proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get: function get() {\n      return proto;\n    },\n    set: function set(value) {\n      proto.__proto__ = value;\n    }\n  });\n}\n\nvar Dom7 = /*#__PURE__*/function (_Array) {\n  _inheritsLoose(Dom7, _Array);\n\n  function Dom7(items) {\n    var _this;\n\n    _this = _Array.call.apply(_Array, [this].concat(items)) || this;\n    makeReactive(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  return Dom7;\n}( /*#__PURE__*/_wrapNativeSuper(Array));\n\nfunction arrayFlat(arr) {\n  if (arr === void 0) {\n    arr = [];\n  }\n\n  var res = [];\n  arr.forEach(function (el) {\n    if (Array.isArray(el)) {\n      res.push.apply(res, arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  var uniqueArray = [];\n\n  for (var i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, function (match, group) {\n    return group.toUpperCase();\n  });\n}\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  var a = [];\n  var res = context.querySelectorAll(selector);\n\n  for (var i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  var window = getWindow();\n  var document = getDocument();\n  var arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    var html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      var toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      var tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (var i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\nfunction addClass() {\n  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n    classes[_key] = arguments[_key];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList;\n\n    (_el$classList = el.classList).add.apply(_el$classList, classNames);\n  });\n  return this;\n}\n\nfunction removeClass() {\n  for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    classes[_key2] = arguments[_key2];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList2;\n\n    (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);\n  });\n  return this;\n}\n\nfunction toggleClass() {\n  for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    classes[_key3] = arguments[_key3];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    classNames.forEach(function (className) {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass() {\n  for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    classes[_key4] = arguments[_key4];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  return arrayFilter(this, function (el) {\n    return classNames.filter(function (className) {\n      return el.classList.contains(className);\n    }).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (var attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (var i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (var propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  var el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    var dataKey = el.getAttribute(\"data-\" + key);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  var el = this[0];\n  if (!el) return undefined;\n  var dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (var dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (var i = 0; i < el.attributes.length; i += 1) {\n      var _attr = el.attributes[i];\n\n      if (_attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;\n      }\n    }\n  }\n\n  for (var key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    var el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      var values = [];\n\n      for (var i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (var _i = 0; _i < this.length; _i += 1) {\n    var _el = this[_i];\n\n    if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {\n      for (var j = 0; j < _el.options.length; j += 1) {\n        _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;\n      }\n    } else {\n      _el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? duration + \"ms\" : duration;\n  }\n\n  return this;\n}\n\nfunction on() {\n  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    var target = e.target;\n    if (!target) return;\n    var eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      var _parents = $(target).parents(); // eslint-disable-line\n\n\n      for (var k = 0; k < _parents.length; k += 1) {\n        if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    var eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  var events = eventType.split(' ');\n  var j;\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        var event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener: listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        var _event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];\n\n        el.dom7LiveListeners[_event].push({\n          listener: listener,\n          proxyListener: handleLiveEvent\n        });\n\n        el.addEventListener(_event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  var events = eventType.split(' ');\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n      var handlers = void 0;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (var k = handlers.length - 1; k >= 0; k -= 1) {\n          var handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once() {\n  var dom = this;\n\n  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    args[_key7] = arguments[_key7];\n  }\n\n  var eventName = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventName = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  function onceHandler() {\n    for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      eventArgs[_key8] = arguments[_key8];\n    }\n\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger() {\n  var window = getWindow();\n\n  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n    args[_key9] = arguments[_key9];\n  }\n\n  var events = args[0].split(' ');\n  var eventData = args[1];\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n\n      if (window.CustomEvent) {\n        var evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter(function (data, dataIndex) {\n          return dataIndex > 0;\n        });\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles = this.styles();\n\n      return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles2 = this.styles();\n\n      return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    var window = getWindow();\n    var document = getDocument();\n    var el = this[0];\n    var box = el.getBoundingClientRect();\n    var body = document.body;\n    var clientTop = el.clientTop || body.clientTop || 0;\n    var clientLeft = el.clientLeft || body.clientLeft || 0;\n    var scrollTop = el === window ? window.scrollY : el.scrollTop;\n    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  var window = getWindow();\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  var window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  var window = getWindow();\n  var i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (var _prop in props) {\n          this[i].style[_prop] = props[_prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach(function (el, index) {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  var result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  var window = getWindow();\n  var document = getDocument();\n  var el = this[0];\n  var compareWith;\n  var i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  var child = this[0];\n  var i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  var length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    var returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append() {\n  var newChild;\n  var document = getDocument();\n\n  for (var k = 0; k < arguments.length; k += 1) {\n    newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (var j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  var document = getDocument();\n  var i;\n  var j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  var before = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (var j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  var after = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (var j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  var nextEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    var _next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_next).is(selector)) nextEls.push(_next);\n    } else nextEls.push(_next);\n\n    el = _next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    var el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  var prevEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    var _prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_prev).is(selector)) prevEls.push(_prev);\n    } else prevEls.push(_prev);\n\n    el = _prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var _parent = this[i].parentNode; // eslint-disable-line\n\n    while (_parent) {\n      if (selector) {\n        if ($(_parent).is(selector)) parents.push(_parent);\n      } else {\n        parents.push(_parent);\n      }\n\n      _parent = _parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  var closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  var foundElements = [];\n\n  for (var i = 0; i < this.length; i += 1) {\n    var found = this[i].querySelectorAll(selector);\n\n    for (var j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  var children = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var childNodes = this[i].children;\n\n    for (var j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add() {\n  var dom = this;\n  var i;\n  var j;\n\n  for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n    els[_key10] = arguments[_key10];\n  }\n\n  for (i = 0; i < els.length; i += 1) {\n    var toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.nodeType === 1) {\n      for (var j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\nfunction scrollTo() {\n  var window = getWindow();\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var left = args[0],\n      top = args[1],\n      duration = args[2],\n      easing = args[3],\n      callback = args[4];\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    left = args[0];\n    top = args[1];\n    duration = args[2];\n    callback = args[3];\n    easing = args[4];\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    var el = this;\n    var currentTop;\n    var currentLeft;\n    var maxTop;\n    var maxLeft;\n    var newTop;\n    var newLeft;\n    var scrollTop; // eslint-disable-line\n\n    var scrollLeft; // eslint-disable-line\n\n    var animateTop = top > 0 || top === 0;\n    var animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    var startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time) {\n      if (time === void 0) {\n        time = new Date().getTime();\n      }\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      var done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var top = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    top = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft() {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  var left = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    left = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\nfunction animate(initialProps, initialParams) {\n  var window = getWindow();\n  var els = this;\n  var a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n    easingProgress: function easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n    stop: function stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done: function done(complete) {\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        var que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate: function animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      var elements = []; // Define & Cache Initials & Units\n\n      a.elements.each(function (el, index) {\n        var initialFullValue;\n        var initialValue;\n        var unit;\n        var finalValue;\n        var finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(function (prop) {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue: initialFullValue,\n            initialValue: initialValue,\n            unit: unit,\n            finalValue: finalValue,\n            finalFullValue: finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      var startTime = null;\n      var time;\n      var elementsDone = 0;\n      var propsDone = 0;\n      var done;\n      var began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        var progress;\n        var easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(function (element) {\n          var el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(function (prop) {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            var _el$prop = el[prop],\n                initialValue = _el$prop.initialValue,\n                finalValue = _el$prop.finalValue,\n                unit = _el$prop.unit;\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            var currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  var animateInstance;\n\n  for (var i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  var els = this;\n\n  for (var i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nvar noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'undefined') {\n      for (var i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on.apply(this, [name].concat(args));\n  }\n\n  return eventHandler;\n}\n\nvar click = shortcut('click');\nvar blur = shortcut('blur');\nvar focus = shortcut('focus');\nvar focusin = shortcut('focusin');\nvar focusout = shortcut('focusout');\nvar keyup = shortcut('keyup');\nvar keydown = shortcut('keydown');\nvar keypress = shortcut('keypress');\nvar submit = shortcut('submit');\nvar change = shortcut('change');\nvar mousedown = shortcut('mousedown');\nvar mousemove = shortcut('mousemove');\nvar mouseup = shortcut('mouseup');\nvar mouseenter = shortcut('mouseenter');\nvar mouseleave = shortcut('mouseleave');\nvar mouseout = shortcut('mouseout');\nvar mouseover = shortcut('mouseover');\nvar touchstart = shortcut('touchstart');\nvar touchend = shortcut('touchend');\nvar touchmove = shortcut('touchmove');\nvar resize = shortcut('resize');\nvar scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nvar Methods = {\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  toggleClass: toggleClass,\n  attr: attr,\n  removeAttr: removeAttr,\n  transform: transform,\n  transition: transition,\n  on: on,\n  off: off,\n  trigger: trigger,\n  transitionEnd: transitionEnd,\n  outerWidth: outerWidth,\n  outerHeight: outerHeight,\n  styles: styles,\n  offset: offset,\n  css: css,\n  each: each,\n  html: html,\n  text: text,\n  is: is,\n  index: index,\n  eq: eq,\n  append: append,\n  prepend: prepend,\n  next: next,\n  nextAll: nextAll,\n  prev: prev,\n  prevAll: prevAll,\n  parent: parent,\n  parents: parents,\n  closest: closest,\n  find: find,\n  children: children,\n  filter: filter,\n  remove: remove\n};\nObject.keys(Methods).forEach(function (methodName) {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow, getDocument } from 'ssr-window';\nvar support;\n\nfunction calcSupport() {\n  var window = getWindow();\n  var document = getDocument();\n  return {\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    pointerEvents: !!window.PointerEvent && 'maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints >= 0,\n    observer: function checkObserver() {\n      return 'MutationObserver' in window || 'WebkitMutationObserver' in window;\n    }(),\n    passiveListener: function checkPassiveListener() {\n      var supportsPassive = false;\n\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get: function get() {\n            supportsPassive = true;\n          }\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support';\nvar device;\n\nfunction calcDevice(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      userAgent = _ref.userAgent;\n\n  var support = getSupport();\n  var window = getWindow();\n  var platform = window.navigator.platform;\n  var ua = userAgent || window.navigator.userAgent;\n  var device = {\n    ios: false,\n    android: false\n  };\n  var screenWidth = window.screen.width;\n  var screenHeight = window.screen.height;\n  var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  var windows = platform === 'Win32';\n  var macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  var iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(screenWidth + \"x\" + screenHeight) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!device) {\n    device = calcDevice(overrides);\n  }\n\n  return device;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nvar browser;\n\nfunction calcBrowser() {\n  var window = getWindow();\n\n  function isSafari() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isEdge: !!window.navigator.userAgent.match(/Edge/g),\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getDocument, getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  var object = obj;\n  Object.keys(object).forEach(function (key) {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  var window = getWindow();\n  var style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  var window = getWindow();\n  var matrix;\n  var curTransform;\n  var transformMatrix;\n  var curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(function (a) {\n        return a.replace(',', '.');\n      }).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  var to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  var noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (var i = 1; i < arguments.length; i += 1) {\n    var nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      var keysArray = Object.keys(Object(nextSource)).filter(function (key) {\n        return noExtend.indexOf(key) < 0;\n      });\n\n      for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        var nextKey = keysArray[nextIndex];\n        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction bindModuleMethods(instance, obj) {\n  Object.keys(obj).forEach(function (key) {\n    if (isObject(obj[key])) {\n      Object.keys(obj[key]).forEach(function (subKey) {\n        if (typeof obj[key][subKey] === 'function') {\n          obj[key][subKey] = obj[key][subKey].bind(instance);\n        }\n      });\n    }\n\n    instance[key] = obj[key];\n  });\n}\n\nfunction classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return \".\" + classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.');\n}\n\nfunction createElementIfNotDefined($container, params, createElements, checkProps) {\n  var document = getDocument();\n\n  if (createElements) {\n    Object.keys(checkProps).forEach(function (key) {\n      if (!params[key] && params.auto === true) {\n        var element = document.createElement('div');\n        element.className = checkProps[key];\n        $container.append(element);\n        params[key] = element;\n      }\n    });\n  }\n\n  return params;\n}\n\nexport { deleteProps, nextTick, now, getTranslate, isObject, extend, bindModuleMethods, getComputedStyle, classesToSelector, createElementIfNotDefined };","import { getWindow } from 'ssr-window';\nimport { extend } from '../../utils/utils';\n\nvar supportsResizeObserver = function supportsResizeObserver() {\n  var window = getWindow();\n  return typeof window.ResizeObserver !== 'undefined';\n};\n\nexport default {\n  name: 'resize',\n  create: function create() {\n    var swiper = this;\n    extend(swiper, {\n      resize: {\n        observer: null,\n        createObserver: function createObserver() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.resize.observer = new ResizeObserver(function (entries) {\n            var width = swiper.width,\n                height = swiper.height;\n            var newWidth = width;\n            var newHeight = height;\n            entries.forEach(function (_ref) {\n              var contentBoxSize = _ref.contentBoxSize,\n                  contentRect = _ref.contentRect,\n                  target = _ref.target;\n              if (target && target !== swiper.el) return;\n              newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n              newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n              swiper.resize.resizeHandler();\n            }\n          });\n          swiper.resize.observer.observe(swiper.el);\n        },\n        removeObserver: function removeObserver() {\n          if (swiper.resize.observer && swiper.resize.observer.unobserve && swiper.el) {\n            swiper.resize.observer.unobserve(swiper.el);\n            swiper.resize.observer = null;\n          }\n        },\n        resizeHandler: function resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler: function orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        }\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      var window = getWindow();\n\n      if (swiper.params.resizeObserver && supportsResizeObserver()) {\n        swiper.resize.createObserver();\n        return;\n      } // Emit resize\n\n\n      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange\n\n      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy: function destroy(swiper) {\n      var window = getWindow();\n      swiper.resize.removeObserver();\n      window.removeEventListener('resize', swiper.resize.resizeHandler);\n      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Observer = {\n  attach: function attach(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var window = getWindow();\n    var swiper = this;\n    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    var observer = new ObserverFunc(function (mutations) {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        swiper.emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      var observerUpdate = function observerUpdate() {\n        swiper.emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    swiper.observer.observers.push(observer);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.support.observer || !swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      var containerParents = swiper.$el.parents();\n\n      for (var i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    swiper.observer.attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    swiper.observer.attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.observer.observers.forEach(function (observer) {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  }\n};\nexport default {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      observer: _extends({}, Observer, {\n        observers: []\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.observer.init();\n    },\n    destroy: function destroy(swiper) {\n      swiper.observer.destroy();\n    }\n  }\n};","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    var found = el.closest(selector);\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  var swiper = this;\n  var document = getDocument();\n  var window = getWindow();\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  var $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  var swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  var noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : \".\" + params.noSwipingClass;\n  var isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  var startX = touches.currentX;\n  var startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  var edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  var edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  extend(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    var preventDefault = true;\n    if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    var shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils';\nexport default function onTouchMove(event) {\n  var document = getDocument();\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../../utils/utils';\nexport default function onTouchEnd(event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      $wrapperEl = swiper.$wrapperEl,\n      slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  var touchEndTime = now();\n  var timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(function () {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  var currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data.velocities.length > 1) {\n        var lastMoveEvent = data.velocities.pop();\n        var velocityEvent = data.velocities.pop();\n        var distance = lastMoveEvent.position - velocityEvent.position;\n        var time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n      data.velocities.length = 0;\n      var momentumDuration = 1000 * params.freeModeMomentumRatio;\n      var momentumDistance = swiper.velocity * momentumDuration;\n      var newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      var doBounce = false;\n      var afterBouncePosition;\n      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      var needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeModeSticky) {\n        var nextSlide;\n\n        for (var j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        swiper.once('transitionEnd', function () {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeModeSticky) {\n          // If freeModeSticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          var moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          var currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(function () {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          swiper.emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(function () {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(function () {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(function () {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeModeSticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      swiper.emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    return;\n  } // Find current slide\n\n\n  var stopIndex = 0;\n  var groupSize = swiper.slidesSizesGrid[0];\n\n  for (var i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    var _increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + _increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + _increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + _increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  } // Find current slide size\n\n\n  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  var increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    var isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  var swiper = this;\n  var params = swiper.params,\n      el = swiper.el;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  var allowSlideNext = swiper.allowSlideNext,\n      allowSlidePrev = swiper.allowSlidePrev,\n      snapGrid = swiper.snapGrid; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  var swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  var swiper = this;\n  var wrapperEl = swiper.wrapperEl,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    if (rtlTranslate) {\n      swiper.translate = wrapperEl.scrollWidth - wrapperEl.offsetWidth - wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollLeft;\n    }\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === -0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart';\nimport onTouchMove from './onTouchMove';\nimport onTouchEnd from './onTouchEnd';\nimport onResize from './onResize';\nimport onClick from './onClick';\nimport onScroll from './onScroll';\nvar dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nfunction attachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.addEventListener(touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture: capture\n      } : capture);\n      el.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.addEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n\n      if (!dummyEventAttached) {\n        document.addEventListener('touchstart', dummyEventListener);\n        dummyEventAttached = true;\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.addEventListener('mousedown', swiper.onTouchStart, false);\n      document.addEventListener('mousemove', swiper.onTouchMove, capture);\n      document.addEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.addEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.addEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper.on(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper.on('observerUpdate', onResize, true);\n  }\n}\n\nfunction detachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'onTouchStart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      el.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.removeEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.removeEventListener('mousedown', swiper.onTouchStart, false);\n      document.removeEventListener('mousemove', swiper.onTouchMove, capture);\n      document.removeEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.removeEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.removeEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  swiper.off(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize);\n}\n\nexport default {\n  attachEvents: attachEvents,\n  detachEvents: detachEvents\n};","function checkOverflow() {\n  var swiper = this;\n  var params = swiper.params;\n  var wasLocked = swiper.isLocked;\n  var lastSlidePosition = swiper.slides.length > 0 && params.slidesOffsetBefore + params.spaceBetween * (swiper.slides.length - 1) + swiper.slides[0].offsetWidth * swiper.slides.length;\n\n  if (params.slidesOffsetBefore && params.slidesOffsetAfter && lastSlidePosition) {\n    swiper.isLocked = lastSlidePosition <= swiper.size;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  swiper.allowSlideNext = !swiper.isLocked;\n  swiper.allowSlidePrev = !swiper.isLocked; // events\n\n  if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n    if (swiper.navigation) swiper.navigation.update();\n  }\n}\n\nexport default {\n  checkOverflow: checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: false,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: false,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  // NS\n  containerModifierClass: 'swiper-container-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, now, deleteProps } from '../../utils/utils';\nimport { getSupport } from '../../utils/get-support';\nimport { getDevice } from '../../utils/get-device';\nimport { getBrowser } from '../../utils/get-browser';\nimport Resize from '../../modules/resize/resize';\nimport Observer from '../../modules/observer/observer';\nimport modular from './modular';\nimport eventsEmitter from './events-emitter';\nimport update from './update/index';\nimport translate from './translate/index';\nimport transition from './transition/index';\nimport slide from './slide/index';\nimport loop from './loop/index';\nimport grabCursor from './grab-cursor/index';\nimport manipulation from './manipulation/index';\nimport events from './events/index';\nimport breakpoints from './breakpoints/index';\nimport classes from './classes/index';\nimport images from './images/index';\nimport checkOverflow from './check-overflow/index';\nimport defaults from './defaults';\nvar prototypes = {\n  modular: modular,\n  eventsEmitter: eventsEmitter,\n  update: update,\n  translate: translate,\n  transition: transition,\n  slide: slide,\n  loop: loop,\n  grabCursor: grabCursor,\n  manipulation: manipulation,\n  events: events,\n  breakpoints: breakpoints,\n  checkOverflow: checkOverflow,\n  classes: classes,\n  images: images\n};\nvar extendedDefaults = {};\n\nvar Swiper = /*#__PURE__*/function () {\n  function Swiper() {\n    var el;\n    var params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      el = args[0];\n      params = args[1];\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      var swipers = [];\n      $(params.el).each(function (containerEl) {\n        var newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    var swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n\n    if (typeof swiper.modules === 'undefined') {\n      swiper.modules = {};\n    }\n\n    Object.keys(swiper.modules).forEach(function (moduleName) {\n      var module = swiper.modules[moduleName];\n\n      if (module.params) {\n        var moduleParamName = Object.keys(module.params)[0];\n        var moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object' || moduleParams === null) return;\n\n        if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            auto: true\n          };\n        }\n\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;\n\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            enabled: true\n          };\n        }\n\n        if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n          params[moduleParamName].enabled = true;\n        }\n\n        if (!params[moduleParamName]) params[moduleParamName] = {\n          enabled: false\n        };\n      }\n    }); // Extend defaults with modules params\n\n    var swiperParams = extend({}, defaults);\n    swiper.useParams(swiperParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(function (eventName) {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    extend(swiper, {\n      enabled: swiper.params.enabled,\n      el: el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal: function isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical: function isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        var touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        var desktop = ['mousedown', 'mousemove', 'mouseup'];\n\n        if (swiper.support.pointerEvents) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        }\n\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    }); // Install Modules\n\n    swiper.useModules();\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  var _proto = Swiper.prototype;\n\n  _proto.enable = function enable() {\n    var swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  };\n\n  _proto.disable = function disable() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  };\n\n  _proto.setProgress = function setProgress(progress, speed) {\n    var swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    var min = swiper.minTranslate();\n    var max = swiper.maxTranslate();\n    var current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  };\n\n  _proto.emitContainerClasses = function emitContainerClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var classes = swiper.el.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-container') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', classes.join(' '));\n  };\n\n  _proto.getSlideClasses = function getSlideClasses(slideEl) {\n    var swiper = this;\n    return slideEl.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  };\n\n  _proto.emitSlidesClasses = function emitSlidesClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var updates = [];\n    swiper.slides.each(function (slideEl) {\n      var classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl: slideEl,\n        classNames: classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  };\n\n  _proto.slidesPerViewDynamic = function slidesPerViewDynamic() {\n    var swiper = this;\n    var params = swiper.params,\n        slides = swiper.slides,\n        slidesGrid = swiper.slidesGrid,\n        swiperSize = swiper.size,\n        activeIndex = swiper.activeIndex;\n    var spv = 1;\n\n    if (params.centeredSlides) {\n      var slideSize = slides[activeIndex].swiperSlideSize;\n      var breakLoop;\n\n      for (var i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (var _i = activeIndex - 1; _i >= 0; _i -= 1) {\n        if (slides[_i] && !breakLoop) {\n          slideSize += slides[_i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      for (var _i2 = activeIndex + 1; _i2 < slides.length; _i2 += 1) {\n        if (slidesGrid[_i2] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n\n    return spv;\n  };\n\n  _proto.update = function update() {\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var snapGrid = swiper.snapGrid,\n        params = swiper.params; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      var translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    var translated;\n\n    if (swiper.params.freeMode) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  };\n\n  _proto.changeDirection = function changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    var swiper = this;\n    var currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(\"\" + swiper.params.containerModifierClass + currentDirection).addClass(\"\" + swiper.params.containerModifierClass + newDirection);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(function (slideEl) {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  };\n\n  _proto.mount = function mount(el) {\n    var swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    var $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    var getWrapperSelector = function getWrapperSelector() {\n      return \".\" + (swiper.params.wrapperClass || '').trim().split(' ').join('.');\n    };\n\n    var getWrapper = function getWrapper() {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        var res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = function (options) {\n          return $el.children(options);\n        };\n\n        return res;\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    var $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      var document = getDocument();\n      var wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(\".\" + swiper.params.slideClass).each(function (slideEl) {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    extend(swiper, {\n      $el: $el,\n      el: el,\n      $wrapperEl: $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  };\n\n  _proto.init = function init(el) {\n    var swiper = this;\n    if (swiper.initialized) return swiper;\n    var mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  };\n\n  _proto.destroy = function destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params,\n        $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(function (eventName) {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  };\n\n  Swiper.extendDefaults = function extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  };\n\n  Swiper.installModule = function installModule(module) {\n    if (!Swiper.prototype.modules) Swiper.prototype.modules = {};\n    var name = module.name || Object.keys(Swiper.prototype.modules).length + \"_\" + now();\n    Swiper.prototype.modules[name] = module;\n  };\n\n  Swiper.use = function use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(function (m) {\n        return Swiper.installModule(m);\n      });\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  };\n\n  _createClass(Swiper, null, [{\n    key: \"extendedDefaults\",\n    get: function get() {\n      return extendedDefaults;\n    }\n  }, {\n    key: \"defaults\",\n    get: function get() {\n      return defaults;\n    }\n  }]);\n\n  return Swiper;\n}();\n\nObject.keys(prototypes).forEach(function (prototypeGroup) {\n  Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import { extend } from '../../utils/utils';\nexport default {\n  useParams: function useParams(instanceParams) {\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName]; // Extend params\n\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  },\n  useModules: function useModules(modulesParams) {\n    if (modulesParams === void 0) {\n      modulesParams = {};\n    }\n\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName];\n      var moduleParams = modulesParams[moduleName] || {}; // Add event listeners\n\n      if (module.on && instance.on) {\n        Object.keys(module.on).forEach(function (moduleEventName) {\n          instance.on(moduleEventName, module.on[moduleEventName]);\n        });\n      } // Module create callback\n\n\n      if (module.create) {\n        module.create.bind(instance)(moduleParams);\n      }\n    });\n  }\n};","/* eslint-disable no-underscore-dangle */\nexport default {\n  on: function on(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(function (event) {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once: function once(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny: function onAny(handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n  offAny: function offAny(handler) {\n    var self = this;\n    if (!self.eventsAnyListeners) return self;\n    var index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n  off: function off(events, handler) {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(function (event) {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler, index) {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit: function emit() {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    var events;\n    var data;\n    var context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    var eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(function (event) {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(function (eventHandler) {\n          eventHandler.apply(context, [event].concat(data));\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler) {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};","import updateSize from './updateSize';\nimport updateSlides from './updateSlides';\nimport updateAutoHeight from './updateAutoHeight';\nimport updateSlidesOffset from './updateSlidesOffset';\nimport updateSlidesProgress from './updateSlidesProgress';\nimport updateProgress from './updateProgress';\nimport updateSlidesClasses from './updateSlidesClasses';\nimport updateActiveIndex from './updateActiveIndex';\nimport updateClickedSlide from './updateClickedSlide';\nexport default {\n  updateSize: updateSize,\n  updateSlides: updateSlides,\n  updateAutoHeight: updateAutoHeight,\n  updateSlidesOffset: updateSlidesOffset,\n  updateSlidesProgress: updateSlidesProgress,\n  updateProgress: updateProgress,\n  updateSlidesClasses: updateSlidesClasses,\n  updateActiveIndex: updateActiveIndex,\n  updateClickedSlide: updateClickedSlide\n};","import { extend } from '../../../utils/utils';\nexport default function updateSize() {\n  var swiper = this;\n  var width;\n  var height;\n  var $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  extend(swiper, {\n    width: width,\n    height: height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { extend } from '../../../utils/utils';\nexport default function updateSlides() {\n  var swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl,\n      swiperSize = swiper.size,\n      rtl = swiper.rtlTranslate,\n      wrongRTL = swiper.wrongRTL;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  var previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  var slides = $wrapperEl.children(\".\" + swiper.params.slideClass);\n  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  var snapGrid = [];\n  var slidesGrid = [];\n  var slidesSizesGrid = [];\n  var offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  var offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  var previousSnapGridLength = swiper.snapGrid.length;\n  var previousSlidesGridLength = swiper.slidesGrid.length;\n  var spaceBetween = params.spaceBetween;\n  var slidePosition = -offsetBefore;\n  var prevSlideSize = 0;\n  var index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  });\n  var slidesNumberEvenToRows;\n\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  } // Calc slides\n\n\n  var slideSize;\n  var slidesPerColumn = params.slidesPerColumn;\n  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  var numFullColumns = Math.floor(slidesLength / params.slidesPerColumn);\n\n  for (var i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    var slide = slides.eq(i);\n\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      var newSlideOrderIndex = void 0;\n      var column = void 0;\n      var row = void 0;\n\n      if (params.slidesPerColumnFill === 'row' && params.slidesPerGroup > 1) {\n        var groupIndex = Math.floor(i / (params.slidesPerGroup * params.slidesPerColumn));\n        var slideIndexInGroup = i - params.slidesPerColumn * params.slidesPerGroup * groupIndex;\n        var columnsInGroup = groupIndex === 0 ? params.slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * slidesPerColumn * params.slidesPerGroup) / slidesPerColumn), params.slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * params.slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n        slide.css({\n          '-webkit-box-ordinal-group': newSlideOrderIndex,\n          '-moz-box-ordinal-group': newSlideOrderIndex,\n          '-ms-flex-order': newSlideOrderIndex,\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - column * slidesPerColumn;\n\n        if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {\n          row += 1;\n\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(getDirectionLabel('margin-top'), row !== 0 ? params.spaceBetween && params.spaceBetween + \"px\" : '');\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      var slideStyles = getComputedStyle(slide[0]);\n      var currentTransform = slide[0].style.transform;\n      var currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        var width = getDirectionPropertyValue(slideStyles, 'width');\n        var paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        var paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        var marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        var marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        var boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          var _slide$ = slide[0],\n              clientWidth = _slide$.clientWidth,\n              offsetWidth = _slide$.offsetWidth;\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = slideSize + \"px\";\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  var newSlidesGrid;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: swiper.virtualSize + params.spaceBetween + \"px\"\n    });\n  }\n\n  if (params.setWrapperSize) {\n    var _$wrapperEl$css;\n\n    $wrapperEl.css((_$wrapperEl$css = {}, _$wrapperEl$css[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css));\n  }\n\n  if (params.slidesPerColumn > 1) {\n    var _$wrapperEl$css2;\n\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    $wrapperEl.css((_$wrapperEl$css2 = {}, _$wrapperEl$css2[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css2));\n\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n\n      for (var _i = 0; _i < snapGrid.length; _i += 1) {\n        var slidesGridItem = snapGrid[_i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[_i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid = newSlidesGrid;\n    }\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n\n    for (var _i2 = 0; _i2 < snapGrid.length; _i2 += 1) {\n      var _slidesGridItem = snapGrid[_i2];\n      if (params.roundLengths) _slidesGridItem = Math.floor(_slidesGridItem);\n\n      if (snapGrid[_i2] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(_slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    var _slides$filter$css;\n\n    var key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter(function (_, slideIndex) {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css((_slides$filter$css = {}, _slides$filter$css[key] = spaceBetween + \"px\", _slides$filter$css));\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    var allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    var maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(function (snap) {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    var _allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      _allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    _allSlidesSize -= params.spaceBetween;\n\n    if (_allSlidesSize < swiperSize) {\n      var allSlidesOffset = (swiperSize - _allSlidesSize) / 2;\n      snapGrid.forEach(function (snap, snapIndex) {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach(function (snap, snapIndex) {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  extend(swiper, {\n    slides: slides,\n    snapGrid: snapGrid,\n    slidesGrid: slidesGrid,\n    slidesSizesGrid: slidesSizesGrid\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n}","export default function updateAutoHeight(speed) {\n  var swiper = this;\n  var activeSlides = [];\n  var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  var newHeight = 0;\n  var i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  var getSlideByIndex = function getSlideByIndex(index) {\n    if (isVirtual) {\n      return swiper.slides.filter(function (el) {\n        return parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index;\n      })[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      swiper.visibleSlides.each(function (slide) {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        var index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      var height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight) swiper.$wrapperEl.css('height', newHeight + \"px\");\n}","export default function updateSlidesOffset() {\n  var swiper = this;\n  var slides = swiper.slides;\n\n  for (var i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  var swiper = this;\n  var params = swiper.params;\n  var slides = swiper.slides,\n      rtl = swiper.rtlTranslate;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  var offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (var i = 0; i < slides.length; i += 1) {\n    var slide = slides[i];\n    var slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n\n    if (params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) {\n      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      var isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","import { extend } from '../../../utils/utils';\nexport default function updateProgress(translate) {\n  var swiper = this;\n\n  if (typeof translate === 'undefined') {\n    var multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  var params = swiper.params;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  var progress = swiper.progress,\n      isBeginning = swiper.isBeginning,\n      isEnd = swiper.isEnd;\n  var wasBeginning = isBeginning;\n  var wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  extend(swiper, {\n    progress: progress,\n    isBeginning: isBeginning,\n    isEnd: isEnd\n  });\n  if (params.watchSlidesProgress || params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  var swiper = this;\n  var slides = swiper.slides,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex,\n      realIndex = swiper.realIndex;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(params.slideActiveClass + \" \" + params.slideNextClass + \" \" + params.slidePrevClass + \" \" + params.slideDuplicateActiveClass + \" \" + params.slideDuplicateNextClass + \" \" + params.slideDuplicatePrevClass);\n  var activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + activeIndex + \"\\\"]\");\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  var nextSlide = activeSlide.nextAll(\".\" + params.slideClass).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  var prevSlide = activeSlide.prevAll(\".\" + params.slideClass).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","import { extend } from '../../../utils/utils';\nexport default function updateActiveIndex(newActiveIndex) {\n  var swiper = this;\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  var slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      params = swiper.params,\n      previousIndex = swiper.activeIndex,\n      previousRealIndex = swiper.realIndex,\n      previousSnapIndex = swiper.snapIndex;\n  var activeIndex = newActiveIndex;\n  var snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    var skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  extend(swiper, {\n    snapIndex: snapIndex,\n    realIndex: realIndex,\n    previousIndex: previousIndex,\n    activeIndex: activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateClickedSlide(e) {\n  var swiper = this;\n  var params = swiper.params;\n  var slide = $(e.target).closest(\".\" + params.slideClass)[0];\n  var slideFound = false;\n  var slideIndex;\n\n  if (slide) {\n    for (var i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import getTranslate from './getTranslate';\nimport setTranslate from './setTranslate';\nimport minTranslate from './minTranslate';\nimport maxTranslate from './maxTranslate';\nimport translateTo from './translateTo';\nexport default {\n  getTranslate: getTranslate,\n  setTranslate: setTranslate,\n  minTranslate: minTranslate,\n  maxTranslate: maxTranslate,\n  translateTo: translateTo\n};","import { getTranslate } from '../../../utils/utils';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      rtl = swiper.rtlTranslate,\n      translate = swiper.translate,\n      $wrapperEl = swiper.$wrapperEl;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  var currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  var swiper = this;\n  var rtl = swiper.rtlTranslate,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      wrapperEl = swiper.wrapperEl,\n      progress = swiper.progress;\n  var x = 0;\n  var y = 0;\n  var z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(\"translate3d(\" + x + \"px, \" + y + \"px, \" + z + \"px)\");\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","export default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      wrapperEl = swiper.wrapperEl;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  var minTranslate = swiper.minTranslate();\n  var maxTranslate = swiper.maxTranslate();\n  var newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = -newTranslate, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import setTransition from './setTransition';\nimport transitionStart from './transitionStart';\nimport transitionEnd from './transitionEnd';\nexport default {\n  setTransition: setTransition,\n  transitionStart: transitionStart,\n  transitionEnd: transitionEnd\n};","export default function setTransition(duration, byController) {\n  var swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      params = swiper.params,\n      previousIndex = swiper.previousIndex;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionStart');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionStart');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionStart');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n}","export default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      previousIndex = swiper.previousIndex,\n      params = swiper.params;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionEnd');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionEnd');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionEnd');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionEnd');\n    } else {\n      swiper.emit('slidePrevTransitionEnd');\n    }\n  }\n}","import slideTo from './slideTo';\nimport slideToLoop from './slideToLoop';\nimport slideNext from './slideNext';\nimport slidePrev from './slidePrev';\nimport slideReset from './slideReset';\nimport slideToClosest from './slideToClosest';\nimport slideToClickedSlide from './slideToClickedSlide';\nexport default {\n  slideTo: slideTo,\n  slideToLoop: slideToLoop,\n  slideNext: slideNext,\n  slidePrev: slidePrev,\n  slideReset: slideReset,\n  slideToClosest: slideToClosest,\n  slideToClickedSlide: slideToClickedSlide\n};","export default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(\"The 'index' argument cannot have type other than 'number' or 'string'. [\" + typeof index + \"] given.\");\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    var indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    var isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(\"The passed-in 'index' (string) couldn't be converted to 'number'. [\" + index + \"] given.\");\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  var swiper = this;\n  var slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  var params = swiper.params,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      previousIndex = swiper.previousIndex,\n      activeIndex = swiper.activeIndex,\n      rtl = swiper.rtlTranslate,\n      wrapperEl = swiper.wrapperEl,\n      enabled = swiper.enabled;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  var snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  var translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      var normalizedTranslate = -Math.floor(translate * 100);\n      var normalizedGird = Math.floor(slidesGrid[i] * 100);\n      var normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGird) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGird) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  var direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n    var t = -translate;\n\n    if (rtl) {\n      t = wrapperEl.scrollWidth - wrapperEl.offsetWidth - t;\n    }\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = t, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n    swiper.transitionEnd(runCallbacks, direction);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onSlideToWrapperTransitionEnd) {\n        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n          swiper.onSlideToWrapperTransitionEnd = null;\n          delete swiper.onSlideToWrapperTransitionEnd;\n          swiper.transitionEnd(runCallbacks, direction);\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n  var increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  var translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  var normalizedTranslate = normalize(translate);\n  var normalizedSnapGrid = snapGrid.map(function (val) {\n    return normalize(val);\n  });\n  var prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    snapGrid.forEach(function (snap) {\n      if (!prevSnap && normalizedTranslate >= snap) prevSnap = snap;\n    });\n  }\n\n  var prevIndex;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  var swiper = this;\n  var index = swiper.activeIndex;\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  var snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    var currentSnap = swiper.snapGrid[snapIndex];\n    var nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    var prevSnap = swiper.snapGrid[snapIndex - 1];\n    var _currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (_currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../../utils/dom';\nimport { nextTick } from '../../../utils/utils';\nexport default function slideToClickedSlide() {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl;\n  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  var slideToIndex = swiper.clickedIndex;\n  var realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n        nextTick(function () {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n      nextTick(function () {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate';\nimport loopFix from './loopFix';\nimport loopDestroy from './loopDestroy';\nexport default {\n  loopCreate: loopCreate,\n  loopFix: loopFix,\n  loopDestroy: loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loopCreate() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl; // Remove duplicated slides\n\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass).remove();\n  var slides = $wrapperEl.children(\".\" + params.slideClass);\n\n  if (params.loopFillGroupWithBlank) {\n    var blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (var i = 0; i < blankSlidesNum; i += 1) {\n        var blankNode = $(document.createElement('div')).addClass(params.slideClass + \" \" + params.slideBlankClass);\n        $wrapperEl.append(blankNode);\n      }\n\n      slides = $wrapperEl.children(\".\" + params.slideClass);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  var prependSlides = [];\n  var appendSlides = [];\n  slides.each(function (el, index) {\n    var slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (var _i = 0; _i < appendSlides.length; _i += 1) {\n    $wrapperEl.append($(appendSlides[_i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (var _i2 = prependSlides.length - 1; _i2 >= 0; _i2 -= 1) {\n    $wrapperEl.prepend($(prependSlides[_i2].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  var swiper = this;\n  swiper.emit('beforeLoopFix');\n  var activeIndex = swiper.activeIndex,\n      slides = swiper.slides,\n      loopedSlides = swiper.loopedSlides,\n      allowSlidePrev = swiper.allowSlidePrev,\n      allowSlideNext = swiper.allowSlideNext,\n      snapGrid = swiper.snapGrid,\n      rtl = swiper.rtlTranslate;\n  var newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  var snapTranslate = -snapGrid[activeIndex];\n  var diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    var slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n\n    var _slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (_slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      slides = swiper.slides;\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \",.\" + params.slideClass + \".\" + params.slideBlankClass).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import setGrabCursor from './setGrabCursor';\nimport unsetGrabCursor from './unsetGrabCursor';\nexport default {\n  setGrabCursor: setGrabCursor,\n  unsetGrabCursor: unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  var swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  var el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  var swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper.el.style.cursor = '';\n}","import appendSlide from './appendSlide';\nimport prependSlide from './prependSlide';\nimport addSlide from './addSlide';\nimport removeSlide from './removeSlide';\nimport removeAllSlides from './removeAllSlides';\nexport default {\n  appendSlide: appendSlide,\n  prependSlide: prependSlide,\n  addSlide: addSlide,\n  removeSlide: removeSlide,\n  removeAllSlides: removeAllSlides\n};","export default function appendSlide(slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  var newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  var newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  var slidesBuffer = [];\n\n  for (var i = baseLength - 1; i >= index; i -= 1) {\n    var currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (slides[_i]) $wrapperEl.append(slides[_i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (var _i2 = 0; _i2 < slidesBuffer.length; _i2 += 1) {\n    $wrapperEl.append(slidesBuffer[_i2]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var newActiveIndex = activeIndexBuffer;\n  var indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (var i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  var swiper = this;\n  var slidesIndexes = [];\n\n  for (var i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import setBreakpoint from './setBreakpoint';\nimport getBreakpoint from './getBreakpoint';\nexport default {\n  setBreakpoint: setBreakpoint,\n  getBreakpoint: getBreakpoint\n};","import { extend } from '../../../utils/utils';\nexport default function setBreakpoint() {\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      initialized = swiper.initialized,\n      _swiper$loopedSlides = swiper.loopedSlides,\n      loopedSlides = _swiper$loopedSlides === void 0 ? 0 : _swiper$loopedSlides,\n      params = swiper.params,\n      $el = swiper.$el;\n  var breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  var breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  var breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n\n  if (breakpointOnlyParams) {\n    ['slidesPerView', 'spaceBetween', 'slidesPerGroup', 'slidesPerGroupSkip', 'slidesPerColumn'].forEach(function (param) {\n      var paramValue = breakpointOnlyParams[param];\n      if (typeof paramValue === 'undefined') return;\n\n      if (param === 'slidesPerView' && (paramValue === 'AUTO' || paramValue === 'auto')) {\n        breakpointOnlyParams[param] = 'auto';\n      } else if (param === 'slidesPerView') {\n        breakpointOnlyParams[param] = parseFloat(paramValue);\n      } else {\n        breakpointOnlyParams[param] = parseInt(paramValue, 10);\n      }\n    });\n  }\n\n  var breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  var wasMultiRow = params.slidesPerColumn > 1;\n  var isMultiRow = breakpointParams.slidesPerColumn > 1;\n  var wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(params.containerModifierClass + \"multirow \" + params.containerModifierClass + \"multirow-column\");\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(params.containerModifierClass + \"multirow\");\n\n    if (breakpointParams.slidesPerColumnFill && breakpointParams.slidesPerColumnFill === 'column' || !breakpointParams.slidesPerColumnFill && params.slidesPerColumnFill === 'column') {\n      $el.addClass(params.containerModifierClass + \"multirow-column\");\n    }\n\n    swiper.emitContainerClasses();\n  }\n\n  var directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  var needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  var isEnabled = swiper.params.enabled;\n  extend(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  var breakpoint = false;\n  var window = getWindow();\n  var currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  var points = Object.keys(breakpoints).map(function (point) {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      var minRatio = parseFloat(point.substr(1));\n      var value = currentHeight * minRatio;\n      return {\n        value: value,\n        point: point\n      };\n    }\n\n    return {\n      value: point,\n      point: point\n    };\n  });\n  points.sort(function (a, b) {\n    return parseInt(a.value, 10) - parseInt(b.value, 10);\n  });\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        point = _points$i.point,\n        value = _points$i.value;\n\n    if (base === 'window') {\n      if (window.matchMedia(\"(min-width: \" + value + \"px)\").matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import addClasses from './addClasses';\nimport removeClasses from './removeClasses';\nexport default {\n  addClasses: addClasses,\n  removeClasses: removeClasses\n};","function prepareClasses(entries, prefix) {\n  var resultClasses = [];\n  entries.forEach(function (item) {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(function (classNames) {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  var swiper = this;\n  var classNames = swiper.classNames,\n      params = swiper.params,\n      rtl = swiper.rtl,\n      $el = swiper.$el,\n      device = swiper.device,\n      support = swiper.support; // prettier-ignore\n\n  var suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': support.pointerEvents && !support.touch\n  }, {\n    'free-mode': params.freeMode\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'multirow': params.slidesPerColumn > 1\n  }, {\n    'multirow-column': params.slidesPerColumn > 1 && params.slidesPerColumnFill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }], params.containerModifierClass);\n  classNames.push.apply(classNames, suffixes);\n  $el.addClass([].concat(classNames).join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  var swiper = this;\n  var $el = swiper.$el,\n      classNames = swiper.classNames;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","import loadImage from './loadImage';\nimport preloadImages from './preloadImages';\nexport default {\n  loadImage: loadImage,\n  preloadImages: preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  var window = getWindow();\n  var image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  var isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  var swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    var imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Virtual = {\n  update: function update(force) {\n    var swiper = this;\n    var _swiper$params = swiper.params,\n        slidesPerView = _swiper$params.slidesPerView,\n        slidesPerGroup = _swiper$params.slidesPerGroup,\n        centeredSlides = _swiper$params.centeredSlides;\n    var _swiper$params$virtua = swiper.params.virtual,\n        addSlidesBefore = _swiper$params$virtua.addSlidesBefore,\n        addSlidesAfter = _swiper$params$virtua.addSlidesAfter;\n    var _swiper$virtual = swiper.virtual,\n        previousFrom = _swiper$virtual.from,\n        previousTo = _swiper$virtual.to,\n        slides = _swiper$virtual.slides,\n        previousSlidesGrid = _swiper$virtual.slidesGrid,\n        renderSlide = _swiper$virtual.renderSlide,\n        previousOffset = _swiper$virtual.offset;\n    swiper.updateActiveIndex();\n    var activeIndex = swiper.activeIndex || 0;\n    var offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    var slidesAfter;\n    var slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    var from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    extend(swiper.virtual, {\n      from: from,\n      to: to,\n      offset: offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, offset + \"px\");\n      }\n\n      swiper.updateProgress();\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset,\n        from: from,\n        to: to,\n        slides: function getSlides() {\n          var slidesToRender = [];\n\n          for (var i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      }\n\n      return;\n    }\n\n    var prependIndexes = [];\n    var appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(\".\" + swiper.params.slideClass).remove();\n    } else {\n      for (var i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + i + \"\\\"]\").remove();\n        }\n      }\n    }\n\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (_i >= from && _i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(_i);\n        } else {\n          if (_i > previousTo) appendIndexes.push(_i);\n          if (_i < previousFrom) prependIndexes.push(_i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(function (index) {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort(function (a, b) {\n      return b - a;\n    }).forEach(function (index) {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, offset + \"px\");\n    onRendered();\n  },\n  renderSlide: function renderSlide(slide, index) {\n    var swiper = this;\n    var params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    var $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(\"<div class=\\\"\" + swiper.params.slideClass + \"\\\" data-swiper-slide-index=\\\"\" + index + \"\\\">\" + slide + \"</div>\");\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  },\n  appendSlide: function appendSlide(slides) {\n    var swiper = this;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    swiper.virtual.update(true);\n  },\n  prependSlide: function prependSlide(slides) {\n    var swiper = this;\n    var activeIndex = swiper.activeIndex;\n    var newActiveIndex = activeIndex + 1;\n    var numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      var cache = swiper.virtual.cache;\n      var newCache = {};\n      Object.keys(cache).forEach(function (cachedIndex) {\n        var $cachedEl = cache[cachedIndex];\n        var cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + 1);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  },\n  removeSlide: function removeSlide(slidesIndexes) {\n    var swiper = this;\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    var activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (var i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(activeIndex, 0);\n  },\n  removeAllSlides: function removeAllSlides() {\n    var swiper = this;\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(0, 0);\n  }\n};\nexport default {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      virtual: _extends({}, Virtual, {\n        slides: swiper.params.virtual.slides,\n        cache: {}\n      })\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"virtual\");\n      var overwriteParams = {\n        watchSlidesProgress: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n\n      if (!swiper.params.initialSlide) {\n        swiper.virtual.update();\n      }\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.update();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Keyboard = {\n  handle: function handle(event) {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    var window = getWindow();\n    var document = getDocument();\n    var rtl = swiper.rtlTranslate;\n    var e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    var kc = e.keyCode || e.charCode;\n    var pageUpDown = swiper.params.keyboard.pageUpDown;\n    var isPageUp = pageUpDown && kc === 33;\n    var isPageDown = pageUpDown && kc === 34;\n    var isArrowLeft = kc === 37;\n    var isArrowRight = kc === 39;\n    var isArrowUp = kc === 38;\n    var isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      var inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(\".\" + swiper.params.slideClass).length > 0 && swiper.$el.parents(\".\" + swiper.params.slideActiveClass).length === 0) {\n        return undefined;\n      }\n\n      var $el = swiper.$el;\n      var swiperWidth = $el[0].clientWidth;\n      var swiperHeight = $el[0].clientHeight;\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (var i = 0; i < swiperCoord.length; i += 1) {\n        var point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    swiper.emit('keyPress', kc);\n    return undefined;\n  },\n  enable: function enable() {\n    var swiper = this;\n    var document = getDocument();\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    var document = getDocument();\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = false;\n  }\n};\nexport default {\n  name: 'keyboard',\n  params: {\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      keyboard: _extends({\n        enabled: false\n      }, Keyboard)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.keyboard.enabled) {\n        swiper.keyboard.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.keyboard.enabled) {\n        swiper.keyboard.disable();\n      }\n    }\n  }\n};","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { now, nextTick, bindModuleMethods } from '../../utils/utils';\n\nfunction isEventSupported() {\n  var document = getDocument();\n  var eventName = 'onwheel';\n  var isSupported = (eventName in document);\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && document.implementation && document.implementation.hasFeature && // always returns true in newer browsers as per the standard.\n  // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n  document.implementation.hasFeature('', '') !== true) {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nvar Mousewheel = {\n  lastScrollTime: now(),\n  lastEventBeforeSnap: undefined,\n  recentWheelEvents: [],\n  event: function event() {\n    var window = getWindow();\n    if (window.navigator.userAgent.indexOf('firefox') > -1) return 'DOMMouseScroll';\n    return isEventSupported() ? 'wheel' : 'mousewheel';\n  },\n  normalize: function normalize(e) {\n    // Reasonable defaults\n    var PIXEL_STEP = 10;\n    var LINE_HEIGHT = 40;\n    var PAGE_HEIGHT = 800;\n    var sX = 0;\n    var sY = 0; // spinX, spinY\n\n    var pX = 0;\n    var pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  },\n  handleMouseEnter: function handleMouseEnter() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  },\n  handleMouseLeave: function handleMouseLeave() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  },\n  handle: function handle(event) {\n    var e = event;\n    var disableParentSwiper = true;\n    var swiper = this;\n    if (!swiper.enabled) return;\n    var params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    var delta = 0;\n    var rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    var data = Mousewheel.normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    var positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode) {\n      // Register the new event in a variable which stores the relevant data\n      var newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      var recentWheelEvents = swiper.mousewheel.recentWheelEvents;\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      var prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          swiper.mousewheel.animateSlider(newEvent);\n        }\n      } else {\n        swiper.mousewheel.animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (swiper.mousewheel.releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      var _newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      var lastEventBeforeSnap = swiper.mousewheel.lastEventBeforeSnap;\n      var ignoreWheelEvents = lastEventBeforeSnap && _newEvent.time < lastEventBeforeSnap.time + 500 && _newEvent.delta <= lastEventBeforeSnap.delta && _newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        swiper.mousewheel.lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        var position = swiper.getTranslate() + delta * params.sensitivity;\n        var wasBeginning = swiper.isBeginning;\n        var wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeModeSticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(swiper.mousewheel.timeout);\n          swiper.mousewheel.timeout = undefined;\n          var _recentWheelEvents = swiper.mousewheel.recentWheelEvents;\n\n          if (_recentWheelEvents.length >= 15) {\n            _recentWheelEvents.shift(); // only store the last N events\n\n          }\n\n          var _prevEvent = _recentWheelEvents.length ? _recentWheelEvents[_recentWheelEvents.length - 1] : undefined;\n\n          var firstEvent = _recentWheelEvents[0];\n\n          _recentWheelEvents.push(_newEvent);\n\n          if (_prevEvent && (_newEvent.delta > _prevEvent.delta || _newEvent.direction !== _prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            _recentWheelEvents.splice(0);\n          } else if (_recentWheelEvents.length >= 15 && _newEvent.time - firstEvent.time < 500 && firstEvent.delta - _newEvent.delta >= 1 && _newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            var snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            swiper.mousewheel.lastEventBeforeSnap = _newEvent;\n\n            _recentWheelEvents.splice(0);\n\n            swiper.mousewheel.timeout = nextTick(function () {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!swiper.mousewheel.timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            swiper.mousewheel.timeout = nextTick(function () {\n              var snapToThreshold = 0.5;\n              swiper.mousewheel.lastEventBeforeSnap = _newEvent;\n\n              _recentWheelEvents.splice(0);\n\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) swiper.emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  },\n  animateSlider: function animateSlider(newEvent) {\n    var swiper = this;\n    var window = getWindow();\n\n    if (this.params.mousewheel.thresholdDelta && newEvent.delta < this.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (this.params.mousewheel.thresholdTime && now() - swiper.mousewheel.lastScrollTime < this.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - swiper.mousewheel.lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        swiper.emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      swiper.emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    swiper.mousewheel.lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  },\n  releaseScroll: function releaseScroll(newEvent) {\n    var swiper = this;\n    var params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  },\n  enable: function enable() {\n    var swiper = this;\n    var event = Mousewheel.event();\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener(event, swiper.mousewheel.handle);\n      return true;\n    }\n\n    if (!event) return false;\n    if (swiper.mousewheel.enabled) return false;\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target.on('mouseenter', swiper.mousewheel.handleMouseEnter);\n    target.on('mouseleave', swiper.mousewheel.handleMouseLeave);\n    target.on(event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = true;\n    return true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    var event = Mousewheel.event();\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, swiper.mousewheel.handle);\n      return true;\n    }\n\n    if (!event) return false;\n    if (!swiper.mousewheel.enabled) return false;\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target.off(event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n};\nexport default {\n  name: 'mousewheel',\n  params: {\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      mousewheel: {\n        enabled: false,\n        lastScrollTime: now(),\n        lastEventBeforeSnap: undefined,\n        recentWheelEvents: [],\n        enable: Mousewheel.enable,\n        disable: Mousewheel.disable,\n        handle: Mousewheel.handle,\n        handleMouseEnter: Mousewheel.handleMouseEnter,\n        handleMouseLeave: Mousewheel.handleMouseLeave,\n        animateSlider: Mousewheel.animateSlider,\n        releaseScroll: Mousewheel.releaseScroll\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n        swiper.mousewheel.disable();\n      }\n\n      if (swiper.params.mousewheel.enabled) swiper.mousewheel.enable();\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.cssMode) {\n        swiper.mousewheel.enable();\n      }\n\n      if (swiper.mousewheel.enabled) swiper.mousewheel.disable();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Navigation = {\n  toggleEl: function toggleEl($el, disabled) {\n    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);\n    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n  },\n  update: function update() {\n    // Update Navigation Buttons\n    var swiper = this;\n    var params = swiper.params.navigation;\n    var toggleEl = swiper.navigation.toggleEl;\n    if (swiper.params.loop) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        toggleEl($prevEl, true);\n      } else {\n        toggleEl($prevEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $prevEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        toggleEl($nextEl, true);\n      } else {\n        toggleEl($nextEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $nextEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  },\n  onPrevClick: function onPrevClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop) return;\n    swiper.slidePrev();\n  },\n  onNextClick: function onNextClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop) return;\n    swiper.slideNext();\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper.$el, swiper.params.navigation, swiper.params.createElements, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    var $nextEl;\n    var $prevEl;\n\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', swiper.navigation.onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', swiper.navigation.onPrevClick);\n    }\n\n    extend(swiper.navigation, {\n      $nextEl: $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl: $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var _swiper$navigation2 = swiper.navigation,\n        $nextEl = _swiper$navigation2.$nextEl,\n        $prevEl = _swiper$navigation2.$prevEl;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', swiper.navigation.onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', swiper.navigation.onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n};\nexport default {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      navigation: _extends({}, Navigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge: function toEdge(swiper) {\n      swiper.navigation.update();\n    },\n    fromEdge: function fromEdge(swiper) {\n      swiper.navigation.update();\n    },\n    destroy: function destroy(swiper) {\n      swiper.navigation.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var _swiper$navigation3 = swiper.navigation,\n          $nextEl = _swiper$navigation3.$nextEl,\n          $prevEl = _swiper$navigation3.$prevEl;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var _swiper$navigation4 = swiper.navigation,\n          $nextEl = _swiper$navigation4.$nextEl,\n          $prevEl = _swiper$navigation4.$prevEl;\n      var targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        var isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          swiper.emit('navigationShow');\n        } else {\n          swiper.emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, classesToSelector, createElementIfNotDefined } from '../../utils/utils';\nvar Pagination = {\n  update: function update() {\n    // Render || Update Pagination bullets/items\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el; // Current/Total\n\n    var current;\n    var total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      var bullets = swiper.pagination.bullets;\n      var firstIndex;\n      var lastIndex;\n      var midIndex;\n\n      if (params.dynamicBullets) {\n        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', swiper.pagination.bulletSize * (params.dynamicMainBullets + 4) + \"px\");\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          swiper.pagination.dynamicBulletIndex += current - swiper.previousIndex;\n\n          if (swiper.pagination.dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            swiper.pagination.dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (swiper.pagination.dynamicBulletIndex < 0) {\n            swiper.pagination.dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = current - swiper.pagination.dynamicBulletIndex;\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(params.bulletActiveClass + \" \" + params.bulletActiveClass + \"-next \" + params.bulletActiveClass + \"-next-next \" + params.bulletActiveClass + \"-prev \" + params.bulletActiveClass + \"-prev-prev \" + params.bulletActiveClass + \"-main\");\n\n      if ($el.length > 1) {\n        bullets.each(function (bullet) {\n          var $bullet = $(bullet);\n          var bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(params.bulletActiveClass + \"-main\");\n            }\n\n            if (bulletIndex === firstIndex) {\n              $bullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            }\n\n            if (bulletIndex === lastIndex) {\n              $bullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          }\n        });\n      } else {\n        var $bullet = bullets.eq(current);\n        var bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          var $firstDisplayedBullet = bullets.eq(firstIndex);\n          var $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (var i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(params.bulletActiveClass + \"-main\");\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n              for (var _i = params.dynamicMainBullets; _i >= 0; _i -= 1) {\n                bullets.eq(bullets.length - _i).addClass(params.bulletActiveClass + \"-main\");\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(params.bulletActiveClass + \"-prev\");\n            } else {\n              $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n              $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          } else {\n            $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        var dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        var bulletsOffset = (swiper.pagination.bulletSize * dynamicBulletsLength - swiper.pagination.bulletSize) / 2 - midIndex * swiper.pagination.bulletSize;\n        var offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', bulletsOffset + \"px\");\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      var progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      var scale = (current + 1) / total;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(\"translate3d(0,0,0) scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\").transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      swiper.emit('paginationRender', $el[0]);\n    } else {\n      swiper.emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  },\n  render: function render() {\n    // Render Container\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el;\n    var paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (var i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += \"<\" + params.bulletElement + \" class=\\\"\" + params.bulletClass + \"\\\"></\" + params.bulletElement + \">\";\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.currentClass + \"\\\"></span>\" + ' / ' + (\"<span class=\\\"\" + params.totalClass + \"\\\"></span>\");\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.progressbarFillClass + \"\\\"></span>\";\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      swiper.emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    swiper.params.pagination = createElementIfNotDefined(swiper.$el, swiper.params.pagination, swiper.params.createElements, {\n      el: 'swiper-pagination'\n    });\n    var params = swiper.params.pagination;\n    if (!params.el) return;\n    var $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el);\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(\"\" + params.modifierClass + params.type + \"-dynamic\");\n      swiper.pagination.dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        var index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    extend(swiper.pagination, {\n      $el: $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n};\nexport default {\n  name: 'pagination',\n  params: {\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: function formatFractionCurrent(number) {\n        return number;\n      },\n      formatFractionTotal: function formatFractionTotal(number) {\n        return number;\n      },\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      modifierClass: 'swiper-pagination-',\n      // NEW\n      currentClass: 'swiper-pagination-current',\n      totalClass: 'swiper-pagination-total',\n      hiddenClass: 'swiper-pagination-hidden',\n      progressbarFillClass: 'swiper-pagination-progressbar-fill',\n      progressbarOppositeClass: 'swiper-pagination-progressbar-opposite',\n      clickableClass: 'swiper-pagination-clickable',\n      // NEW\n      lockClass: 'swiper-pagination-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      pagination: _extends({\n        dynamicBulletIndex: 0\n      }, Pagination)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.pagination.init();\n      swiper.pagination.render();\n      swiper.pagination.update();\n    },\n    activeIndexChange: function activeIndexChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        swiper.pagination.update();\n      }\n    },\n    snapIndexChange: function snapIndexChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.update();\n      }\n    },\n    slidesLengthChange: function slidesLengthChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    snapGridLengthChange: function snapGridLengthChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.pagination.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.pagination.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var targetEl = e.target;\n\n      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && swiper.pagination.$el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n        var isHidden = swiper.pagination.$el.hasClass(swiper.params.pagination.hiddenClass);\n\n        if (isHidden === true) {\n          swiper.emit('paginationShow');\n        } else {\n          swiper.emit('paginationHide');\n        }\n\n        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, nextTick, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Scrollbar = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate,\n        progress = swiper.progress;\n    var dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    var params = swiper.params.scrollbar;\n    var newSize = dragSize;\n    var newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(\"translate3d(\" + newPos + \"px, 0, 0)\");\n      $dragEl[0].style.width = newSize + \"px\";\n    } else {\n      $dragEl.transform(\"translate3d(0px, \" + newPos + \"px, 0)\");\n      $dragEl[0].style.height = newSize + \"px\";\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(function () {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize: function updateSize() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar;\n    var $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    var divider = swiper.size / swiper.virtualSize;\n    var moveDivider = divider * (trackSize / swiper.size);\n    var dragSize;\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = dragSize + \"px\";\n    } else {\n      $dragEl[0].style.height = dragSize + \"px\";\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    extend(scrollbar, {\n      trackSize: trackSize,\n      divider: divider,\n      moveDivider: moveDivider,\n      dragSize: dragSize\n    });\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  getPointerPosition: function getPointerPosition(e) {\n    var swiper = this;\n\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  },\n  setDragPosition: function setDragPosition(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate;\n    var $el = scrollbar.$el,\n        dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        dragStartPos = scrollbar.dragStartPos;\n    var positionRatio;\n    positionRatio = (scrollbar.getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart: function onDragStart(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    swiper.scrollbar.isTouched = true;\n    swiper.scrollbar.dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? scrollbar.getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n    clearTimeout(swiper.scrollbar.dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove: function onDragMove(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    if (!swiper.scrollbar.isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd: function onDragEnd(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el;\n    if (!swiper.scrollbar.isTouched) return;\n    swiper.scrollbar.isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = nextTick(function () {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    swiper.emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  },\n  enableDraggable: function enableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.addEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.addEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.addEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  disableDraggable: function disableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.removeEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.removeEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.removeEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $swiperEl = swiper.$el;\n    swiper.params.scrollbar = createElementIfNotDefined($swiperEl, swiper.params.scrollbar, swiper.params.createElements, {\n      el: 'swiper-scrollbar'\n    });\n    var params = swiper.params.scrollbar;\n    if (!params.el) return;\n    var $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    var $dragEl = $el.find(\".\" + swiper.params.scrollbar.dragClass);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(\"<div class=\\\"\" + swiper.params.scrollbar.dragClass + \"\\\"></div>\");\n      $el.append($dragEl);\n    }\n\n    extend(scrollbar, {\n      $el: $el,\n      el: $el[0],\n      $dragEl: $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.scrollbar.disableDraggable();\n  }\n};\nexport default {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      scrollbar: _extends({\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null\n      }, Scrollbar)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update: function update(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    resize: function resize(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate: function setTranslate(swiper) {\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      swiper.scrollbar.setTransition(duration);\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.scrollbar.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.scrollbar.destroy();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Parallax = {\n  setTransform: function setTransform(el, progress) {\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var $el = $(el);\n    var rtlFactor = rtl ? -1 : 1;\n    var p = $el.attr('data-swiper-parallax') || '0';\n    var x = $el.attr('data-swiper-parallax-x');\n    var y = $el.attr('data-swiper-parallax-y');\n    var scale = $el.attr('data-swiper-parallax-scale');\n    var opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = parseInt(x, 10) * progress * rtlFactor + \"%\";\n    } else {\n      x = x * progress * rtlFactor + \"px\";\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = parseInt(y, 10) * progress + \"%\";\n    } else {\n      y = y * progress + \"px\";\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      var currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(\"translate3d(\" + x + \", \" + y + \", 0px)\");\n    } else {\n      var currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(\"translate3d(\" + x + \", \" + y + \", 0px) scale(\" + currentScale + \")\");\n    }\n  },\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el,\n        slides = swiper.slides,\n        progress = swiper.progress,\n        snapGrid = swiper.snapGrid;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {\n      swiper.parallax.setTransform(el, progress);\n    });\n    slides.each(function (slideEl, slideIndex) {\n      var slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {\n        swiper.parallax.setTransform(el, slideProgress);\n      });\n    });\n  },\n  setTransition: function setTransition(duration) {\n    if (duration === void 0) {\n      duration = this.params.speed;\n    }\n\n    var swiper = this;\n    var $el = swiper.$el;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (parallaxEl) {\n      var $parallaxEl = $(parallaxEl);\n      var parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  }\n};\nexport default {\n  name: 'parallax',\n  params: {\n    parallax: {\n      enabled: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      parallax: _extends({}, Parallax)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    init: function init(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTranslate();\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, getTranslate } from '../../utils/utils';\nvar Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    var x1 = e.targetTouches[0].pageX;\n    var y1 = e.targetTouches[0].pageY;\n    var x2 = e.targetTouches[1].pageX;\n    var y2 = e.targetTouches[1].pageY;\n    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return distance;\n  },\n  // Events\n  onGestureStart: function onGestureStart(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange: function onGestureChange(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') zoom.onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * zoom.currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);\n    }\n\n    gesture.$imageEl.transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  onGestureEnd: function onGestureEnd(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  },\n  onTouchStart: function onTouchStart(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove: function onTouchMove(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTouchEnd: function onTouchEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTransitionEnd: function onTransitionEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  },\n  // Toggle Zoom\n  toggle: function toggle(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in: function _in(e) {\n    var swiper = this;\n    var window = getWindow();\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    gesture.$slideEl.addClass(\"\" + params.zoomedSlideClass);\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(\"translate3d(\" + translateX + \"px, \" + translateY + \"px,0)\");\n    gesture.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  out: function out() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(\"\" + params.zoomedSlideClass);\n    gesture.$slideEl = undefined;\n  },\n  toggleGestures: function toggleGestures(method) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var selector = zoom.slideSelector,\n        passive = zoom.passiveListener;\n    swiper.$wrapperEl[method]('gesturestart', selector, zoom.onGestureStart, passive);\n    swiper.$wrapperEl[method]('gesturechange', selector, zoom.onGestureChange, passive);\n    swiper.$wrapperEl[method]('gestureend', selector, zoom.onGestureEnd, passive);\n  },\n  enableGestures: function enableGestures() {\n    if (this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = true;\n    this.zoom.toggleGestures('on');\n  },\n  disableGestures: function disableGestures() {\n    if (!this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = false;\n    this.zoom.toggleGestures('off');\n  },\n  // Attach/Detach Events\n  enable: function enable() {\n    var swiper = this;\n    var support = swiper.support;\n    var zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass;\n    swiper.zoom.passiveListener = passiveListener;\n    swiper.zoom.slideSelector = slideSelector; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  },\n  disable: function disable() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    var support = swiper.support;\n    swiper.zoom.enabled = false;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  }\n};\nexport default {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      zoom: _extends({\n        enabled: false,\n        scale: 1,\n        currentScale: 1,\n        isScaling: false,\n        gesture: {\n          $slideEl: undefined,\n          slideWidth: undefined,\n          slideHeight: undefined,\n          $imageEl: undefined,\n          $imageWrapEl: undefined,\n          maxRatio: 3\n        },\n        image: {\n          isTouched: undefined,\n          isMoved: undefined,\n          currentX: undefined,\n          currentY: undefined,\n          minX: undefined,\n          minY: undefined,\n          maxX: undefined,\n          maxY: undefined,\n          width: undefined,\n          height: undefined,\n          startX: undefined,\n          startY: undefined,\n          touchesStart: {},\n          touchesCurrent: {}\n        },\n        velocity: {\n          x: undefined,\n          y: undefined,\n          prevPositionX: undefined,\n          prevPositionY: undefined,\n          prevTime: undefined\n        }\n      }, Zoom)\n    });\n    var scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get: function get() {\n        return scale;\n      },\n      set: function set(value) {\n        if (scale !== value) {\n          var imageEl = swiper.zoom.gesture.$imageEl ? swiper.zoom.gesture.$imageEl[0] : undefined;\n          var slideEl = swiper.zoom.gesture.$slideEl ? swiper.zoom.gesture.$slideEl[0] : undefined;\n          swiper.emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.zoom.disable();\n    },\n    touchStart: function touchStart(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd: function touchEnd(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap: function doubleTap(swiper, e) {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        swiper.zoom.onTransitionEnd();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Lazy = {\n  loadInSlide: function loadInSlide(index, loadInDuplicate) {\n    if (loadInDuplicate === void 0) {\n      loadInDuplicate = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var $slideEl = isVirtual ? swiper.$wrapperEl.children(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\") : swiper.slides.eq(index);\n    var $images = $slideEl.find(\".\" + params.elementClass + \":not(.\" + params.loadedClass + \"):not(.\" + params.loadingClass + \")\");\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(function (imageEl) {\n      var $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      var background = $imageEl.attr('data-background');\n      var src = $imageEl.attr('data-src');\n      var srcset = $imageEl.attr('data-srcset');\n      var sizes = $imageEl.attr('data-sizes');\n      var $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, function () {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', \"url(\\\"\" + background + \"\\\")\");\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(function (sourceEl) {\n              var $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(\".\" + params.preloaderClass).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            var originalSlide = swiper.$wrapperEl.children(\"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]:not(.\" + swiper.params.slideDuplicateClass + \")\");\n            swiper.lazy.loadInSlide(originalSlide.index(), false);\n          } else {\n            var duplicatedSlide = swiper.$wrapperEl.children(\".\" + swiper.params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]\");\n            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  },\n  load: function load() {\n    var swiper = this;\n    var $wrapperEl = swiper.$wrapperEl,\n        swiperParams = swiper.params,\n        slides = swiper.slides,\n        activeIndex = swiper.activeIndex;\n    var isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    var params = swiperParams.lazy;\n    var slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(\".\" + swiperParams.slideClass + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\").length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!swiper.lazy.initialImageLoaded) swiper.lazy.initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesVisibility) {\n      $wrapperEl.children(\".\" + swiperParams.slideVisibleClass).each(function (slideEl) {\n        var index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        swiper.lazy.loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) swiper.lazy.loadInSlide(i);\n      }\n    } else {\n      swiper.lazy.loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        var amount = params.loadPrevNextAmount;\n        var spv = slidesPerView;\n        var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (var _i = activeIndex + slidesPerView; _i < maxIndex; _i += 1) {\n          if (slideExist(_i)) swiper.lazy.loadInSlide(_i);\n        } // Prev Slides\n\n\n        for (var _i2 = minIndex; _i2 < activeIndex; _i2 += 1) {\n          if (slideExist(_i2)) swiper.lazy.loadInSlide(_i2);\n        }\n      } else {\n        var nextSlide = $wrapperEl.children(\".\" + swiperParams.slideNextClass);\n        if (nextSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(nextSlide));\n        var prevSlide = $wrapperEl.children(\".\" + swiperParams.slidePrevClass);\n        if (prevSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  },\n  checkInViewOnLoad: function checkInViewOnLoad() {\n    var window = getWindow();\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    var isWindow = $scrollElement[0] === window;\n    var scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    var scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    var swiperOffset = swiper.$el.offset();\n    var rtl = swiper.rtlTranslate;\n    var inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (var i = 0; i < swiperCoord.length; i += 1) {\n      var point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      swiper.lazy.load();\n      $scrollElement.off('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);\n    } else if (!swiper.lazy.scrollHandlerAttached) {\n      swiper.lazy.scrollHandlerAttached = true;\n      $scrollElement.on('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);\n    }\n  }\n};\nexport default {\n  name: 'lazy',\n  params: {\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      lazy: _extends({\n        initialImageLoaded: false\n      }, Lazy)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    },\n    init: function init(swiper) {\n      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {\n        if (swiper.params.lazy.checkInView) {\n          swiper.lazy.checkInViewOnLoad();\n        } else {\n          swiper.lazy.load();\n        }\n      }\n    },\n    scroll: function scroll(swiper) {\n      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {\n        swiper.lazy.load();\n      }\n    },\n    'scrollbarDragMove resize _freeModeNoMomentumRelease': function lazyLoad(swiper) {\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    transitionStart: function transitionStart(swiper) {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded) {\n          swiper.lazy.load();\n        }\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        swiper.lazy.load();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      var _swiper$params = swiper.params,\n          lazy = _swiper$params.lazy,\n          cssMode = _swiper$params.cssMode,\n          watchSlidesVisibility = _swiper$params.watchSlidesVisibility,\n          watchSlidesProgress = _swiper$params.watchSlidesProgress,\n          touchReleaseOnEdges = _swiper$params.touchReleaseOnEdges,\n          resistanceRatio = _swiper$params.resistanceRatio;\n\n      if (lazy.enabled && (cssMode || (watchSlidesVisibility || watchSlidesProgress) && (touchReleaseOnEdges || resistanceRatio === 0))) {\n        swiper.lazy.load();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick, bindModuleMethods } from '../../utils/utils';\nvar Controller = {\n  LinearSpline: function LinearSpline(x, y) {\n    var binarySearch = function search() {\n      var maxIndex;\n      var minIndex;\n      var guess;\n      return function (array, val) {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    var i1;\n    var i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  },\n  // xxx: for now i will just save one spline function to to\n  getInterpolateFunction: function getInterpolateFunction(c) {\n    var swiper = this;\n\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) : new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  },\n  setTranslate: function setTranslate(_setTranslate, byController) {\n    var swiper = this;\n    var controlled = swiper.controller.control;\n    var multiplier;\n    var controlledTranslate;\n    var Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      var translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        swiper.controller.getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (var i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  },\n  setTransition: function setTransition(duration, byController) {\n    var swiper = this;\n    var Swiper = swiper.constructor;\n    var controlled = swiper.controller.control;\n    var i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(function () {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(function () {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n};\nexport default {\n  name: 'controller',\n  params: {\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      controller: _extends({\n        control: swiper.params.controller.control\n      }, Controller)\n    });\n  },\n  on: {\n    update: function update(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    resize: function resize(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    setTranslate: function setTranslate(swiper, translate, byController) {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    },\n    setTransition: function setTransition(swiper, duration, byController) {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, classesToSelector } from '../../utils/utils';\nvar A11y = {\n  getRandomNumber: function getRandomNumber(size) {\n    if (size === void 0) {\n      size = 16;\n    }\n\n    var randomChar = function randomChar() {\n      return Math.round(16 * Math.random()).toString(16);\n    };\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  },\n  makeElFocusable: function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n    return $el;\n  },\n  makeElNotFocusable: function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n    return $el;\n  },\n  addElRole: function addElRole($el, role) {\n    $el.attr('role', role);\n    return $el;\n  },\n  addElRoleDescription: function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n    return $el;\n  },\n  addElControls: function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n    return $el;\n  },\n  addElLabel: function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n    return $el;\n  },\n  addElId: function addElId($el, id) {\n    $el.attr('id', id);\n    return $el;\n  },\n  addElLive: function addElLive($el, live) {\n    $el.attr('aria-live', live);\n    return $el;\n  },\n  disableEl: function disableEl($el) {\n    $el.attr('aria-disabled', true);\n    return $el;\n  },\n  enableEl: function enableEl($el) {\n    $el.attr('aria-disabled', false);\n    return $el;\n  },\n  onEnterOrSpaceKey: function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    var swiper = this;\n    var params = swiper.params.a11y;\n    var $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        swiper.a11y.notify(params.lastSlideMessage);\n      } else {\n        swiper.a11y.notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        swiper.a11y.notify(params.firstSlideMessage);\n      } else {\n        swiper.a11y.notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  },\n  notify: function notify(message) {\n    var swiper = this;\n    var notification = swiper.a11y.liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  },\n  updateNavigation: function updateNavigation() {\n    var swiper = this;\n    if (swiper.params.loop || !swiper.navigation) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        swiper.a11y.disableEl($prevEl);\n        swiper.a11y.makeElNotFocusable($prevEl);\n      } else {\n        swiper.a11y.enableEl($prevEl);\n        swiper.a11y.makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        swiper.a11y.disableEl($nextEl);\n        swiper.a11y.makeElNotFocusable($nextEl);\n      } else {\n        swiper.a11y.enableEl($nextEl);\n        swiper.a11y.makeElFocusable($nextEl);\n      }\n    }\n  },\n  updatePagination: function updatePagination() {\n    var swiper = this;\n    var params = swiper.params.a11y;\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.bullets.each(function (bulletEl) {\n        var $bulletEl = $(bulletEl);\n        swiper.a11y.makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          swiper.a11y.addElRole($bulletEl, 'button');\n          swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      });\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.a11y;\n    swiper.$el.append(swiper.a11y.liveRegion); // Container\n\n    var $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      swiper.a11y.addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      swiper.a11y.addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    var $wrapperEl = swiper.$wrapperEl;\n    var wrapperId = $wrapperEl.attr('id') || \"swiper-wrapper-\" + swiper.a11y.getRandomNumber(16);\n    var live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    swiper.a11y.addElId($wrapperEl, wrapperId);\n    swiper.a11y.addElLive($wrapperEl, live); // Slide\n\n    if (params.itemRoleDescriptionMessage) {\n      swiper.a11y.addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    swiper.a11y.addElRole($(swiper.slides), params.slideRole);\n    var slidesLength = swiper.params.loop ? swiper.slides.filter(function (el) {\n      return !el.classList.contains(swiper.params.slideDuplicateClass);\n    }).length : swiper.slides.length;\n    swiper.slides.each(function (slideEl, index) {\n      var $slideEl = $(slideEl);\n      var slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n      var ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n      swiper.a11y.addElLabel($slideEl, ariaLabelMessage);\n    }); // Navigation\n\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      swiper.a11y.makeElFocusable($nextEl);\n\n      if ($nextEl[0].tagName !== 'BUTTON') {\n        swiper.a11y.addElRole($nextEl, 'button');\n        $nextEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);\n      }\n\n      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);\n      swiper.a11y.addElControls($nextEl, wrapperId);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      swiper.a11y.makeElFocusable($prevEl);\n\n      if ($prevEl[0].tagName !== 'BUTTON') {\n        swiper.a11y.addElRole($prevEl, 'button');\n        $prevEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);\n      }\n\n      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);\n      swiper.a11y.addElControls($prevEl, wrapperId);\n    } // Pagination\n\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) swiper.a11y.liveRegion.remove();\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);\n    }\n  }\n};\nexport default {\n  name: 'a11y',\n  params: {\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      a11y: _extends({}, A11y, {\n        liveRegion: $(\"<span class=\\\"\" + swiper.params.a11y.notificationClass + \"\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"></span>\")\n      })\n    });\n  },\n  on: {\n    afterInit: function afterInit(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.init();\n      swiper.a11y.updateNavigation();\n    },\n    toEdge: function toEdge(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    fromEdge: function fromEdge(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    paginationUpdate: function paginationUpdate(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updatePagination();\n    },\n    destroy: function destroy(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.destroy();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar History = {\n  init: function init() {\n    var swiper = this;\n    var window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    var history = swiper.history;\n    history.initialized = true;\n    history.paths = History.getPathValues(swiper.params.url);\n    if (!history.paths.key && !history.paths.value) return;\n    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  setHistoryPopState: function setHistoryPopState() {\n    var swiper = this;\n    swiper.history.paths = History.getPathValues(swiper.params.url);\n    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);\n  },\n  getPathValues: function getPathValues(urlOverride) {\n    var window = getWindow();\n    var location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    var pathArray = location.pathname.slice(1).split('/').filter(function (part) {\n      return part !== '';\n    });\n    var total = pathArray.length;\n    var key = pathArray[total - 2];\n    var value = pathArray[total - 1];\n    return {\n      key: key,\n      value: value\n    };\n  },\n  setHistory: function setHistory(key, index) {\n    var swiper = this;\n    var window = getWindow();\n    if (!swiper.history.initialized || !swiper.params.history.enabled) return;\n    var location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    var slide = swiper.slides.eq(index);\n    var value = History.slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      var root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = root + \"/\" + key + \"/\" + value;\n    } else if (!location.pathname.includes(key)) {\n      value = key + \"/\" + value;\n    }\n\n    var currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value: value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value: value\n      }, null, value);\n    }\n  },\n  slugify: function slugify(text) {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  },\n  scrollToSlide: function scrollToSlide(speed, value, runCallbacks) {\n    var swiper = this;\n\n    if (value) {\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHistory = History.slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  }\n};\nexport default {\n  name: 'history',\n  params: {\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      history: _extends({}, History)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.history.enabled) {\n        swiper.history.init();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.history.enabled) {\n        swiper.history.destroy();\n      }\n    },\n    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {\n      if (swiper.history.initialized) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.history.initialized && swiper.params.cssMode) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar HashNavigation = {\n  onHashChange: function onHashChange() {\n    var swiper = this;\n    var document = getDocument();\n    swiper.emit('hashChange');\n    var newHash = document.location.hash.replace('#', '');\n    var activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      var newIndex = swiper.$wrapperEl.children(\".\" + swiper.params.slideClass + \"[data-hash=\\\"\" + newHash + \"\\\"]\").index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  },\n  setHash: function setHash() {\n    var swiper = this;\n    var window = getWindow();\n    var document = getDocument();\n    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, \"#\" + swiper.slides.eq(swiper.activeIndex).attr('data-hash') || '');\n      swiper.emit('hashSet');\n    } else {\n      var slide = swiper.slides.eq(swiper.activeIndex);\n      var hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      swiper.emit('hashSet');\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var document = getDocument();\n    var window = getWindow();\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    swiper.hashNavigation.initialized = true;\n    var hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      var speed = 0;\n\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', swiper.hashNavigation.onHashChange);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var window = getWindow();\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', swiper.hashNavigation.onHashChange);\n    }\n  }\n};\nexport default {\n  name: 'hash-navigation',\n  params: {\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      hashNavigation: _extends({\n        initialized: false\n      }, HashNavigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.init();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.destroy();\n      }\n    },\n    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {\n      if (swiper.hashNavigation.initialized) {\n        swiper.hashNavigation.setHash();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.hashNavigation.initialized && swiper.params.cssMode) {\n        swiper.hashNavigation.setHash();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint no-underscore-dangle: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick, bindModuleMethods } from '../../utils/utils';\nvar Autoplay = {\n  run: function run() {\n    var swiper = this;\n    var $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    var delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.timeout = nextTick(function () {\n      var autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else {\n          swiper.autoplay.stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else {\n        swiper.autoplay.stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) swiper.autoplay.run();else if (autoplayResult === false) {\n        swiper.autoplay.run();\n      }\n    }, delay);\n  },\n  start: function start() {\n    var swiper = this;\n    if (typeof swiper.autoplay.timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    swiper.emit('autoplayStart');\n    swiper.autoplay.run();\n    return true;\n  },\n  stop: function stop() {\n    var swiper = this;\n    if (!swiper.autoplay.running) return false;\n    if (typeof swiper.autoplay.timeout === 'undefined') return false;\n\n    if (swiper.autoplay.timeout) {\n      clearTimeout(swiper.autoplay.timeout);\n      swiper.autoplay.timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    swiper.emit('autoplayStop');\n    return true;\n  },\n  pause: function pause(speed) {\n    var swiper = this;\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (swiper.autoplay.timeout) clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      swiper.autoplay.run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n        swiper.$wrapperEl[0].addEventListener(event, swiper.autoplay.onTransitionEnd);\n      });\n    }\n  },\n  onVisibilityChange: function onVisibilityChange() {\n    var swiper = this;\n    var document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      swiper.autoplay.pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      swiper.autoplay.run();\n      swiper.autoplay.paused = false;\n    }\n  },\n  onTransitionEnd: function onTransitionEnd(e) {\n    var swiper = this;\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      swiper.autoplay.stop();\n    } else {\n      swiper.autoplay.run();\n    }\n  },\n  onMouseEnter: function onMouseEnter() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.disableOnInteraction) {\n      swiper.autoplay.stop();\n    } else {\n      swiper.autoplay.pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);\n    });\n  },\n  onMouseLeave: function onMouseLeave() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    swiper.autoplay.run();\n  },\n  attachMouseEvents: function attachMouseEvents() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', swiper.autoplay.onMouseEnter);\n      swiper.$el.on('mouseleave', swiper.autoplay.onMouseLeave);\n    }\n  },\n  detachMouseEvents: function detachMouseEvents() {\n    var swiper = this;\n    swiper.$el.off('mouseenter', swiper.autoplay.onMouseEnter);\n    swiper.$el.off('mouseleave', swiper.autoplay.onMouseLeave);\n  }\n};\nexport default {\n  name: 'autoplay',\n  params: {\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      autoplay: _extends({}, Autoplay, {\n        running: false,\n        paused: false\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.autoplay.enabled) {\n        swiper.autoplay.start();\n        var document = getDocument();\n        document.addEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);\n        swiper.autoplay.attachMouseEvents();\n      }\n    },\n    beforeTransitionStart: function beforeTransitionStart(swiper, speed, internal) {\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          swiper.autoplay.stop();\n        }\n      }\n    },\n    sliderFirstMove: function sliderFirstMove(swiper) {\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.pause();\n        }\n      }\n    },\n    touchEnd: function touchEnd(swiper) {\n      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.run();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.autoplay.detachMouseEvents();\n\n      if (swiper.autoplay.running) {\n        swiper.autoplay.stop();\n      }\n\n      var document = getDocument();\n      document.removeEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Fade = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = swiper.slides.eq(i);\n      var offset = $slideEl[0].swiperSlideOffset;\n      var tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      var ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      var slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      $slideEl.css({\n        opacity: slideOpacity\n      }).transform(\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px)\");\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides,\n        $wrapperEl = swiper.$wrapperEl;\n    slides.transition(duration);\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false;\n      slides.transitionEnd(function () {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n};\nexport default {\n  name: 'effect-fade',\n  params: {\n    fadeEffect: {\n      crossFade: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      fadeEffect: _extends({}, Fade)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"fade\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Cube = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides,\n        swiperWidth = swiper.width,\n        swiperHeight = swiper.height,\n        rtl = swiper.rtlTranslate,\n        swiperSize = swiper.size,\n        browser = swiper.browser;\n    var params = swiper.params.cubeEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var wrapperRotate = 0;\n    var $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: swiperWidth + \"px\"\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      var slideAngle = slideIndex * 90;\n      var round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      var progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      var tx = 0;\n      var ty = 0;\n      var tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      var transform = \"rotateX(\" + (isHorizontal ? 0 : -slideAngle) + \"deg) rotateY(\" + (isHorizontal ? slideAngle : 0) + \"deg) translate3d(\" + tx + \"px, \" + ty + \"px, \" + tz + \"px)\";\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        // Set shadows\n        var shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append(shadowBefore);\n        }\n\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append(shadowAfter);\n        }\n\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      '-moz-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      '-ms-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      'transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\"\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(\"translate3d(0px, \" + (swiperWidth / 2 + params.shadowOffset) + \"px, \" + -swiperWidth / 2 + \"px) rotateX(90deg) rotateZ(0deg) scale(\" + params.shadowScale + \")\");\n      } else {\n        var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        var scale1 = params.shadowScale;\n        var scale2 = params.shadowScale / multiplier;\n        var offset = params.shadowOffset;\n        $cubeShadowEl.transform(\"scale3d(\" + scale1 + \", 1, \" + scale2 + \") translate3d(0px, \" + (swiperHeight / 2 + offset) + \"px, \" + -swiperHeight / 2 / scale2 + \"px) rotateX(-90deg)\");\n      }\n    }\n\n    var zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(\"translate3d(0px,0,\" + zFactor + \"px) rotateX(\" + (swiper.isHorizontal() ? 0 : wrapperRotate) + \"deg) rotateY(\" + (swiper.isHorizontal() ? -wrapperRotate : 0) + \"deg)\");\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var $el = swiper.$el,\n        slides = swiper.slides;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  }\n};\nexport default {\n  name: 'effect-cube',\n  params: {\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      cubeEffect: _extends({}, Cube)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"cube\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Flip = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides,\n        rtl = swiper.rtlTranslate;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      var offset = $slideEl[0].swiperSlideOffset;\n      var rotate = -180 * progress;\n      var rotateY = rotate;\n      var rotateX = 0;\n      var tx = -offset;\n      var ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (swiper.params.flipEffect.slideShadows) {\n        // Set shadows\n        var shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append(shadowBefore);\n        }\n\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append(shadowAfter);\n        }\n\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n\n      $slideEl.transform(\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px) rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg)\");\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides,\n        activeIndex = swiper.activeIndex,\n        $wrapperEl = swiper.$wrapperEl;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false; // eslint-disable-next-line\n\n      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return; // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;\n\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n};\nexport default {\n  name: 'effect-flip',\n  params: {\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      flipEffect: _extends({}, Flip)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"flip\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Coverflow = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var swiperWidth = swiper.width,\n        swiperHeight = swiper.height,\n        slides = swiper.slides,\n        slidesSizesGrid = swiper.slidesSizesGrid;\n    var params = swiper.params.coverflowEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var transform = swiper.translate;\n    var center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    var rotate = isHorizontal ? params.rotate : -params.rotate;\n    var translate = params.depth; // Each slide offset from center\n\n    for (var i = 0, length = slides.length; i < length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideSize = slidesSizesGrid[i];\n      var slideOffset = $slideEl[0].swiperSlideOffset;\n      var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;\n      var rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      var rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      var translateZ = -translate * Math.abs(offsetMultiplier);\n      var stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      var translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      var translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      var scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      var slideTransform = \"translate3d(\" + translateX + \"px,\" + translateY + \"px,\" + translateZ + \"px)  rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg) scale(\" + scale + \")\";\n      $slideEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        var $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append($shadowBeforeEl);\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append($shadowAfterEl);\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    swiper.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  }\n};\nexport default {\n  name: 'effect-coverflow',\n  params: {\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      coverflowEffect: _extends({}, Coverflow)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"coverflow\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { extend, isObject, bindModuleMethods } from '../../utils/utils';\nimport $ from '../../utils/dom';\nvar Thumbs = {\n  init: function init() {\n    var swiper = this;\n    var thumbsParams = swiper.params.thumbs;\n    if (swiper.thumbs.initialized) return false;\n    swiper.thumbs.initialized = true;\n    var SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      extend(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      extend(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      swiper.thumbs.swiper = new SwiperClass(extend({}, thumbsParams.swiper, {\n        watchSlidesVisibility: true,\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      }));\n      swiper.thumbs.swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', swiper.thumbs.onThumbClick);\n    return true;\n  },\n  onThumbClick: function onThumbClick() {\n    var swiper = this;\n    var thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper) return;\n    var clickedIndex = thumbsSwiper.clickedIndex;\n    var clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    var slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      var currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      var prevIndex = swiper.slides.eq(currentIndex).prevAll(\"[data-swiper-slide-index=\\\"\" + slideToIndex + \"\\\"]\").eq(0).index();\n      var nextIndex = swiper.slides.eq(currentIndex).nextAll(\"[data-swiper-slide-index=\\\"\" + slideToIndex + \"\\\"]\").eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  },\n  update: function update(initial) {\n    var swiper = this;\n    var thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper) return;\n    var slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n    var autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    var useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      var currentThumbsIndex = thumbsSwiper.activeIndex;\n      var newThumbsIndex;\n      var direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        var prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(\"[data-swiper-slide-index=\\\"\" + swiper.realIndex + \"\\\"]\").eq(0).index();\n        var nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(\"[data-swiper-slide-index=\\\"\" + swiper.realIndex + \"\\\"]\").eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    } // Activate thumbs\n\n\n    var thumbsToActivate = 1;\n    var thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (var i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(\"[data-swiper-slide-index=\\\"\" + (swiper.realIndex + i) + \"\\\"]\").addClass(thumbActiveClass);\n      }\n    } else {\n      for (var _i = 0; _i < thumbsToActivate; _i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + _i).addClass(thumbActiveClass);\n      }\n    }\n  }\n};\nexport default {\n  name: 'thumbs',\n  params: {\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-container-thumbs'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      thumbs: _extends({\n        swiper: null,\n        initialized: false\n      }, Thumbs)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      var thumbs = swiper.params.thumbs;\n      if (!thumbs || !thumbs.swiper) return;\n      swiper.thumbs.init();\n      swiper.thumbs.update(true);\n    },\n    slideChange: function slideChange(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    update: function update(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    resize: function resize(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      var thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      thumbsSwiper.setTransition(duration);\n    },\n    beforeDestroy: function beforeDestroy(swiper) {\n      var thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n\n      if (swiper.thumbs.swiperCreated && thumbsSwiper) {\n        thumbsSwiper.destroy();\n      }\n    }\n  }\n};","/**\n * Swiper 6.8.2\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2021 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: August 16, 2021\n */\n\nimport Swiper from './esm/components/core/core-class';\nexport { default as Swiper, default } from './esm/components/core/core-class';\nimport Virtual from './esm/components/virtual/virtual';\nimport Keyboard from './esm/components/keyboard/keyboard';\nimport Mousewheel from './esm/components/mousewheel/mousewheel';\nimport Navigation from './esm/components/navigation/navigation';\nimport Pagination from './esm/components/pagination/pagination';\nimport Scrollbar from './esm/components/scrollbar/scrollbar';\nimport Parallax from './esm/components/parallax/parallax';\nimport Zoom from './esm/components/zoom/zoom';\nimport Lazy from './esm/components/lazy/lazy';\nimport Controller from './esm/components/controller/controller';\nimport A11y from './esm/components/a11y/a11y';\nimport History from './esm/components/history/history';\nimport HashNavigation from './esm/components/hash-navigation/hash-navigation';\nimport Autoplay from './esm/components/autoplay/autoplay';\nimport EffectFade from './esm/components/effect-fade/effect-fade';\nimport EffectCube from './esm/components/effect-cube/effect-cube';\nimport EffectFlip from './esm/components/effect-flip/effect-flip';\nimport EffectCoverflow from './esm/components/effect-coverflow/effect-coverflow';\nimport Thumbs from './esm/components/thumbs/thumbs';\n\n// Swiper Class\nvar components = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, EffectFade, EffectCube, EffectFlip, EffectCoverflow, Thumbs];\nSwiper.use(components);\n","import lottie from 'lottie-web';\r\n\r\nclass Animation {\r\n\r\n    constructor() {\r\n        ZoneObject.create('.section-for__right', {\r\n            minWidth: 0,\r\n            run: () => {\r\n                if (typeof this.lottie_spring === 'undefined') {\r\n                    this.lottie_spring = lottie.loadAnimation({\r\n                        container: document.getElementById('mainspring'),\r\n                        renderer: 'svg',\r\n                        loop: true,\r\n                        autoplay: true,\r\n                        path: '/json/mainspring/data.json?v=1',\r\n                    });\r\n                } else {\r\n                    this.lottie_spring.play()\r\n                }\r\n            },\r\n            stop: () => {\r\n                this.lottie_spring.stop();\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('.section-for__animated', {\r\n            minWidth: 0,\r\n            run: () => {\r\n                if (typeof this.lottie_television === 'undefined') {\r\n                    this.lottie_television = lottie.loadAnimation({\r\n                        container: document.getElementById('television'),\r\n                        renderer: 'svg',\r\n                        loop: true,\r\n                        autoplay: true,\r\n                        path: '/json/industries/1/data.json?v=1',\r\n                    });\r\n                } else {\r\n                    this.lottie_television.play()\r\n                }\r\n            },\r\n            stop: () => {\r\n                this.lottie_television.stop();\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('#postmarks', {\r\n            minWidth: 1200,\r\n            run: () => {\r\n                if (typeof this.lottie_postmarks === 'undefined') {\r\n                    this.lottie_postmarks = lottie.loadAnimation({\r\n                        container: document.getElementById('postmarks'),\r\n                        renderer: 'svg',\r\n                        loop: false,\r\n                        autoplay: true,\r\n                        path: '/json/postmarks/data.json?v=1',\r\n                    });\r\n                } else {\r\n                    this.lottie_postmarks.play()\r\n                }\r\n            },\r\n            stop: () => {\r\n                this.lottie_postmarks.stop();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nnew Animation();","class Cursor {\r\n\r\n    constructor(obj) {\r\n        this.cursor = $(obj.cursor);\r\n        this.wrapSelector = obj.wrap ? obj.wrap : 'body';\r\n        this.onMousemove = obj.onMousemove;\r\n        this.onClick = obj.onClick;\r\n        this.setParams();\r\n        this.wrapDefaultCursorOff();\r\n        this.mousemove();\r\n        this.click();\r\n        this.resize();\r\n    }\r\n\r\n    resize() {\r\n        $(window).on('resize', () => {\r\n            this.setParams();\r\n        });\r\n    }\r\n\r\n    setParams() {\r\n        this.bodyWidth2 = $(this.wrapSelector).width() / 2;\r\n        this.cursorWidth = this.cursor.width() / 2;\r\n        this.cursorHeight = this.cursor.height() / 2;\r\n        this.WrapOffsetLeft = $(this.wrapSelector).offset().left;\r\n        this.WrapCenter = this.WrapOffsetLeft + this.bodyWidth2;\r\n    }\r\n\r\n    wrapDefaultCursorOff() {\r\n        $('body').append('<style>' + this.wrapSelector + ', ' + this.wrapSelector + ' * {cursor: none} ' + this.wrapSelector + ' a, ' + this.wrapSelector + ' a * {cursor: pointer}</style>');\r\n    }\r\n\r\n    setCursorPosition() {\r\n        if (this.inWrap) {\r\n            this.cursor.css({\r\n                top: this.top,\r\n                left: this.left,\r\n                display: 'block'\r\n            });\r\n        }\r\n    }\r\n\r\n    getParams(event) {\r\n        this.hoverElem = $(document.elementFromPoint(event.clientX, event.clientY));\r\n\r\n        this.inWrap = this.hoverElem.closest(this.wrapSelector).length && this.hoverElem.closest('a').length == 0;\r\n\r\n        this.top = event.clientY - this.cursorHeight;\r\n        this.left = event.clientX - this.cursorWidth;\r\n\r\n        this.isLeft = this.left < this.WrapCenter;\r\n    }\r\n\r\n    mousemove() {\r\n        $('body').on('mousemove', (event) => {\r\n            this.cursor.hide();\r\n\r\n            this.getParams(event);\r\n            this.setCursorPosition();\r\n\r\n            if (this.onMousemove) {\r\n                this.onMousemove({\r\n                    inWrap: this.inWrap,\r\n                    isLeft: this.isLeft,\r\n                    hoverElem: this.hoverElem\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    click() {\r\n        this.cursor.on('click', () => {\r\n            if (this.onClick) {\r\n                this.onClick({\r\n                    isLeft: this.isLeft,\r\n                    hoverElem: this.hoverElem\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    triggerMousemove() {\r\n        var event = $.Event('mousemove');\r\n        event.clientX = this.left + this.cursorWidth;\r\n        event.clientY = this.top + this.cursorHeight;\r\n        $('body').trigger(event);\r\n    }\r\n\r\n}\r\n\r\nexport default Cursor;","import Cursor from '../../../../js-modules/Cursor';\r\n\r\n$(() => {\r\n    var minWidth = location.href.indexOf('partner') > -1 || location.href.indexOf('industry') > -1 || location.href.indexOf('arhive') > -1 || location.href.indexOf('contest') > -1 || location.href.indexOf('curators') > -1 ? 1200 : 992,\r\n        setTimeoutTimer = false;\r\n\r\n    if ($(window).width() > minWidth) {\r\n        ZoneObject.create('[cursor-status]', {\r\n            run: () => {\r\n                var SliderCursor = new Cursor({\r\n                    cursor: '.cursor',\r\n                    wrap: '[cursor-status]'\r\n                });\r\n\r\n                SliderCursor.onMousemove = (obj) => {\r\n                    $('.direction-item.hover').removeClass('hover');\r\n\r\n                    if (obj.inWrap) {\r\n                        if (obj.isLeft) {\r\n                            $('body').removeClass('cursor-right').addClass('cursor-left');\r\n                        } else {\r\n                            $('body').removeClass('cursor-left').addClass('cursor-right');\r\n                        }\r\n\r\n                        if (obj.hoverElem.closest('[data-white]').length) {\r\n                            $('body').addClass('cursor-black').removeClass('cursor-white');\r\n                        } else {\r\n                            $('body').addClass('cursor-white').removeClass('cursor-black');\r\n                        }\r\n\r\n                        if (obj.hoverElem.closest('.direction-item').length) {\r\n                            obj.hoverElem.closest('.direction-item').addClass('hover');\r\n                        }\r\n                    }\r\n                };\r\n\r\n                SliderCursor.onClick = (obj) => {\r\n                    var swiper = obj.hoverElem.closest('.swiper-container')[0].swiper;\r\n\r\n                    if (swiper) {\r\n                        if (obj.isLeft) {\r\n                            swiper.slidePrev(500);\r\n                        } else {\r\n                            swiper.slideNext(500);\r\n                        }\r\n\r\n                        if (setTimeoutTimer) clearTimeout(setTimeoutTimer);\r\n\r\n                        setTimeoutTimer = setTimeout(() => {\r\n                            SliderCursor.triggerMousemove();\r\n                        }, 500);\r\n                    }\r\n                };\r\n            }\r\n        });\r\n    }\r\n});","var paddingTimer = false;\r\n\r\nvar paddingSwiper = () => {\r\n    $('.swiper-wrapper').parents('.swiper-container').css('padding-left', $('.container').offset().left + 15);\r\n    $('.swiper-wrapper').parents('.swiper-container').css('padding-right', $('.container').offset().left + 15);\r\n\r\n    if (paddingTimer) {\r\n        clearTimeout(paddingTimer)\r\n    }\r\n\r\n    paddingTimer = setTimeout(() => {\r\n        window.dispatchEvent(new Event('resize'));\r\n    }, 500);\r\n}\r\n\r\nexport default {\r\n    longSwipes: false,\r\n    speed: 500,\r\n    navigation: {\r\n        nextEl: '.arrows-nav__right',\r\n        prevEl: '.arrows-nav__left',\r\n    },\r\n    on: {\r\n        init: function (event) {\r\n            // $($(this)[0].$el).find('[data-all-count]').html(event.slides.length);\r\n\r\n            var slidesLength = event.slides.length ? event.slides.length : event.imagesLoaded;\r\n\r\n            if ($($(this)[0].$el).parents('[data-swiper-group]').length) {\r\n                $($(this)[0].$el).parents('[data-swiper-group]').find('[data-all-count]').html(slidesLength);\r\n            } else {\r\n                $($(this)[0].$el).find('[data-all-count]').html(slidesLength);\r\n            }\r\n        },\r\n        slideChange: function (event) {\r\n            // $($(this)[0].$el).find('[data-active-count]').html(event.activeIndex + 1);\r\n\r\n            if ($($(this)[0].$el).parents('[data-swiper-group]').length) {\r\n                var elem = $($(this)[0].$el).parents('[data-swiper-group]').find('[data-active-count]'),\r\n                    activeIndex = event.activeIndex + 1;\r\n\r\n                if (elem.attr('data-pc-plus')) {\r\n                    activeIndex = activeIndex + parseInt(elem.attr('data-pc-plus'));\r\n                }\r\n\r\n                if (activeIndex > event.slides.length) {\r\n                    activeIndex = event.slides.length;\r\n                }\r\n                console.log(activeIndex);\r\n                elem.html(activeIndex);\r\n            } else {\r\n                $($(this)[0].$el).find('[data-active-count]').html(event.activeIndex + 1);\r\n            }\r\n        },\r\n        beforeInit: paddingSwiper,\r\n        resize: paddingSwiper,\r\n        resizeObserver: false,\r\n    }\r\n}","class Image {\r\n\r\n    srcOriginal(src, size) {\r\n        if (src.indexOf('_') > -1) {\r\n            var filename = src.split('/'),\r\n                filename = filename[filename.length - 1],\r\n                src_size = filename.split('_'),\r\n                src_size = src_size[0];\r\n\r\n            return src.replace(src_size + '_', size ? size + '_' : '');\r\n        }\r\n\r\n        return src;\r\n    }\r\n\r\n    thumb(src, size) {\r\n        return this.srcOriginal(src, size);\r\n    }\r\n\r\n}\r\n\r\nexport default new Image();","import Image from \"../Image\";\r\n\r\nclass Navigate {\r\n\r\n    constructor(obj) {\r\n        this.elem = obj.elem;\r\n        this.elem.modal = this.elem.modal ? this.elem.modal : '[items-modal-photo]';\r\n        this.total = obj.total;\r\n        this.originalSize = obj.originalSize;\r\n        this.loadNext = obj.loadNext;\r\n\r\n        this.events();\r\n    }\r\n\r\n    setTotal(total) {\r\n        if (total) {\r\n            this.total = total;\r\n        }\r\n\r\n        $(this.elem.modal).find(this.elem.total).html(this.total);\r\n    }\r\n\r\n    setCurrent() {\r\n        $(this.elem.modal).find(this.elem.current).html(this.current);\r\n    }\r\n\r\n    loadNextItems(callback) {\r\n        if ($(this.elem.item).eq(this.current).length == 0 && this.loadNext) {\r\n            this.loadNext(() => {\r\n                callback();\r\n            });\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    setImage(callback) {\r\n        this.loadNextItems(() => {\r\n            var next = $('[data-preload=\"next\"]'),\r\n                prev = $('[data-preload=\"prev\"]'),\r\n                image = $(this.elem.image + ' [src]:eq(1)');\r\n\r\n            if (\r\n                (next.length == 0 && this.way == 'next') ||\r\n                (prev.length == 0 && this.way == 'prev')\r\n            ) {\r\n                callback();\r\n                return false;\r\n            }\r\n\r\n            //  DOM\r\n            if (this.way == 'next') {\r\n                next.removeAttr('data-preload');\r\n                prev.remove();\r\n                image.attr('data-preload', 'prev');\r\n            } else if (this.way == 'prev') {\r\n                prev.removeAttr('data-preload');\r\n                next.remove();\r\n                image.attr('data-preload', 'next');\r\n            }\r\n\r\n            //   \r\n            image.animate({\r\n                opacity: 0\r\n            }, 500, () => {\r\n                image.hide();\r\n\r\n                if (this.way == 'next') {\r\n                    next.show().css('opacity', 0).animate({\r\n                        opacity: 1\r\n                    }, 500);\r\n                } else if (this.way == 'prev') {\r\n                    prev.show().css('opacity', 0).animate({\r\n                        opacity: 1\r\n                    }, 500);\r\n                }\r\n            });\r\n\r\n            callback();\r\n        });\r\n    }\r\n\r\n    getIndexSrc(index) {\r\n        var img = $(this.elem.item + ':eq(' + index + ') [src]');\r\n        return img.length ? Image.srcOriginal(img.attr('src'), this.originalSize) : null;\r\n    }\r\n\r\n    events() {\r\n        $(document)\r\n            .on('click', this.elem.item, (e) => {\r\n                this.open(e);\r\n            })\r\n            .on('click', this.elem.btn.next, () => {\r\n                this.next();\r\n            })\r\n            .on('click', this.elem.btn.prev, () => {\r\n                this.prev();\r\n            });\r\n    }\r\n\r\n    open(e) {\r\n        this.current = $(e.currentTarget).index() + 1;\r\n        this.setCurrent();\r\n        this.setTotal();\r\n        setTimeout(() => {\r\n            this.preload();\r\n        }, 400);\r\n    }\r\n\r\n    next() {\r\n        if (this.current < this.total) {\r\n            this.current++;\r\n\r\n            this.way = 'next';\r\n            this.afterChange();\r\n        }\r\n    }\r\n\r\n    prev() {\r\n        if (this.current > 1) {\r\n            this.current--;\r\n\r\n            this.way = 'prev';\r\n            this.afterChange();\r\n        }\r\n    }\r\n\r\n    afterChange() {\r\n        this.setImage(() => {\r\n            this.preload();\r\n            this.setCurrent();\r\n        });\r\n    }\r\n\r\n    preload() {\r\n        var srcNext = this.getIndexSrc(this.current),\r\n            srcCurrent = this.getIndexSrc(this.current - 1),\r\n            srcPrev = this.getIndexSrc(this.current - 2);\r\n\r\n        if (srcNext && $('[data-preload=\"next\"]').length == 0) {\r\n            $(this.elem.image).append('<img style=\"display: none\" data-preload=\"next\" src=\"' + srcNext + '\">');\r\n        }\r\n\r\n        if (srcPrev && $('[data-preload=\"prev\"]').length == 0) {\r\n            $(this.elem.image).prepend('<img style=\"display: none\" data-preload=\"prev\" src=\"' + srcPrev + '\">');\r\n        }\r\n\r\n        $(this.elem.modal + ' [attr=\"href:original\"]').attr('href', srcCurrent);\r\n    }\r\n\r\n}\r\n\r\nexport default Navigate;","import PhotoNavigate from '../../class/Photo/Navigate';\r\n\r\nvar PhotoNavigateModel = null;\r\n\r\nconst navigate = (response) => {\r\n    if (PhotoNavigateModel === null) {\r\n        PhotoNavigateModel = new PhotoNavigate({\r\n            total: response.total,\r\n            elem: {\r\n                btn: {\r\n                    next: '[data-photo-next]',\r\n                    prev: '[data-photo-prev]'\r\n                },\r\n                total: '[data-all-count]',\r\n                current: '[data-active-count]',\r\n                item: '[items-list-photo] [items-html-photo]',\r\n                image: '[items-modal-photo] [data-html=\"image\"]'\r\n            },\r\n            loadNext: (callback) => {\r\n                items.loadNextData(items.model['photo'], () => {\r\n                    callback();\r\n                });\r\n            }\r\n        });\r\n    } else {\r\n        PhotoNavigateModel.setTotal(response.total);\r\n    }\r\n}\r\n\r\nexport default navigate;","export default (html, data) => {\r\n    return html.html('<img src=\"' + data.src + '\">');\r\n}","import Image from '../../class/Image';\r\n\r\nexport default {\r\n    data: function (id, callback) {\r\n        var src = $('[items-html-photo=\"' + id + '\"] [src]').attr('src'),\r\n            src = Image.srcOriginal(src);\r\n\r\n        callback({\r\n            src: src\r\n        });\r\n    }\r\n}","var Masonry = require('masonry-layout');\r\n\r\nconst msnry = new Masonry(document.querySelector('[items-list-photo]'), {\r\n    itemSelector: '[items-html-photo]',\r\n    transitionDuration: 0,\r\n    gutter: 20\r\n});\r\n\r\n$(document).on('webp.gocanas', () => {\r\n    msnry.reloadItems();\r\n    msnry.layout();\r\n});\r\n\r\nexport default msnry;","var imagesLoaded = require('imagesloaded');\r\n\r\nexport default (msnry) => {\r\n    $('[items-preloader-photo]').show();\r\n\r\n    imagesLoaded(document.querySelector('[items-list-photo]')).on('always', () => {\r\n        msnry.reloadItems();\r\n        msnry.layout();\r\n\r\n        $('[items-list-photo]').css('opacity', 1);\r\n        $('[items-preloader-photo]').hide();\r\n    });\r\n}","import photoNavigate from '../photos/navigate';\r\nimport photoHtml from '../photos/html';\r\nimport photoModal from '../photos/modal';\r\nimport photoMasonry from '../photos/masonry';\r\nimport photoLoaded from '../photos/photoLoaded';\r\n\r\nZoneObject.create('.section-photos', {\r\n    run: () => {\r\n        items.create({\r\n            name: 'photo',\r\n            first_load: true,\r\n            html: photoHtml,\r\n            modal: photoModal,\r\n            onPrint: (response) => {\r\n                photoNavigate(response);\r\n                photoLoaded(photoMasonry);\r\n            }\r\n        });\r\n    }\r\n});","import Swiper from 'swiper/bundle';\r\n\r\nimport '../block/animation';\r\nimport '../block/sliderCursor';\r\nimport '../../../../js-modules/cursorStatus';\r\nimport options from '../block/swiperOptions';\r\nimport '../block/award';\r\nrequire('../../../../js-modules/modalVideoStop');\r\nimport './index/photos';\r\n\r\nwindow.index = {\r\n    init: function() {\r\n        index.swipers();\r\n        index.parallax();\r\n        index.projectContainer();\r\n        $(window).on('resize', () => {\r\n            index.projectContainer();\r\n        });\r\n    },\r\n\r\n    swipers: function() {\r\n\r\n        ZoneObject.create('.section-jury', {\r\n            run: () => {\r\n                // \r\n                new Swiper('.swiper-jury', $.extend(options, {\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 16,\r\n                    breakpoints: {\r\n                        768: {\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('.section-expert', {\r\n            run: () => {\r\n                // \r\n                new Swiper('.swiper-expert', $.extend(options, {\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 16,\r\n                    breakpoints: {\r\n                        768: {\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('.section-incards', {\r\n            run: () => {\r\n                //   \r\n                new Swiper('.swiper-incards', $.extend(options, {\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 20,\r\n                    breakpoints: {\r\n                        768: {\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('.section-industries', {\r\n            run: () => {\r\n                //   \r\n                new Swiper('.swiper-project', $.extend(options, {\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 20,\r\n                    breakpoints: {\r\n                        1200: {\r\n                            enabled: false,\r\n                            noSwiping: false,\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        },\r\n                        768: {\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        },\r\n                        0: {\r\n                            init: false,\r\n                        },\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('.section-step', {\r\n            run: () => {\r\n                //   \r\n                new Swiper('.swiper-step', $.extend(options, {\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 20,\r\n                    breakpoints: {\r\n                        768: {\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n\r\n        ZoneObject.create('.section-service', {\r\n            run: () => {\r\n                //  \r\n                new Swiper('.swiper-eco', $.extend(options, {\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 0,\r\n                    breakpoints: {\r\n                        768: {\r\n                            slidesPerView: 'auto',\r\n                            spaceBetween: 20\r\n                        },\r\n                        320: {\r\n                            spaceBetween: 20\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        });\r\n    },\r\n\r\n    parallax: function() {\r\n        if ($(window).width() >= 1200) {\r\n            var timer = false;\r\n\r\n            $('.header, .section-main, .section-cta').on('mousemove', function(e) {\r\n                if (!timer) {\r\n                    timer = setTimeout(function() {\r\n                        var x = e.clientX / window.innerWidth,\r\n                            y = e.clientY / window.innerHeight;\r\n\r\n                        $('#postmarks svg > g > g:eq(0)').css('transform', 'translate(-' + x * 9 + 'px, -' + y * 9 + 'px)');\r\n                        $('#postmarks svg > g > g:eq(1)').css('transform', 'translate(-' + x * 21 + 'px, -' + y * 21 + 'px)');\r\n                        $('#postmarks svg > g > g:eq(2)').css('transform', 'translate(-' + x * 13 + 'px, -' + y * 13 + 'px)');\r\n                        $('#postmarks svg > g > g:eq(3)').css('transform', 'translate(-' + x * 28 + 'px, -' + y * 28 + 'px)');\r\n                        $('#postmarks svg > g > g:eq(4)').css('transform', 'translate(-' + x * 18 + 'px, -' + y * 18 + 'px)');\r\n\r\n                        // change colors\r\n\r\n                        timer = false;\r\n                    }, 12);\r\n                }\r\n            });\r\n\r\n            var top_old = 0;\r\n\r\n            $(window).on('scroll', function() {\r\n                var top_new = $(window).scrollTop() > 200 ? 65 : 0;\r\n\r\n                if (top_new != top_old) {\r\n                    top_old = top_new;\r\n                    $('#postmarks').stop().animate({\r\n                        top: top_new\r\n                    }, 250, \"swing\");\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    projectContainer: function() {\r\n        if ($(window).width() > 1200) {\r\n            $('.industry__illustrate').css('right', $('.container').offset().left + 15);\r\n        } else {\r\n            $('.industry__illustrate').css('right', 0);\r\n        }\r\n    }\r\n}\r\n\r\n$(index.init)"],"names":["window","cursorStatus","timer","isLeftHalf_old","hoverElem","mousemoveHref","event","options","$","cursor","hide","document","elementFromPoint","clientX","clientY","tagName","show","create","elem","height","width","elemMouseMove","this_elem","on","this","off","setTimeout","bodyMouseMove","css","top","left","changeClass","elemHover","isMouseOver","pageY","removeClass","addClass","elemClick","bodyTriggerMousemoveTimer","bodyTriggerMousemove","eventClick","clearTimeout","Event","pageX","trigger","elemClickTimer","click","eq","isMouseOverI","elemHoverIndex","hover","hasClass","attr","isLeftHalf","cursor_color","document_half","instances","matchers","defaultOptions","precision","elapse","defer","push","source","RegExp","join","DIRECTIVE_KEY_MAP","Y","m","n","d","w","W","H","M","S","D","I","N","T","pluralize","format","count","plural","singular","replace","split","length","Math","abs","Countdown","el","finalDate","$el","interval","offset","extend","instanceNumber","data","setFinalDate","start","prototype","clearInterval","self","update","setInterval","call","stop","dispatchEvent","toggle","pause","resume","remove","countdownInstance","value","dateString","Date","String","match","Number","Error","parseDateString","closest","newTotalSecsLeft","hasEventsAttached","undefined","_data","now","getTime","ceil","totalSecsLeft","elapsed","seconds","minutes","floor","hours","days","daysToWeek","daysToMonth","weeks","weeksToMonth","months","years","getFullYear","totalDays","totalHours","totalMinutes","totalSeconds","eventName","offsetObject","strftime","sanitize","directives","i","len","directive","regexp","toString","modifier","hasOwnProperty","fn","countdown","argumentsArray","Array","slice","arguments","each","instance","method","apply","error","find","after","clone","require","ZoneObject","run","correctNumber","number","parseInt","datetime","html","num_word","factory","matchesMethod","ElemProto","Element","matches","matchesSelector","prefixes","selector","EvEmitter","proto","listener","events","_events","listeners","indexOf","once","onceEvents","_onceEvents","index","splice","emitEvent","args","onceListeners","allOff","utils","a","b","prop","num","div","arraySlice","makeArray","obj","isArray","removeFrom","ary","getParent","parentNode","body","getQueryElement","querySelector","handleEvent","type","filterFindElements","elems","ffElems","forEach","HTMLElement","childElems","querySelectorAll","debounceMethod","_class","methodName","threshold","timeoutName","timeout","_this","docReady","callback","readyState","addEventListener","toDashed","str","$1","$2","toLowerCase","console","htmlInit","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","jQuery","getAttribute","JSON","parse","className","getStyleSize","parseFloat","isNaN","noop","logError","message","measurements","measurementsLength","getZeroSize","size","innerWidth","innerHeight","outerWidth","outerHeight","getStyle","style","getComputedStyle","isBoxSizeOuter","isSetup","setup","createElement","padding","borderStyle","borderWidth","boxSizing","documentElement","appendChild","round","getSize","removeChild","nodeType","display","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","ImagesLoaded","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","bind","Object","images","addElementImages","nodeName","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","img","children","child","LoadingImage","Background","url","element","Image","reURL","exec","backgroundImage","addBackground","loadingImage","onProgress","image","progress","progressedCount","hasAnyBroken","complete","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","src","onload","unbindEvents","onerror","removeEventListener","makeJQueryPlugin","imagesLoaded","promise","svgNS","locationHref","initialDefaultFrame","subframeEnabled","idPrefix","expressionsPlugin","isSafari","test","navigator","userAgent","cachedColors","bmRnd","bmPow","pow","bmSqrt","sqrt","bmFloor","bmMax","max","bmMin","min","BMMath","ProjectInterface","propertyNames","random","val","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","styleDiv","position","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","r","g","f","p","q","t","RGBtoHSV","addSaturationToRGB","color","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","_cbs","callbacks","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","container","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","mode","lineCapEnum","lineJoinEnum","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","props","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","c","e","j","k","l","o","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","x","y","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","global","startdenom","significance","overflow","mask","ARC4","key","keylen","me","copy","flatten","depth","result","typ","mixkey","seed","smear","stringseed","charCodeAt","tostring","fromCharCode","shortseed","entropy","out","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","state","BezierFactory","ob","nm","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_mSampleValues","_precomputed","get","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","sources","destination","sourcePrototype","getDescriptor","object","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezierLengthPool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","timeToCall","id","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","singleShape","__used","stringify","ks","it","path","checkVersion","minimum","animVersionString","animVersion","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","pathData","paths","__converted","checkColors","iterateShapes","checkShapes","completeClosingShapes","cl","moduleOb","__complete","dataManager","getFontProperties","fontData","styles","fStyle","fWeight","weight","FontManager","emptyChar","combinedCharacters","surrogateModifiers","zeroWidthJoiner","setUpNode","font","family","setAttribute","fontFamily","node","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","familyArray","enabledFamilies","trimFontOptions","parent","createHelper","def","tHelper","fontProps","fFamily","textContent","fClass","getContext","Font","fonts","typekitLoaded","_warned","initTime","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","char","addChars","found","ch","addFonts","defs","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","origin","href","rel","sc","helper","cache","getCharData","warn","getFontByName","name","fName","measureText","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","endValue","quat","qx","qy","qz","qw","heading","attitude","bank","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","atan2","asin","constructor","values","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","frameRate","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","clonedPath","currentV","currentI","currentO","closerV","distance","newPosPerc","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","group","ix","reloadShapes","transformData","op","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","_i","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","canvas","ctx","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","intervalId","getBBox","_imageLoaded","createFootageData","assetLoader","load","footageData","_footageLoaded","ImagePreloaderFactory","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","destroy","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","append","setCacheType","elementHelper","featureSupport","maskType","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","formatResponse","xhr","response","responseText","errorCallback","XMLHttpRequest","responseType","err","onreadystatechange","status","open","send","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","add","rot","atan","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","shouldCombine","charAt","substr","newLineFlag","charData","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","divisor","poolFactory","initialLength","_create","_release","pooling","cloned","shapeCollection","markerParser","parsePayloadLines","payload","lines","keys","keysCount","trim","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","BaseRenderer","SVGRenderer","animationItem","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","context","dpr","wrapper","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","AudioElement","FootageElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","center","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","cWidth","cHeight","webkitPerspective","perspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","opFill","lc","lj","ml","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","createFilter","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","FootageInterface","getFootageData","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","set","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","transformedElementStyle","matrixValue","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","imageElem","perspectiveStyle","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","first","loadAnimation","params","setParams","setSpeed","setDirection","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","getElementsByTagName","resize","goToAndStop","isFrame","freeze","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","rendererSettings","autoloadSegments","initialSegment","lastIndexOf","fileName","wrapperAttributes","attributes","getNamedItem","prerender","completeData","loadNextSegment","shift","segmentPath","loadSegments","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","getMarkerData","markerName","marker","numValue","frameModifier","goToAndPlay","playSegments","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","fetch","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","defineProperty","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","frames","fps","timeToFrames","seedRandom","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","speed","delta","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","defineProperties","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","effects","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","compositions","_thisProjectFunction","createGroupInterface","groupInterface","createValueInterface","enabled","en","expressionProperty","effectsData","MaskInterface","_mask","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","assign","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TextExpressionSelectorPropFactory","getValueProxy","total","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","eff","lottie","setLocationHref","setSubframeRendering","setIDPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","__getFactory","version","scripts","myScript","root","Outlayer","Masonry","compatOptions","fitWidth","_resetLayout","_getMeasurement","measureColumns","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItem","firstItemElem","containerWidth","gutter","excess","_getOption","_getItemLayoutPosition","remainder","colSpan","colPosition","horizontalOrder","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","_manageStamp","stamp","stampSize","_getElementOffset","firstX","lastX","firstCol","lastCol","stampMaxY","_getContainerSize","_getContainerFitWidth","unusedCols","needsResizeLayout","previousWidth","isEmptyObj","docElemStyle","transitionProperty","transition","transitionEndEvent","WebkitTransition","vendorProperties","transitionDuration","transitionDelay","Item","layout","toDashedAll","_transn","ingProperties","clean","onEnd","elemStyle","getPosition","isOriginLeft","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","percentPosition","_transitionTo","curX","curY","didNotMove","setPosition","isTransitioning","transX","transY","transitionStyle","getTranslate","onTransitionEnd","isCleaning","goTo","_nonTransition","_removeStyles","_transition","from","enableTransition","transitionProps","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","stagger","delay","removeElem","reveal","isHidden","getHideRevealTransitionEndProperty","onRevealTransitionEnd","hiddenStyle","visibleStyle","styleProperty","optionStyle","onHideTransitionEnd","GUID","queryElement","$element","defaults","option","outlayerGUID","initLayout","originLeft","originTop","resizeContainer","subclass","Parent","SubClass","opts","oldOption","horizontal","layoutInstant","reloadItems","stamps","bindResize","_itemize","itemElems","_filterFindItemElements","itemSelector","getItemElements","map","_manageStamps","isInstant","_isLayoutInited","layoutItems","_init","_getItemsForLayout","_layoutItems","_postLayout","isIgnored","_emitCompleteOnItems","queue","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","getMilliseconds","_setContainerMeasure","measure","isWidth","elemSize","doneCount","tick","emitArgs","$event","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","boundingRect","getBoundingClientRect","_boundingRect","thisRect","isResizeBound","unbindResize","onresize","addItems","appended","prepended","previousItems","revealItemElements","getItems","hideItemElements","removeItems","removeData","Layout","bridget","msUnits","unit","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","getter","__esModule","definition","enumerable","isObject","ssrDocument","activeElement","blur","getElementById","createEvent","initEvent","importNode","location","hash","host","hostname","pathname","protocol","search","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getPropertyValue","matchMedia","win","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Class","Function","_wrapNativeSuper","_cache","Map","TypeError","has","Wrapper","writable","configurable","Dom7","_Array","subClass","superClass","ReferenceError","_assertThisInitialized","arrayFlat","res","arrayFilter","toCreate","tempParent","innerHTML","qsa","uniqueArray","arrayUnique","noTrigger","shortcut","_len","_key","Methods","classes","classNames","_el$classList","classList","_len2","_key2","_el$classList2","_len4","_key4","contains","toggleClass","_len3","_key3","attrs","attrName","removeAttr","_len5","_key5","eventType","targetSelector","capture","handleLiveEvent","eventData","dom7EventData","_parents","parents","_event","dom7LiveListeners","proxyListener","dom7Listeners","_len6","_key6","handlers","handler","dom7proxy","_len9","_key9","evt","detail","bubbles","cancelable","dataIndex","transitionEnd","dom","fireCallBack","includeMargins","_styles","_styles2","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","_prop","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","returnIndex","newChild","tempDiv","firstChild","prepend","next","nextElementSibling","nextAll","nextEls","_next","prev","previousElementSibling","prevAll","prevEls","_prev","_parent","foundElements","support","device","nextTick","axis","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isNode","noExtend","nextSource","keysArray","nextIndex","nextKey","desc","__swiper__","bindModuleMethods","subKey","classesToSelector","createElementIfNotDefined","$container","checkProps","auto","getSupport","touch","DocumentTouch","pointerEvents","PointerEvent","maxTouchPoints","observer","passiveListener","supportsPassive","gestures","calcSupport","getDevice","overrides","_temp","platform","ua","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","calcDevice","getBrowser","isEdge","isWebView","calcBrowser","swiper","createObserver","ResizeObserver","entries","newWidth","newHeight","_ref","contentBoxSize","contentRect","inlineSize","blockSize","resizeHandler","observe","removeObserver","unobserve","emit","orientationChangeHandler","resizeObserver","_extends","Observer","attach","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","childList","characterData","observers","observeParents","containerParents","observeSlideChildren","$wrapperEl","disconnect","onTouchStart","touchEventsData","touches","animating","preventInteractionOnTransition","originalEvent","$targetEl","touchEventsTarget","wrapperEl","isTouchEvent","which","button","isTouched","isMoved","noSwipingClass","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","targetTouches","currentY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","preventDefault","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","updateSize","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","onTouchMove","rtl","rtlTranslate","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","isVertical","maxTranslate","minTranslate","diffX","diffY","touchAngle","cssMode","touchMoveStopPropagation","nested","stopPropagation","loopFix","startTranslate","setTransition","allowMomentumBounce","grabCursor","allowSlideNext","allowSlidePrev","setGrabCursor","diff","touchRatio","currentTranslate","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","watchSlidesProgress","watchSlidesVisibility","updateActiveIndex","updateSlidesClasses","velocities","updateProgress","setTranslate","onTouchEnd","slidesGrid","snapGrid","touchEndTime","timeDiff","updateClickedSlide","lastClickTime","slideTo","activeIndex","slides","freeModeMomentum","lastMoveEvent","velocityEvent","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","momentumDuration","freeModeMomentumRatio","momentumDistance","newPosition","afterBouncePosition","needsLoopFix","doBounce","bounceAmount","freeModeMomentumBounceRatio","freeModeMomentumBounce","centeredSlides","freeModeSticky","nextSlide","moveDistance","currentSlideSize","slidesSizesGrid","slideToClosest","transitionStart","longSwipesMs","stopIndex","groupSize","slidesPerGroupSkip","slidesPerGroup","_increment","ratio","increment","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","breakpoints","setBreakpoint","updateSlides","slidesPerView","isEnd","isBeginning","running","paused","watchOverflow","checkOverflow","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","previousTranslate","scrollWidth","translatesDiff","dummyEventAttached","dummyEventListener","initialSlide","updateOnWindowResize","autoHeight","setWrapperSize","virtualTranslate","breakpointsBase","spaceBetween","slidesPerColumn","slidesPerColumnFill","centeredSlidesBounds","slidesOffsetBefore","slidesOffsetAfter","normalizeSlideIndex","centerInsufficientSlides","roundLengths","simulateTouch","uniqueNavElements","slideToClickedSlide","updateOnImagesReady","loopAdditionalSlides","loopedSlides","loopFillGroupWithBlank","loopPreventsSlide","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","_emitClasses","_defineProperties","descriptor","prototypes","modular","useParams","instanceParams","modules","moduleName","useModules","modulesParams","moduleParams","moduleEventName","eventsEmitter","priority","eventsListeners","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","eventHandler","eventsArray","clientWidth","clientHeight","getDirectionLabel","getDirectionPropertyValue","label","swiperSize","wrongRTL","isVirtual","virtual","previousSlidesLength","slidesLength","offsetBefore","offsetAfter","previousSnapGridLength","previousSlidesGridLength","slidePosition","prevSlideSize","slidesNumberEvenToRows","slideSize","virtualSize","newSlidesGrid","_$wrapperEl$css","_$wrapperEl$css2","slidesPerRow","numFullColumns","slide","newSlideOrderIndex","column","row","groupIndex","slideIndexInGroup","columnsInGroup","order","slideStyles","currentWebKitTransform","_slide$","swiperSlideSize","slidesGridItem","_i2","_slidesGridItem","_slides$filter$css","slideIndex","allSlidesSize","slideSizeValue","maxSnap","snap","_allSlidesSize","allSlidesOffset","snapIndex","updateSlidesOffset","updateAutoHeight","activeSlides","getSlideByIndex","visibleSlides","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","offsetCenter","visibleSlidesIndexes","slideProgress","slideBefore","slideAfter","multiplier","wasBeginning","wasEnd","activeSlide","realIndex","prevSlide","emitSlidesClasses","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","skip","slideFound","clickedSlide","clickedIndex","byController","translateTo","runCallbacks","translateBounds","internal","newTranslate","_wrapperEl$scrollTo","isH","scrollTo","behavior","onTranslateToWrapperTransitionEnd","initial","indexAsNumber","isFinite","normalizedTranslate","normalizedGird","normalizedGridNext","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","slideNext","_clientLeft","slidePrev","prevIndex","normalizedSnapGrid","prevSnap","slideReset","currentSnap","slidesPerViewDynamic","slideToIndex","loopCreate","blankSlidesNum","blankNode","prependSlides","appendSlides","cloneNode","loopDestroy","moving","isLocked","unsetGrabCursor","manipulation","appendSlide","prependSlide","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","attachEvents","touchEvents","move","passive","cancel","detachEvents","_swiper$loopedSlides","breakpoint","getBreakpoint","currentBreakpoint","breakpointOnlyParams","param","paramValue","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","emitContainerClasses","directionChanged","needsReLoop","changeDirection","isEnabled","disable","enable","containerEl","minRatio","sort","_points$i","wasLocked","lastSlidePosition","addClasses","resultClasses","suffixes","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","imagesToLoad","currentSrc","extendedDefaults","Swiper","swipers","newParams","moduleParamName","desktop","swiperParams","passedParams","touchEventsTouch","touchEventsDesktop","clickTimeout","Constructor","protoProps","staticProps","_proto","setProgress","getSlideClasses","slideEl","updates","spv","breakLoop","translateValue","newDirection","needUpdate","currentDirection","mount","mounted","getWrapperSelector","getWrapper","deleteInstance","cleanStyles","extendDefaults","newDefaults","installModule","use","prototypeGroup","protoMethod","Virtual","force","_swiper$params","_swiper$params$virtua","addSlidesBefore","addSlidesAfter","_swiper$virtual","previousFrom","previousTo","previousSlidesGrid","renderSlide","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","$slideEl","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","beforeInit","overwriteParams","Keyboard","handle","kc","keyCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","ctrlKey","metaKey","onlyInViewport","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","isSupported","implementation","hasFeature","isEventSupported","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","mousewheel","eventsTarget","releaseOnEdges","rtlFactor","forceToAxis","invert","positions","sensitivity","_newEvent","sign","ignoreWheelEvents","_recentWheelEvents","_prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","newEvent","raw","prevEvent","animateSlider","releaseScroll","thresholdDelta","thresholdTime","Navigation","toggleEl","disabled","disabledClass","_swiper$navigation","$nextEl","$prevEl","lockClass","onPrevClick","onNextClick","_swiper$navigation2","Pagination","pagination","paginationType","bullets","firstIndex","midIndex","dynamicBullets","bulletSize","dynamicMainBullets","dynamicBulletIndex","bulletActiveClass","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","currentClass","formatFractionCurrent","totalClass","formatFractionTotal","progressbarDirection","progressbarOpposite","progressbarFillClass","renderCustom","paginationHTML","numberOfBullets","renderBullet","bulletClass","bulletElement","renderFraction","renderProgressbar","clickable","clickableClass","modifierClass","progressbarOppositeClass","hiddenClass","Scrollbar","scrollbar","dragSize","trackSize","$dragEl","newSize","newPos","divider","moveDivider","getPointerPosition","setDragPosition","positionRatio","dragStartPos","onDragStart","dragTimeout","onDragMove","onDragEnd","snapOnRelease","enableDraggable","activeListener","disableDraggable","$swiperEl","dragClass","dragEl","draggable","Parallax","currentOpacity","currentScale","parallax","parallaxEl","$parallaxEl","parallaxDuration","Zoom","getDistanceBetweenTouches","onGestureStart","zoom","gesture","fakeGestureTouched","fakeGestureMoved","scaleStart","$imageEl","$imageWrapEl","containerClass","maxRatio","isScaling","onGestureChange","scaleMove","onGestureEnd","touchesStart","slideWidth","slideHeight","scaledWidth","scaledHeight","minX","maxX","minY","touchesCurrent","prevPositionX","prevPositionY","prevTime","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","in","touchX","touchY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomedSlideClass","toggleGestures","slideSelector","enableGestures","gesturesEnabled","disableGestures","activeListenerWithCapture","Lazy","loadInSlide","loadInDuplicate","$images","elementClass","loadedClass","loadingClass","$pictureEl","sourceEl","$source","preloaderClass","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","initialImageLoaded","loadPrevNext","loadPrevNextAmount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","scrollingElement","isWindow","scrollElementWidth","scrollElementHeight","scrollHandlerAttached","Controller","LinearSpline","guess","i3","binarySearch","array","interpolate","getInterpolateFunction","controller","spline","_setTranslate","controlledTranslate","controlled","control","setControlledTranslate","inverse","setControlledTransition","A11y","getRandomNumber","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","addElControls","controls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","a11y","lastSlideMessage","nextSlideMessage","firstSlideMessage","prevSlideMessage","notification","liveRegion","updateNavigation","updatePagination","bulletEl","$bulletEl","paginationBulletMessage","$containerEl","containerRoleDescriptionMessage","containerMessage","wrapperId","itemRoleDescriptionMessage","slideRole","ariaLabelMessage","slideLabelMessage","History","hashNavigation","getPathValues","scrollToSlide","setHistoryPopState","urlOverride","pathArray","URL","part","setHistory","slugify","includes","currentState","HashNavigation","onHashChange","newHash","setHash","watchState","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","waitForTransition","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","attachMouseEvents","pauseOnMouseEnter","detachMouseEvents","Fade","slideOpacity","fadeEffect","crossFade","eventTriggered","triggerEvents","Cube","$cubeShadowEl","cubeEffect","wrapperRotate","shadow","slideAngle","slideShadows","shadowBefore","shadowAfter","shadowOffset","shadowScale","shadowAngle","scale2","zFactor","Flip","flipEffect","limitRotation","zIndex","Coverflow","coverflowEffect","offsetMultiplier","translateZ","stretch","slideTransform","$shadowBeforeEl","$shadowAfterEl","Thumbs","thumbsParams","thumbs","SwiperClass","swiperCreated","thumbsContainerClass","onThumbClick","thumbsSwiper","slideThumbActiveClass","autoScrollOffset","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","thumbsToActivate","thumbActiveClass","multipleActiveThumbs","components","hideOnClick","toEdge","fromEdge","_swiper$navigation3","_swiper$navigation4","targetEl","activeIndexChange","snapIndexChange","slidesLengthChange","snapGridLengthChange","touchStart","touchEnd","doubleTap","slideChange","checkInView","loadOnTransitionStart","scroll","notificationClass","afterInit","paginationUpdate","beforeTransitionStart","sliderFirstMove","beforeDestroy","minWidth","lottie_spring","lottie_television","lottie_postmarks","Cursor","wrapSelector","wrap","onMousemove","wrapDefaultCursorOff","mousemove","bodyWidth2","cursorWidth","cursorHeight","WrapOffsetLeft","WrapCenter","inWrap","isLeft","getParams","setCursorPosition","setTimeoutTimer","SliderCursor","triggerMousemove","paddingTimer","paddingSwiper","filename","src_size","srcOriginal","Navigate","modal","originalSize","loadNext","loadNextItems","way","animate","btn","currentTarget","setCurrent","setTotal","preload","afterChange","setImage","srcNext","getIndexSrc","srcCurrent","srcPrev","PhotoNavigateModel","PhotoNavigate","loadNextData","model","msnry","first_load","photoHtml","photoModal","onPrint","photoNavigate","photoLoaded","photoMasonry","projectContainer","top_old","top_new"],"sourceRoot":""}